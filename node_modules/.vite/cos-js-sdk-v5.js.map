{
  "version": 3,
  "sources": ["../cos-js-sdk-v5/lib/md5.js", "../cos-js-sdk-v5/lib/crypto.js", "../xmldom/sax.js", "../xmldom/dom.js", "../xmldom/dom-parser.js", "../cos-js-sdk-v5/lib/xml2json.js", "../cos-js-sdk-v5/lib/json2xml.js", "../cos-js-sdk-v5/src/util.js", "../cos-js-sdk-v5/src/event.js", "../cos-js-sdk-v5/src/session.js", "../cos-js-sdk-v5/src/task.js", "../cos-js-sdk-v5/lib/request.js", "../cos-js-sdk-v5/src/base.js", "../cos-js-sdk-v5/src/async.js", "../cos-js-sdk-v5/src/advance.js", "../cos-js-sdk-v5/src/cos.js", "../cos-js-sdk-v5/index.js", "dep:cos-js-sdk-v5"],
  "sourcesContent": ["/* https://github.com/emn178/js-md5 */\n(function () {\n    'use strict';\n\n    var ERROR = 'input is invalid type';\n    var WINDOW = typeof window === 'object';\n    var root = WINDOW ? window : {};\n    if (root.JS_MD5_NO_WINDOW) {\n        WINDOW = false;\n    }\n    var WEB_WORKER = !WINDOW && typeof self === 'object';\n    var NODE_JS = !root.JS_MD5_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n    if (NODE_JS) {\n        root = global;\n    } else if (WEB_WORKER) {\n        root = self;\n    }\n    var COMMON_JS = !root.JS_MD5_NO_COMMON_JS && typeof module === 'object' && module.exports;\n    var AMD = typeof define === 'function' && define.amd;\n    var ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n    var HEX_CHARS = '0123456789abcdef'.split('');\n    var EXTRA = [128, 32768, 8388608, -2147483648];\n    var SHIFT = [0, 8, 16, 24];\n    var OUTPUT_TYPES = ['hex', 'array', 'digest', 'buffer', 'arrayBuffer', 'base64'];\n    var BASE64_ENCODE_CHAR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n    var blocks = [], buffer8;\n    if (ARRAY_BUFFER) {\n        var buffer = new ArrayBuffer(68);\n        buffer8 = new Uint8Array(buffer);\n        blocks = new Uint32Array(buffer);\n    }\n\n    if (root.JS_MD5_NO_NODE_JS || !Array.isArray) {\n        Array.isArray = function (obj) {\n            return Object.prototype.toString.call(obj) === '[object Array]';\n        };\n    }\n\n    if (ARRAY_BUFFER && (root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n        ArrayBuffer.isView = function (obj) {\n            return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n        };\n    }\n\n    /**\n     * @method hex\n     * @memberof md5\n     * @description Output hash as hex string\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {String} Hex string\n     * @example\n     * md5.hex('The quick brown fox jumps over the lazy dog');\n     * // equal to\n     * md5('The quick brown fox jumps over the lazy dog');\n     */\n    /**\n     * @method digest\n     * @memberof md5\n     * @description Output hash as bytes array\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {Array} Bytes array\n     * @example\n     * md5.digest('The quick brown fox jumps over the lazy dog');\n     */\n    /**\n     * @method array\n     * @memberof md5\n     * @description Output hash as bytes array\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {Array} Bytes array\n     * @example\n     * md5.array('The quick brown fox jumps over the lazy dog');\n     */\n    /**\n     * @method arrayBuffer\n     * @memberof md5\n     * @description Output hash as ArrayBuffer\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {ArrayBuffer} ArrayBuffer\n     * @example\n     * md5.arrayBuffer('The quick brown fox jumps over the lazy dog');\n     */\n    /**\n     * @method buffer\n     * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\n     * @memberof md5\n     * @description Output hash as ArrayBuffer\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {ArrayBuffer} ArrayBuffer\n     * @example\n     * md5.buffer('The quick brown fox jumps over the lazy dog');\n     */\n    /**\n     * @method base64\n     * @memberof md5\n     * @description Output hash as base64 string\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {String} base64 string\n     * @example\n     * md5.base64('The quick brown fox jumps over the lazy dog');\n     */\n    var createOutputMethod = function (outputType) {\n        return function (message, isBinStr) {\n            return new Md5(true).update(message, isBinStr)[outputType]();\n        };\n    };\n\n    /**\n     * @method create\n     * @memberof md5\n     * @description Create Md5 object\n     * @returns {Md5} Md5 object.\n     * @example\n     * var hash = md5.create();\n     */\n    /**\n     * @method update\n     * @memberof md5\n     * @description Create and update Md5 object\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {Md5} Md5 object.\n     * @example\n     * var hash = md5.update('The quick brown fox jumps over the lazy dog');\n     * // equal to\n     * var hash = md5.create();\n     * hash.update('The quick brown fox jumps over the lazy dog');\n     */\n    var createMethod = function () {\n        var method = createOutputMethod('hex');\n        if (NODE_JS) {\n            method = nodeWrap(method);\n        }\n        method.getCtx = method.create = function () {\n            return new Md5();\n        };\n        method.update = function (message) {\n            return method.create().update(message);\n        };\n        for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n            var type = OUTPUT_TYPES[i];\n            method[type] = createOutputMethod(type);\n        }\n        return method;\n    };\n\n    var nodeWrap = function (method) {\n        var crypto = eval(\"require('crypto')\");\n        var Buffer = eval(\"require('buffer').Buffer\");\n        var nodeMethod = function (message) {\n            if (typeof message === 'string') {\n                return crypto.createHash('md5').update(message, 'utf8').digest('hex');\n            } else {\n                if (message === null || message === undefined) {\n                    throw ERROR;\n                } else if (message.constructor === ArrayBuffer) {\n                    message = new Uint8Array(message);\n                }\n            }\n            if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n                message.constructor === Buffer) {\n                return crypto.createHash('md5').update(new Buffer(message)).digest('hex');\n            } else {\n                return method(message);\n            }\n        };\n        return nodeMethod;\n    };\n\n    /**\n     * Md5 class\n     * @class Md5\n     * @description This is internal class.\n     * @see {@link md5.create}\n     */\n    function Md5(sharedMemory) {\n        if (sharedMemory) {\n            blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n                blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n                    blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n                        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n            this.blocks = blocks;\n            this.buffer8 = buffer8;\n        } else {\n            if (ARRAY_BUFFER) {\n                var buffer = new ArrayBuffer(68);\n                this.buffer8 = new Uint8Array(buffer);\n                this.blocks = new Uint32Array(buffer);\n            } else {\n                this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n            }\n        }\n        this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = this.hBytes = 0;\n        this.finalized = this.hashed = false;\n        this.first = true;\n    }\n\n    /**\n     * @method update\n     * @memberof Md5\n     * @instance\n     * @description Update hash\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {Md5} Md5 object.\n     * @see {@link md5.update}\n     */\n    Md5.prototype.update = function (message, isBinStr) {\n        if (this.finalized) {\n            return;\n        }\n\n        var code, index = 0, i, length = message.length, blocks = this.blocks;\n        var buffer8 = this.buffer8;\n\n        while (index < length) {\n            if (this.hashed) {\n                this.hashed = false;\n                blocks[0] = blocks[16];\n                blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n                    blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n                        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n                            blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n            }\n\n            if (ARRAY_BUFFER) {\n                for (i = this.start; index < length && i < 64; ++index) {\n                    code = message.charCodeAt(index);\n                    if (isBinStr || code < 0x80) {\n                        buffer8[i++] = code;\n                    } else if (code < 0x800) {\n                        buffer8[i++] = 0xc0 | (code >> 6);\n                        buffer8[i++] = 0x80 | (code & 0x3f);\n                    } else if (code < 0xd800 || code >= 0xe000) {\n                        buffer8[i++] = 0xe0 | (code >> 12);\n                        buffer8[i++] = 0x80 | ((code >> 6) & 0x3f);\n                        buffer8[i++] = 0x80 | (code & 0x3f);\n                    } else {\n                        code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n                        buffer8[i++] = 0xf0 | (code >> 18);\n                        buffer8[i++] = 0x80 | ((code >> 12) & 0x3f);\n                        buffer8[i++] = 0x80 | ((code >> 6) & 0x3f);\n                        buffer8[i++] = 0x80 | (code & 0x3f);\n                    }\n                }\n            } else {\n                for (i = this.start; index < length && i < 64; ++index) {\n                    code = message.charCodeAt(index);\n                    if (isBinStr || code < 0x80) {\n                        blocks[i >> 2] |= code << SHIFT[i++ & 3];\n                    } else if (code < 0x800) {\n                        blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n                    } else if (code < 0xd800 || code >= 0xe000) {\n                        blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n                    } else {\n                        code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n                        blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n                    }\n                }\n            }\n            this.lastByteIndex = i;\n            this.bytes += i - this.start;\n            if (i >= 64) {\n                this.start = i - 64;\n                this.hash();\n                this.hashed = true;\n            } else {\n                this.start = i;\n            }\n        }\n        if (this.bytes > 4294967295) {\n            this.hBytes += this.bytes / 4294967296 << 0;\n            this.bytes = this.bytes % 4294967296;\n        }\n        return this;\n    };\n\n    Md5.prototype.finalize = function () {\n        if (this.finalized) {\n            return;\n        }\n        this.finalized = true;\n        var blocks = this.blocks, i = this.lastByteIndex;\n        blocks[i >> 2] |= EXTRA[i & 3];\n        if (i >= 56) {\n            if (!this.hashed) {\n                this.hash();\n            }\n            blocks[0] = blocks[16];\n            blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n                blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n                    blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n                        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n        }\n        blocks[14] = this.bytes << 3;\n        blocks[15] = this.hBytes << 3 | this.bytes >>> 29;\n        this.hash();\n    };\n\n    Md5.prototype.hash = function () {\n        var a, b, c, d, bc, da, blocks = this.blocks;\n\n        if (this.first) {\n            a = blocks[0] - 680876937;\n            a = (a << 7 | a >>> 25) - 271733879 << 0;\n            d = (-1732584194 ^ a & 2004318071) + blocks[1] - 117830708;\n            d = (d << 12 | d >>> 20) + a << 0;\n            c = (-271733879 ^ (d & (a ^ -271733879))) + blocks[2] - 1126478375;\n            c = (c << 17 | c >>> 15) + d << 0;\n            b = (a ^ (c & (d ^ a))) + blocks[3] - 1316259209;\n            b = (b << 22 | b >>> 10) + c << 0;\n        } else {\n            a = this.h0;\n            b = this.h1;\n            c = this.h2;\n            d = this.h3;\n            a += (d ^ (b & (c ^ d))) + blocks[0] - 680876936;\n            a = (a << 7 | a >>> 25) + b << 0;\n            d += (c ^ (a & (b ^ c))) + blocks[1] - 389564586;\n            d = (d << 12 | d >>> 20) + a << 0;\n            c += (b ^ (d & (a ^ b))) + blocks[2] + 606105819;\n            c = (c << 17 | c >>> 15) + d << 0;\n            b += (a ^ (c & (d ^ a))) + blocks[3] - 1044525330;\n            b = (b << 22 | b >>> 10) + c << 0;\n        }\n\n        a += (d ^ (b & (c ^ d))) + blocks[4] - 176418897;\n        a = (a << 7 | a >>> 25) + b << 0;\n        d += (c ^ (a & (b ^ c))) + blocks[5] + 1200080426;\n        d = (d << 12 | d >>> 20) + a << 0;\n        c += (b ^ (d & (a ^ b))) + blocks[6] - 1473231341;\n        c = (c << 17 | c >>> 15) + d << 0;\n        b += (a ^ (c & (d ^ a))) + blocks[7] - 45705983;\n        b = (b << 22 | b >>> 10) + c << 0;\n        a += (d ^ (b & (c ^ d))) + blocks[8] + 1770035416;\n        a = (a << 7 | a >>> 25) + b << 0;\n        d += (c ^ (a & (b ^ c))) + blocks[9] - 1958414417;\n        d = (d << 12 | d >>> 20) + a << 0;\n        c += (b ^ (d & (a ^ b))) + blocks[10] - 42063;\n        c = (c << 17 | c >>> 15) + d << 0;\n        b += (a ^ (c & (d ^ a))) + blocks[11] - 1990404162;\n        b = (b << 22 | b >>> 10) + c << 0;\n        a += (d ^ (b & (c ^ d))) + blocks[12] + 1804603682;\n        a = (a << 7 | a >>> 25) + b << 0;\n        d += (c ^ (a & (b ^ c))) + blocks[13] - 40341101;\n        d = (d << 12 | d >>> 20) + a << 0;\n        c += (b ^ (d & (a ^ b))) + blocks[14] - 1502002290;\n        c = (c << 17 | c >>> 15) + d << 0;\n        b += (a ^ (c & (d ^ a))) + blocks[15] + 1236535329;\n        b = (b << 22 | b >>> 10) + c << 0;\n        a += (c ^ (d & (b ^ c))) + blocks[1] - 165796510;\n        a = (a << 5 | a >>> 27) + b << 0;\n        d += (b ^ (c & (a ^ b))) + blocks[6] - 1069501632;\n        d = (d << 9 | d >>> 23) + a << 0;\n        c += (a ^ (b & (d ^ a))) + blocks[11] + 643717713;\n        c = (c << 14 | c >>> 18) + d << 0;\n        b += (d ^ (a & (c ^ d))) + blocks[0] - 373897302;\n        b = (b << 20 | b >>> 12) + c << 0;\n        a += (c ^ (d & (b ^ c))) + blocks[5] - 701558691;\n        a = (a << 5 | a >>> 27) + b << 0;\n        d += (b ^ (c & (a ^ b))) + blocks[10] + 38016083;\n        d = (d << 9 | d >>> 23) + a << 0;\n        c += (a ^ (b & (d ^ a))) + blocks[15] - 660478335;\n        c = (c << 14 | c >>> 18) + d << 0;\n        b += (d ^ (a & (c ^ d))) + blocks[4] - 405537848;\n        b = (b << 20 | b >>> 12) + c << 0;\n        a += (c ^ (d & (b ^ c))) + blocks[9] + 568446438;\n        a = (a << 5 | a >>> 27) + b << 0;\n        d += (b ^ (c & (a ^ b))) + blocks[14] - 1019803690;\n        d = (d << 9 | d >>> 23) + a << 0;\n        c += (a ^ (b & (d ^ a))) + blocks[3] - 187363961;\n        c = (c << 14 | c >>> 18) + d << 0;\n        b += (d ^ (a & (c ^ d))) + blocks[8] + 1163531501;\n        b = (b << 20 | b >>> 12) + c << 0;\n        a += (c ^ (d & (b ^ c))) + blocks[13] - 1444681467;\n        a = (a << 5 | a >>> 27) + b << 0;\n        d += (b ^ (c & (a ^ b))) + blocks[2] - 51403784;\n        d = (d << 9 | d >>> 23) + a << 0;\n        c += (a ^ (b & (d ^ a))) + blocks[7] + 1735328473;\n        c = (c << 14 | c >>> 18) + d << 0;\n        b += (d ^ (a & (c ^ d))) + blocks[12] - 1926607734;\n        b = (b << 20 | b >>> 12) + c << 0;\n        bc = b ^ c;\n        a += (bc ^ d) + blocks[5] - 378558;\n        a = (a << 4 | a >>> 28) + b << 0;\n        d += (bc ^ a) + blocks[8] - 2022574463;\n        d = (d << 11 | d >>> 21) + a << 0;\n        da = d ^ a;\n        c += (da ^ b) + blocks[11] + 1839030562;\n        c = (c << 16 | c >>> 16) + d << 0;\n        b += (da ^ c) + blocks[14] - 35309556;\n        b = (b << 23 | b >>> 9) + c << 0;\n        bc = b ^ c;\n        a += (bc ^ d) + blocks[1] - 1530992060;\n        a = (a << 4 | a >>> 28) + b << 0;\n        d += (bc ^ a) + blocks[4] + 1272893353;\n        d = (d << 11 | d >>> 21) + a << 0;\n        da = d ^ a;\n        c += (da ^ b) + blocks[7] - 155497632;\n        c = (c << 16 | c >>> 16) + d << 0;\n        b += (da ^ c) + blocks[10] - 1094730640;\n        b = (b << 23 | b >>> 9) + c << 0;\n        bc = b ^ c;\n        a += (bc ^ d) + blocks[13] + 681279174;\n        a = (a << 4 | a >>> 28) + b << 0;\n        d += (bc ^ a) + blocks[0] - 358537222;\n        d = (d << 11 | d >>> 21) + a << 0;\n        da = d ^ a;\n        c += (da ^ b) + blocks[3] - 722521979;\n        c = (c << 16 | c >>> 16) + d << 0;\n        b += (da ^ c) + blocks[6] + 76029189;\n        b = (b << 23 | b >>> 9) + c << 0;\n        bc = b ^ c;\n        a += (bc ^ d) + blocks[9] - 640364487;\n        a = (a << 4 | a >>> 28) + b << 0;\n        d += (bc ^ a) + blocks[12] - 421815835;\n        d = (d << 11 | d >>> 21) + a << 0;\n        da = d ^ a;\n        c += (da ^ b) + blocks[15] + 530742520;\n        c = (c << 16 | c >>> 16) + d << 0;\n        b += (da ^ c) + blocks[2] - 995338651;\n        b = (b << 23 | b >>> 9) + c << 0;\n        a += (c ^ (b | ~d)) + blocks[0] - 198630844;\n        a = (a << 6 | a >>> 26) + b << 0;\n        d += (b ^ (a | ~c)) + blocks[7] + 1126891415;\n        d = (d << 10 | d >>> 22) + a << 0;\n        c += (a ^ (d | ~b)) + blocks[14] - 1416354905;\n        c = (c << 15 | c >>> 17) + d << 0;\n        b += (d ^ (c | ~a)) + blocks[5] - 57434055;\n        b = (b << 21 | b >>> 11) + c << 0;\n        a += (c ^ (b | ~d)) + blocks[12] + 1700485571;\n        a = (a << 6 | a >>> 26) + b << 0;\n        d += (b ^ (a | ~c)) + blocks[3] - 1894986606;\n        d = (d << 10 | d >>> 22) + a << 0;\n        c += (a ^ (d | ~b)) + blocks[10] - 1051523;\n        c = (c << 15 | c >>> 17) + d << 0;\n        b += (d ^ (c | ~a)) + blocks[1] - 2054922799;\n        b = (b << 21 | b >>> 11) + c << 0;\n        a += (c ^ (b | ~d)) + blocks[8] + 1873313359;\n        a = (a << 6 | a >>> 26) + b << 0;\n        d += (b ^ (a | ~c)) + blocks[15] - 30611744;\n        d = (d << 10 | d >>> 22) + a << 0;\n        c += (a ^ (d | ~b)) + blocks[6] - 1560198380;\n        c = (c << 15 | c >>> 17) + d << 0;\n        b += (d ^ (c | ~a)) + blocks[13] + 1309151649;\n        b = (b << 21 | b >>> 11) + c << 0;\n        a += (c ^ (b | ~d)) + blocks[4] - 145523070;\n        a = (a << 6 | a >>> 26) + b << 0;\n        d += (b ^ (a | ~c)) + blocks[11] - 1120210379;\n        d = (d << 10 | d >>> 22) + a << 0;\n        c += (a ^ (d | ~b)) + blocks[2] + 718787259;\n        c = (c << 15 | c >>> 17) + d << 0;\n        b += (d ^ (c | ~a)) + blocks[9] - 343485551;\n        b = (b << 21 | b >>> 11) + c << 0;\n\n        if (this.first) {\n            this.h0 = a + 1732584193 << 0;\n            this.h1 = b - 271733879 << 0;\n            this.h2 = c - 1732584194 << 0;\n            this.h3 = d + 271733878 << 0;\n            this.first = false;\n        } else {\n            this.h0 = this.h0 + a << 0;\n            this.h1 = this.h1 + b << 0;\n            this.h2 = this.h2 + c << 0;\n            this.h3 = this.h3 + d << 0;\n        }\n    };\n\n    /**\n     * @method hex\n     * @memberof Md5\n     * @instance\n     * @description Output hash as hex string\n     * @returns {String} Hex string\n     * @see {@link md5.hex}\n     * @example\n     * hash.hex();\n     */\n    Md5.prototype.hex = function () {\n        this.finalize();\n\n        var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3;\n\n        return HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n            HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n            HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n            HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n            HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n            HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n            HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n            HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n            HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n            HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n            HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n            HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n            HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n            HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n            HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n            HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F];\n    };\n\n    /**\n     * @method toString\n     * @memberof Md5\n     * @instance\n     * @description Output hash as hex string\n     * @returns {String} Hex string\n     * @see {@link md5.hex}\n     * @example\n     * hash.toString();\n     */\n    Md5.prototype.toString = Md5.prototype.hex;\n\n    /**\n     * @method digest\n     * @memberof Md5\n     * @instance\n     * @description Output hash as bytes array\n     * @returns {Array} Bytes array\n     * @see {@link md5.digest}\n     * @example\n     * hash.digest();\n     */\n    Md5.prototype.digest = function (format) {\n        if (format === 'hex') return this.hex();\n        this.finalize();\n\n        var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3;\n        var res = [\n            h0 & 0xFF, (h0 >> 8) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 24) & 0xFF,\n            h1 & 0xFF, (h1 >> 8) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 24) & 0xFF,\n            h2 & 0xFF, (h2 >> 8) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 24) & 0xFF,\n            h3 & 0xFF, (h3 >> 8) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 24) & 0xFF\n        ];\n        return res;\n    };\n\n    /**\n     * @method array\n     * @memberof Md5\n     * @instance\n     * @description Output hash as bytes array\n     * @returns {Array} Bytes array\n     * @see {@link md5.array}\n     * @example\n     * hash.array();\n     */\n    Md5.prototype.array = Md5.prototype.digest;\n\n    /**\n     * @method arrayBuffer\n     * @memberof Md5\n     * @instance\n     * @description Output hash as ArrayBuffer\n     * @returns {ArrayBuffer} ArrayBuffer\n     * @see {@link md5.arrayBuffer}\n     * @example\n     * hash.arrayBuffer();\n     */\n    Md5.prototype.arrayBuffer = function () {\n        this.finalize();\n\n        var buffer = new ArrayBuffer(16);\n        var blocks = new Uint32Array(buffer);\n        blocks[0] = this.h0;\n        blocks[1] = this.h1;\n        blocks[2] = this.h2;\n        blocks[3] = this.h3;\n        return buffer;\n    };\n\n    /**\n     * @method buffer\n     * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\n     * @memberof Md5\n     * @instance\n     * @description Output hash as ArrayBuffer\n     * @returns {ArrayBuffer} ArrayBuffer\n     * @see {@link md5.buffer}\n     * @example\n     * hash.buffer();\n     */\n    Md5.prototype.buffer = Md5.prototype.arrayBuffer;\n\n    /**\n     * @method base64\n     * @memberof Md5\n     * @instance\n     * @description Output hash as base64 string\n     * @returns {String} base64 string\n     * @see {@link md5.base64}\n     * @example\n     * hash.base64();\n     */\n    Md5.prototype.base64 = function () {\n        var v1, v2, v3, base64Str = '', bytes = this.array();\n        for (var i = 0; i < 15;) {\n            v1 = bytes[i++];\n            v2 = bytes[i++];\n            v3 = bytes[i++];\n            base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] +\n                BASE64_ENCODE_CHAR[(v1 << 4 | v2 >>> 4) & 63] +\n                BASE64_ENCODE_CHAR[(v2 << 2 | v3 >>> 6) & 63] +\n                BASE64_ENCODE_CHAR[v3 & 63];\n        }\n        v1 = bytes[i];\n        base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] +\n            BASE64_ENCODE_CHAR[(v1 << 4) & 63] +\n            '==';\n        return base64Str;\n    };\n\n    var exports = createMethod();\n\n    if (COMMON_JS) {\n        module.exports = exports;\n    } else {\n        /**\n         * @method md5\b\n         * @description Md5 hash function, export to global in browsers.\n         * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n         * @returns {String} md5 hashes\n         * @example\n         * md5(''); // d41d8cd98f00b204e9800998ecf8427e\n         * md5('The quick brown fox jumps over the lazy dog'); // 9e107d9d372bb6826bd81d3542a419d6\n         * md5('The quick brown fox jumps over the lazy dog.'); // e4d909c290d0fb1ca068ffaddf22cbd0\n         *\n         * // It also supports UTF-8 encoding\n         * md5('\u4E2D\u6587'); // a7bac2239fcdcb3a067903d8077c4a07\n         *\n         * // It also supports byte `Array`, `Uint8Array`, `ArrayBuffer`\n         * md5([]); // d41d8cd98f00b204e9800998ecf8427e\n         * md5(new Uint8Array([])); // d41d8cd98f00b204e9800998ecf8427e\n         */\n        root.md5 = exports;\n        if (AMD) {\n            define(function () {\n                return exports;\n            });\n        }\n    }\n})();\n", "/*\n CryptoJS v3.1.2\n code.google.com/p/crypto-js\n (c) 2009-2013 by Jeff Mott. All rights reserved.\n code.google.com/p/crypto-js/wiki/License\n */\nvar CryptoJS=CryptoJS||function(g,l){var e={},d=e.lib={},m=function(){},k=d.Base={extend:function(a){m.prototype=this;var c=new m;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\n        p=d.WordArray=k.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=l?c:4*a.length},toString:function(a){return(a||n).stringify(this)},concat:function(a){var c=this.words,q=a.words,f=this.sigBytes;a=a.sigBytes;this.clamp();if(f%4)for(var b=0;b<a;b++)c[f+b>>>2]|=(q[b>>>2]>>>24-8*(b%4)&255)<<24-8*((f+b)%4);else if(65535<q.length)for(b=0;b<a;b+=4)c[f+b>>>2]=q[b>>>2];else c.push.apply(c,q);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\n            32-8*(c%4);a.length=g.ceil(c/4)},clone:function(){var a=k.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],b=0;b<a;b+=4)c.push(4294967296*g.random()|0);return new p.init(c,a)}}),b=e.enc={},n=b.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++){var d=c[f>>>2]>>>24-8*(f%4)&255;b.push((d>>>4).toString(16));b.push((d&15).toString(16))}return b.join(\"\")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f+=2)b[f>>>3]|=parseInt(a.substr(f,\n                2),16)<<24-4*(f%8);return new p.init(b,c/2)}},j=b.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++)b.push(String.fromCharCode(c[f>>>2]>>>24-8*(f%4)&255));return b.join(\"\")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f++)b[f>>>2]|=(a.charCodeAt(f)&255)<<24-8*(f%4);return new p.init(b,c)}},h=b.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},\n        r=d.BufferedBlockAlgorithm=k.extend({reset:function(){this._data=new p.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=h.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,b=c.words,f=c.sigBytes,d=this.blockSize,e=f/(4*d),e=a?g.ceil(e):g.max((e|0)-this._minBufferSize,0);a=e*d;f=g.min(4*a,f);if(a){for(var k=0;k<a;k+=d)this._doProcessBlock(b,k);k=b.splice(0,a);c.sigBytes-=f}return new p.init(k,f)},clone:function(){var a=k.clone.call(this);\n            a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=r.extend({cfg:k.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){r.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,d){return(new a.init(d)).finalize(b)}},_createHmacHelper:function(a){return function(b,d){return(new s.HMAC.init(a,\n        d)).finalize(b)}}});var s=e.algo={};return e}(Math);\n(function(){var g=CryptoJS,l=g.lib,e=l.WordArray,d=l.Hasher,m=[],l=g.algo.SHA1=d.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,e){for(var b=this._hash.words,n=b[0],j=b[1],h=b[2],g=b[3],l=b[4],a=0;80>a;a++){if(16>a)m[a]=d[e+a]|0;else{var c=m[a-3]^m[a-8]^m[a-14]^m[a-16];m[a]=c<<1|c>>>31}c=(n<<5|n>>>27)+l+m[a];c=20>a?c+((j&h|~j&g)+1518500249):40>a?c+((j^h^g)+1859775393):60>a?c+((j&h|j&g|h&g)-1894007588):c+((j^h^\ng)-899497514);l=g;g=h;h=j<<30|j>>>2;j=n;n=c}b[0]=b[0]+n|0;b[1]=b[1]+j|0;b[2]=b[2]+h|0;b[3]=b[3]+g|0;b[4]=b[4]+l|0},_doFinalize:function(){var d=this._data,e=d.words,b=8*this._nDataBytes,g=8*d.sigBytes;e[g>>>5]|=128<<24-g%32;e[(g+64>>>9<<4)+14]=Math.floor(b/4294967296);e[(g+64>>>9<<4)+15]=b;d.sigBytes=4*e.length;this._process();return this._hash},clone:function(){var e=d.clone.call(this);e._hash=this._hash.clone();return e}});g.SHA1=d._createHelper(l);g.HmacSHA1=d._createHmacHelper(l)})();\n(function(){var g=CryptoJS,l=g.enc.Utf8;g.algo.HMAC=g.lib.Base.extend({init:function(e,d){e=this._hasher=new e.init;\"string\"==typeof d&&(d=l.parse(d));var g=e.blockSize,k=4*g;d.sigBytes>k&&(d=e.finalize(d));d.clamp();for(var p=this._oKey=d.clone(),b=this._iKey=d.clone(),n=p.words,j=b.words,h=0;h<g;h++)n[h]^=1549556828,j[h]^=909522486;p.sigBytes=b.sigBytes=k;this.reset()},reset:function(){var e=this._hasher;e.reset();e.update(this._iKey)},update:function(e){this._hasher.update(e);return this},finalize:function(e){var d=\n    this._hasher;e=d.finalize(e);d.reset();return d.finalize(this._oKey.clone().concat(e))}})})();\n\n\n(function () {\n    // Shortcuts\n    var C = CryptoJS;\n    var C_lib = C.lib;\n    var WordArray = C_lib.WordArray;\n    var C_enc = C.enc;\n\n    /**\n     * Base64 encoding strategy.\n     */\n    var Base64 = C_enc.Base64 = {\n        /**\n         * Converts a word array to a Base64 string.\n         *\n         * @param {WordArray} wordArray The word array.\n         *\n         * @return {string} The Base64 string.\n         *\n         * @static\n         *\n         * @example\n         *\n         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n         */\n        stringify: function (wordArray) {\n            // Shortcuts\n            var words = wordArray.words;\n            var sigBytes = wordArray.sigBytes;\n            var map = this._map;\n\n            // Clamp excess bits\n            wordArray.clamp();\n\n            // Convert\n            var base64Chars = [];\n            for (var i = 0; i < sigBytes; i += 3) {\n                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n                }\n            }\n\n            // Add padding\n            var paddingChar = map.charAt(64);\n            if (paddingChar) {\n                while (base64Chars.length % 4) {\n                    base64Chars.push(paddingChar);\n                }\n            }\n\n            return base64Chars.join('');\n        },\n\n        /**\n         * Converts a Base64 string to a word array.\n         *\n         * @param {string} base64Str The Base64 string.\n         *\n         * @return {WordArray} The word array.\n         *\n         * @static\n         *\n         * @example\n         *\n         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n         */\n        parse: function (base64Str) {\n            // Shortcuts\n            var base64StrLength = base64Str.length;\n            var map = this._map;\n\n            // Ignore padding\n            var paddingChar = map.charAt(64);\n            if (paddingChar) {\n                var paddingIndex = base64Str.indexOf(paddingChar);\n                if (paddingIndex != -1) {\n                    base64StrLength = paddingIndex;\n                }\n            }\n\n            // Convert\n            var words = [];\n            var nBytes = 0;\n            for (var i = 0; i < base64StrLength; i++) {\n                if (i % 4) {\n                    var bits1 = map.indexOf(base64Str.charAt(i - 1)) << ((i % 4) * 2);\n                    var bits2 = map.indexOf(base64Str.charAt(i)) >>> (6 - (i % 4) * 2);\n                    words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n                    nBytes++;\n                }\n            }\n\n            return WordArray.create(words, nBytes);\n        },\n\n        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n    };\n}());\n\nif(typeof module === 'object'){\n    module.exports = CryptoJS;\n}else{\n    window.CryptoJS = CryptoJS;\n}\n", "//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\r\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\r\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\r\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\r\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\r\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\r\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\r\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\r\n\r\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\r\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\r\nvar S_TAG = 0;//tag name offerring\r\nvar S_ATTR = 1;//attr name offerring \r\nvar S_ATTR_SPACE=2;//attr name end and space offer\r\nvar S_EQ = 3;//=space?\r\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\r\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\r\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\r\nvar S_TAG_CLOSE = 7;//closed el<el />\r\n\r\nfunction XMLReader(){\r\n\t\r\n}\r\n\r\nXMLReader.prototype = {\r\n\tparse:function(source,defaultNSMap,entityMap){\r\n\t\tvar domBuilder = this.domBuilder;\r\n\t\tdomBuilder.startDocument();\r\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\r\n\t\tparse(source,defaultNSMap,entityMap,\r\n\t\t\t\tdomBuilder,this.errorHandler);\r\n\t\tdomBuilder.endDocument();\r\n\t}\r\n}\r\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\r\n\tfunction fixedFromCharCode(code) {\r\n\t\t// String.prototype.fromCharCode does not supports\r\n\t\t// > 2 bytes unicode chars directly\r\n\t\tif (code > 0xffff) {\r\n\t\t\tcode -= 0x10000;\r\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\r\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\r\n\r\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\r\n\t\t} else {\r\n\t\t\treturn String.fromCharCode(code);\r\n\t\t}\r\n\t}\r\n\tfunction entityReplacer(a){\r\n\t\tvar k = a.slice(1,-1);\r\n\t\tif(k in entityMap){\r\n\t\t\treturn entityMap[k]; \r\n\t\t}else if(k.charAt(0) === '#'){\r\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\r\n\t\t}else{\r\n\t\t\terrorHandler.error('entity not found:'+a);\r\n\t\t\treturn a;\r\n\t\t}\r\n\t}\r\n\tfunction appendText(end){//has some bugs\r\n\t\tif(end>start){\r\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\tlocator&&position(start);\r\n\t\t\tdomBuilder.characters(xt,0,end-start);\r\n\t\t\tstart = end\r\n\t\t}\r\n\t}\r\n\tfunction position(p,m){\r\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\r\n\t\t\tlineStart = m.index;\r\n\t\t\tlineEnd = lineStart + m[0].length;\r\n\t\t\tlocator.lineNumber++;\r\n\t\t\t//console.log('line++:',locator,startPos,endPos)\r\n\t\t}\r\n\t\tlocator.columnNumber = p-lineStart+1;\r\n\t}\r\n\tvar lineStart = 0;\r\n\tvar lineEnd = 0;\r\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\r\n\tvar locator = domBuilder.locator;\r\n\t\r\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\r\n\tvar closeMap = {};\r\n\tvar start = 0;\r\n\twhile(true){\r\n\t\ttry{\r\n\t\t\tvar tagStart = source.indexOf('<',start);\r\n\t\t\tif(tagStart<0){\r\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\r\n\t\t\t\t\tvar doc = domBuilder.doc;\r\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\r\n\t    \t\t\tdoc.appendChild(text);\r\n\t    \t\t\tdomBuilder.currentElement = text;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(tagStart>start){\r\n\t\t\t\tappendText(tagStart);\r\n\t\t\t}\r\n\t\t\tswitch(source.charAt(tagStart+1)){\r\n\t\t\tcase '/':\r\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\r\n\t\t\t\tvar tagName = source.substring(tagStart+2,end);\r\n\t\t\t\tvar config = parseStack.pop();\r\n\t\t\t\tif(end<0){\r\n\t\t\t\t\t\r\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\r\n\t        \t\t//console.error('#@@@@@@'+tagName)\r\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\r\n\t        \t\tend = tagStart+1+tagName.length;\r\n\t        \t}else if(tagName.match(/\\s</)){\r\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\r\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\r\n\t        \t\tend = tagStart+1+tagName.length;\r\n\t\t\t\t}\r\n\t\t\t\t//console.error(parseStack.length,parseStack)\r\n\t\t\t\t//console.error(config);\r\n\t\t\t\tvar localNSMap = config.localNSMap;\r\n\t\t\t\tvar endMatch = config.tagName == tagName;\r\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\r\n\t\t        if(endIgnoreCaseMach){\r\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\r\n\t\t\t\t\tif(localNSMap){\r\n\t\t\t\t\t\tfor(var prefix in localNSMap){\r\n\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!endMatch){\r\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName );\r\n\t\t\t\t\t}\r\n\t\t        }else{\r\n\t\t        \tparseStack.push(config)\r\n\t\t        }\r\n\t\t\t\t\r\n\t\t\t\tend++;\r\n\t\t\t\tbreak;\r\n\t\t\t\t// end elment\r\n\t\t\tcase '?':// <?...?>\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tvar el = new ElementAttributes();\r\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\r\n\t\t\t\t//elStartEnd\r\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\r\n\t\t\t\tvar len = el.length;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\r\n\t\t\t\t\tel.closed = true;\r\n\t\t\t\t\tif(!entityMap.nbsp){\r\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(locator && len){\r\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\r\n\t\t\t\t\t//try{//attribute position fixed\r\n\t\t\t\t\tfor(var i = 0;i<len;i++){\r\n\t\t\t\t\t\tvar a = el[i];\r\n\t\t\t\t\t\tposition(a.offset);\r\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//}catch(e){console.error('@@@@@'+e)}\r\n\t\t\t\t\tdomBuilder.locator = locator2\r\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\r\n\t\t\t\t\t\tparseStack.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdomBuilder.locator = locator;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\r\n\t\t\t\t\t\tparseStack.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed){\r\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tend++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}catch(e){\r\n\t\t\terrorHandler.error('element parse error: '+e)\r\n\t\t\t//errorHandler.error('element parse error: '+e);\r\n\t\t\tend = -1;\r\n\t\t\t//throw e;\r\n\t\t}\r\n\t\tif(end>start){\r\n\t\t\tstart = end;\r\n\t\t}else{\r\n\t\t\t//TODO: \u8FD9\u91CC\u6709\u53EF\u80FDsax\u56DE\u9000\uFF0C\u6709\u4F4D\u7F6E\u9519\u8BEF\u98CE\u9669\r\n\t\t\tappendText(Math.max(tagStart,start)+1);\r\n\t\t}\r\n\t}\r\n}\r\nfunction copyLocator(f,t){\r\n\tt.lineNumber = f.lineNumber;\r\n\tt.columnNumber = f.columnNumber;\r\n\treturn t;\r\n}\r\n\r\n/**\r\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\r\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\r\n */\r\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\r\n\tvar attrName;\r\n\tvar value;\r\n\tvar p = ++start;\r\n\tvar s = S_TAG;//status\r\n\twhile(true){\r\n\t\tvar c = source.charAt(p);\r\n\t\tswitch(c){\r\n\t\tcase '=':\r\n\t\t\tif(s === S_ATTR){//attrName\r\n\t\t\t\tattrName = source.slice(start,p);\r\n\t\t\t\ts = S_EQ;\r\n\t\t\t}else if(s === S_ATTR_SPACE){\r\n\t\t\t\ts = S_EQ;\r\n\t\t\t}else{\r\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\r\n\t\t\t\tthrow new Error('attribute equal must after attrName');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase '\\'':\r\n\t\tcase '\"':\r\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\r\n\t\t\t\t){//equal\r\n\t\t\t\tif(s === S_ATTR){\r\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\r\n\t\t\t\t\tattrName = source.slice(start,p)\r\n\t\t\t\t}\r\n\t\t\t\tstart = p+1;\r\n\t\t\t\tp = source.indexOf(c,start)\r\n\t\t\t\tif(p>0){\r\n\t\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t\tel.add(attrName,value,start-1);\r\n\t\t\t\t\ts = S_ATTR_END;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//fatalError: no end quot match\r\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\r\n\t\t\t\t}\r\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\r\n\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t//console.log(attrName,value,start,p)\r\n\t\t\t\tel.add(attrName,value,start);\r\n\t\t\t\t//console.dir(el)\r\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\r\n\t\t\t\tstart = p+1;\r\n\t\t\t\ts = S_ATTR_END\r\n\t\t\t}else{\r\n\t\t\t\t//fatalError: no equal before\r\n\t\t\t\tthrow new Error('attribute value must after \"=\"');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase '/':\r\n\t\t\tswitch(s){\r\n\t\t\tcase S_TAG:\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\tcase S_ATTR_END:\r\n\t\t\tcase S_TAG_SPACE:\r\n\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\ts =S_TAG_CLOSE;\r\n\t\t\t\tel.closed = true;\r\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\r\n\t\t\tcase S_ATTR:\r\n\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\tbreak;\r\n\t\t\t//case S_EQ:\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\")\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase ''://end document\r\n\t\t\t//throw new Error('unexpected end of input')\r\n\t\t\terrorHandler.error('unexpected end of input');\r\n\t\t\tif(s == S_TAG){\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\t}\r\n\t\t\treturn p;\r\n\t\tcase '>':\r\n\t\t\tswitch(s){\r\n\t\t\tcase S_TAG:\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\tcase S_ATTR_END:\r\n\t\t\tcase S_TAG_SPACE:\r\n\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\tbreak;//normal\r\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\r\n\t\t\tcase S_ATTR:\r\n\t\t\t\tvalue = source.slice(start,p);\r\n\t\t\t\tif(value.slice(-1) === '/'){\r\n\t\t\t\t\tel.closed  = true;\r\n\t\t\t\t\tvalue = value.slice(0,-1)\r\n\t\t\t\t}\r\n\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\tif(s === S_ATTR_SPACE){\r\n\t\t\t\t\tvalue = attrName;\r\n\t\t\t\t}\r\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\r\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\r\n\t\t\t\t\tel.add(attrName,value.replace(/&#?\\w+;/g,entityReplacer),start)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !value.match(/^(?:disabled|checked|selected)$/i)){\r\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.add(value,value,start)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase S_EQ:\r\n\t\t\t\tthrow new Error('attribute value missed!!');\r\n\t\t\t}\r\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\r\n\t\t\treturn p;\r\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\r\n\t\tcase '\\u0080':\r\n\t\t\tc = ' ';\r\n\t\tdefault:\r\n\t\t\tif(c<= ' '){//space\r\n\t\t\t\tswitch(s){\r\n\t\t\t\tcase S_TAG:\r\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\r\n\t\t\t\t\ts = S_TAG_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR:\r\n\t\t\t\t\tattrName = source.slice(start,p)\r\n\t\t\t\t\ts = S_ATTR_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\r\n\t\t\t\t\tvar value = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\r\n\t\t\t\t\tel.add(attrName,value,start)\r\n\t\t\t\tcase S_ATTR_END:\r\n\t\t\t\t\ts = S_TAG_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//case S_TAG_SPACE:\r\n\t\t\t\t//case S_EQ:\r\n\t\t\t\t//case S_ATTR_SPACE:\r\n\t\t\t\t//\tvoid();break;\r\n\t\t\t\t//case S_TAG_CLOSE:\r\n\t\t\t\t\t//ignore warning\r\n\t\t\t\t}\r\n\t\t\t}else{//not space\r\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\r\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\r\n\t\t\t\tswitch(s){\r\n\t\t\t\t//case S_TAG:void();break;\r\n\t\t\t\t//case S_ATTR:void();break;\r\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\r\n\t\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\t\tvar tagName =  el.tagName;\r\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !attrName.match(/^(?:disabled|checked|selected)$/i)){\r\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.add(attrName,attrName,start);\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\ts = S_ATTR;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR_END:\r\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\r\n\t\t\t\tcase S_TAG_SPACE:\r\n\t\t\t\t\ts = S_ATTR;\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_EQ:\r\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}//end outer switch\r\n\t\t//console.log('p++',p)\r\n\t\tp++;\r\n\t}\r\n}\r\n/**\r\n * @return true if has new namespace define\r\n */\r\nfunction appendElement(el,domBuilder,currentNSMap){\r\n\tvar tagName = el.tagName;\r\n\tvar localNSMap = null;\r\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\r\n\tvar i = el.length;\r\n\twhile(i--){\r\n\t\tvar a = el[i];\r\n\t\tvar qName = a.qName;\r\n\t\tvar value = a.value;\r\n\t\tvar nsp = qName.indexOf(':');\r\n\t\tif(nsp>0){\r\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\r\n\t\t\tvar localName = qName.slice(nsp+1);\r\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\r\n\t\t}else{\r\n\t\t\tlocalName = qName;\r\n\t\t\tprefix = null\r\n\t\t\tnsPrefix = qName === 'xmlns' && ''\r\n\t\t}\r\n\t\t//can not set prefix,because prefix !== ''\r\n\t\ta.localName = localName ;\r\n\t\t//prefix == null for no ns prefix attribute \r\n\t\tif(nsPrefix !== false){//hack!!\r\n\t\t\tif(localNSMap == null){\r\n\t\t\t\tlocalNSMap = {}\r\n\t\t\t\t//console.log(currentNSMap,0)\r\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\r\n\t\t\t\t//console.log(currentNSMap,1)\r\n\t\t\t}\r\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\r\n\t\t\ta.uri = 'http://www.w3.org/2000/xmlns/'\r\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value) \r\n\t\t}\r\n\t}\r\n\tvar i = el.length;\r\n\twhile(i--){\r\n\t\ta = el[i];\r\n\t\tvar prefix = a.prefix;\r\n\t\tif(prefix){//no prefix attribute has no namespace\r\n\t\t\tif(prefix === 'xml'){\r\n\t\t\t\ta.uri = 'http://www.w3.org/XML/1998/namespace';\r\n\t\t\t}if(prefix !== 'xmlns'){\r\n\t\t\t\ta.uri = currentNSMap[prefix || '']\r\n\t\t\t\t\r\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tvar nsp = tagName.indexOf(':');\r\n\tif(nsp>0){\r\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\r\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\r\n\t}else{\r\n\t\tprefix = null;//important!!\r\n\t\tlocalName = el.localName = tagName;\r\n\t}\r\n\t//no prefix element has default namespace\r\n\tvar ns = el.uri = currentNSMap[prefix || ''];\r\n\tdomBuilder.startElement(ns,localName,tagName,el);\r\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\r\n\t//localNSMap = null\r\n\tif(el.closed){\r\n\t\tdomBuilder.endElement(ns,localName,tagName);\r\n\t\tif(localNSMap){\r\n\t\t\tfor(prefix in localNSMap){\r\n\t\t\t\tdomBuilder.endPrefixMapping(prefix) \r\n\t\t\t}\r\n\t\t}\r\n\t}else{\r\n\t\tel.currentNSMap = currentNSMap;\r\n\t\tel.localNSMap = localNSMap;\r\n\t\t//parseStack.push(el);\r\n\t\treturn true;\r\n\t}\r\n}\r\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\r\n\tif(/^(?:script|textarea)$/i.test(tagName)){\r\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\r\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\r\n\t\tif(/[&<]/.test(text)){\r\n\t\t\tif(/^script$/i.test(tagName)){\r\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\r\n\t\t\t\t\t//lexHandler.startCDATA();\r\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\r\n\t\t\t\t\t//lexHandler.endCDATA();\r\n\t\t\t\t\treturn elEndStart;\r\n\t\t\t\t//}\r\n\t\t\t}//}else{//text area\r\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\tdomBuilder.characters(text,0,text.length);\r\n\t\t\t\treturn elEndStart;\r\n\t\t\t//}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\treturn elStartEnd+1;\r\n}\r\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\r\n\t//if(tagName in closeMap){\r\n\tvar pos = closeMap[tagName];\r\n\tif(pos == null){\r\n\t\t//console.log(tagName)\r\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\r\n\t\tif(pos<elStartEnd){//\u5FD8\u8BB0\u95ED\u5408\r\n\t\t\tpos = source.lastIndexOf('</'+tagName)\r\n\t\t}\r\n\t\tcloseMap[tagName] =pos\r\n\t}\r\n\treturn pos<elStartEnd;\r\n\t//} \r\n}\r\nfunction _copy(source,target){\r\n\tfor(var n in source){target[n] = source[n]}\r\n}\r\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\r\n\tvar next= source.charAt(start+2)\r\n\tswitch(next){\r\n\tcase '-':\r\n\t\tif(source.charAt(start + 3) === '-'){\r\n\t\t\tvar end = source.indexOf('-->',start+4);\r\n\t\t\t//append comment source.substring(4,end)//<!--\r\n\t\t\tif(end>start){\r\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\r\n\t\t\t\treturn end+3;\r\n\t\t\t}else{\r\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t//error\r\n\t\t\treturn -1;\r\n\t\t}\r\n\tdefault:\r\n\t\tif(source.substr(start+3,6) == 'CDATA['){\r\n\t\t\tvar end = source.indexOf(']]>',start+9);\r\n\t\t\tdomBuilder.startCDATA();\r\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\r\n\t\t\tdomBuilder.endCDATA() \r\n\t\t\treturn end+3;\r\n\t\t}\r\n\t\t//<!DOCTYPE\r\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId) \r\n\t\tvar matchs = split(source,start);\r\n\t\tvar len = matchs.length;\r\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\r\n\t\t\tvar name = matchs[1][0];\r\n\t\t\tvar pubid = len>3 && /^public$/i.test(matchs[2][0]) && matchs[3][0]\r\n\t\t\tvar sysid = len>4 && matchs[4][0];\r\n\t\t\tvar lastMatch = matchs[len-1]\r\n\t\t\tdomBuilder.startDTD(name,pubid && pubid.replace(/^(['\"])(.*?)\\1$/,'$2'),\r\n\t\t\t\t\tsysid && sysid.replace(/^(['\"])(.*?)\\1$/,'$2'));\r\n\t\t\tdomBuilder.endDTD();\r\n\t\t\t\r\n\t\t\treturn lastMatch.index+lastMatch[0].length\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n\r\n\r\nfunction parseInstruction(source,start,domBuilder){\r\n\tvar end = source.indexOf('?>',start);\r\n\tif(end){\r\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\r\n\t\tif(match){\r\n\t\t\tvar len = match[0].length;\r\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\r\n\t\t\treturn end+2;\r\n\t\t}else{//error\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n/**\r\n * @param source\r\n */\r\nfunction ElementAttributes(source){\r\n\t\r\n}\r\nElementAttributes.prototype = {\r\n\tsetTagName:function(tagName){\r\n\t\tif(!tagNamePattern.test(tagName)){\r\n\t\t\tthrow new Error('invalid tagName:'+tagName)\r\n\t\t}\r\n\t\tthis.tagName = tagName\r\n\t},\r\n\tadd:function(qName,value,offset){\r\n\t\tif(!tagNamePattern.test(qName)){\r\n\t\t\tthrow new Error('invalid attribute:'+qName)\r\n\t\t}\r\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\r\n\t},\r\n\tlength:0,\r\n\tgetLocalName:function(i){return this[i].localName},\r\n\tgetLocator:function(i){return this[i].locator},\r\n\tgetQName:function(i){return this[i].qName},\r\n\tgetURI:function(i){return this[i].uri},\r\n\tgetValue:function(i){return this[i].value}\r\n//\t,getIndex:function(uri, localName)){\r\n//\t\tif(localName){\r\n//\t\t\t\r\n//\t\t}else{\r\n//\t\t\tvar qName = uri\r\n//\t\t}\r\n//\t},\r\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\r\n//\tgetType:function(uri,localName){}\r\n//\tgetType:function(i){},\r\n}\r\n\r\n\r\n\r\n\r\nfunction _set_proto_(thiz,parent){\r\n\tthiz.__proto__ = parent;\r\n\treturn thiz;\r\n}\r\nif(!(_set_proto_({},_set_proto_.prototype) instanceof _set_proto_)){\r\n\t_set_proto_ = function(thiz,parent){\r\n\t\tfunction p(){};\r\n\t\tp.prototype = parent;\r\n\t\tp = new p();\r\n\t\tfor(parent in thiz){\r\n\t\t\tp[parent] = thiz[parent];\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n}\r\n\r\nfunction split(source,start){\r\n\tvar match;\r\n\tvar buf = [];\r\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\r\n\treg.lastIndex = start;\r\n\treg.exec(source);//skip <\r\n\twhile(match = reg.exec(source)){\r\n\t\tbuf.push(match);\r\n\t\tif(match[1])return buf;\r\n\t}\r\n}\r\n\r\nexports.XMLReader = XMLReader;\r\n\r\n", "/*\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n */\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(Object.create){\n\t\tvar ppt = Object.create(Super.prototype)\n\t\tpt.__proto__ = ppt;\n\t}\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknow Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\nvar htmlns = 'http://www.w3.org/1999/xhtml' ;\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0, \n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long \n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t}\n};\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n/**\n * \n * Objects implementing the NamedNodeMap interface are used to represent collections of nodes that can be accessed by name. Note that NamedNodeMap does not inherit from NodeList; NamedNodeMaps are not maintained in any particular order. Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index, but this is simply to allow convenient enumeration of the contents of a NamedNodeMap, and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t\t\n\t\t\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\t\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n/**\n * @see http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490\n */\nfunction DOMImplementation(/* Object */ features) {\n\tthis._features = {};\n\tif (features) {\n\t\tfor (var feature in features) {\n\t\t\t this._features = features[feature];\n\t\t}\n\t}\n};\n\nDOMImplementation.prototype = {\n\thasFeature: function(/* string */ feature, /* string */ version) {\n\t\tvar versions = this._features[feature.toLowerCase()];\n\t\tif (versions && (!version || version in versions)) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateDocument:function(namespaceURI,  qualifiedName, doctype){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype;\n\t\tif(doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif(qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI,qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateDocumentType:function(qualifiedName, publicId, systemId){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId;\n\t\tnode.systemId = systemId;\n\t\t// Introduced in DOM Level 2:\n\t\t//readonly attribute DOMString        internalSubset;\n\t\t\n\t\t//TODO:..\n\t\t//  readonly attribute NamedNodeMap     entities;\n\t\t//  readonly attribute NamedNodeMap     notations;\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises \n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises \n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\nfunction _onUpdateChild(doc,el,newChild){\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif(newChild){\n\t\t\tcs[cs.length++] = newChild;\n\t\t}else{\n\t\t\t//console.log(1)\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile(child){\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild =child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t}\n\t}\n}\n\n/**\n * attributes;\n * children;\n * \n * writeable properties:\n * nodeValue,Attr:value,CharacterData:data\n * prefix\n */\nfunction _removeChild(parentNode,child){\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif(previous){\n\t\tprevious.nextSibling = next;\n\t}else{\n\t\tparentNode.firstChild = next\n\t}\n\tif(next){\n\t\tnext.previousSibling = previous;\n\t}else{\n\t\tparentNode.lastChild = previous;\n\t}\n\t_onUpdateChild(parentNode.ownerDocument,parentNode);\n\treturn child;\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\t\n\t\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\t//console.log(parentNode.lastChild.nextSibling == null)\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\nfunction _appendSingleChild(parentNode,newChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tvar pre = parentNode.lastChild;\n\t\tcp.removeChild(newChild);//remove and update\n\t\tvar pre = parentNode.lastChild;\n\t}\n\tvar pre = parentNode.lastChild;\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = pre;\n\tnewChild.nextSibling = null;\n\tif(pre){\n\t\tpre.nextSibling = newChild;\n\t}else{\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument,parentNode,newChild);\n\treturn newChild;\n\t//console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\n}\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\t\n\tinsertBefore :  function(newChild, refChild){//raises \n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == ELEMENT_NODE){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\t\t\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\t\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\t\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\t\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\t\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t\t\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9?this.documentElement:this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\t\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\nfunction needNamespaceDefine(node,isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix||'';\n\tvar uri = node.namespaceURI;\n\tif (!prefix && !uri){\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === \"http://www.w3.org/XML/1998/namespace\" \n\t\t|| uri == 'http://www.w3.org/2000/xmlns/'){\n\t\treturn false;\n\t}\n\t\n\tvar i = visibleNamespaces.length \n\t//console.log('@@@@',node.tagName,prefix,uri,visibleNamespaces)\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\t//console.log(node.nodeType,node.tagName,ns.prefix,prefix)\n\t\tif (ns.prefix == prefix){\n\t\t\treturn ns.namespace != uri;\n\t\t}\n\t}\n\t//console.log(isHTML,uri,prefix=='')\n\t//if(isHTML && prefix ==null && uri == 'http://www.w3.org/1999/xhtml'){\n\t//\treturn false;\n\t//}\n\t//node.flag = '11111'\n\t//console.error(3,true,node.flag,node.prefix,node.namespaceURI)\n\treturn true;\n}\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tif (!visibleNamespaces) visibleNamespaces = [];\n\t\tvar startVisibleNamespaces = visibleNamespaces.length;\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\t\n\t\tisHTML =  (htmlns === node.namespaceURI) ||isHTML \n\t\tbuf.push('<',nodeName);\n\t\t\n\t\t\n\t\t\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n\t\t\t\tbuf.push(ns, '=\"' , uri , '\"');\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\t\t// add namespace for current node\t\t\n\t\tif (needNamespaceDefine(node,isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n\t\t\tbuf.push(ns, '=\"' , uri , '\"');\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\t\t\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',nodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn buf.push(' ',node.name,'=\"',node.value.replace(/[<&\"]/g,_xmlEncoder),'\"');\n\tcase TEXT_NODE:\n\t\treturn buf.push(node.data.replace(/[<&]/g,_xmlEncoder));\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC \"',pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push( '\" \"',sysid);\n\t\t\t}\n\t\t\tbuf.push('\">');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM \"',sysid,'\">');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE\uFF1A\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t//TODO:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DOMImplementation = DOMImplementation;\n\texports.XMLSerializer = XMLSerializer;\n//}\n", "function DOMParser(options){\r\n\tthis.options = options ||{locator:{}};\r\n\t\r\n}\r\nDOMParser.prototype.parseFromString = function(source,mimeType){\r\n\tvar options = this.options;\r\n\tvar sax =  new XMLReader();\r\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\r\n\tvar errorHandler = options.errorHandler;\r\n\tvar locator = options.locator;\r\n\tvar defaultNSMap = options.xmlns||{};\r\n\tvar entityMap = {'lt':'<','gt':'>','amp':'&','quot':'\"','apos':\"'\"}\r\n\tif(locator){\r\n\t\tdomBuilder.setDocumentLocator(locator)\r\n\t}\r\n\t\r\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\r\n\tsax.domBuilder = options.domBuilder || domBuilder;\r\n\tif(/\\/x?html?$/.test(mimeType)){\r\n\t\tentityMap.nbsp = '\\xa0';\r\n\t\tentityMap.copy = '\\xa9';\r\n\t\tdefaultNSMap['']= 'http://www.w3.org/1999/xhtml';\r\n\t}\r\n\tdefaultNSMap.xml = defaultNSMap.xml || 'http://www.w3.org/XML/1998/namespace';\r\n\tif(source){\r\n\t\tsax.parse(source,defaultNSMap,entityMap);\r\n\t}else{\r\n\t\tsax.errorHandler.error(\"invalid doc source\");\r\n\t}\r\n\treturn domBuilder.doc;\r\n}\r\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\r\n\tif(!errorImpl){\r\n\t\tif(domBuilder instanceof DOMHandler){\r\n\t\t\treturn domBuilder;\r\n\t\t}\r\n\t\terrorImpl = domBuilder ;\r\n\t}\r\n\tvar errorHandler = {}\r\n\tvar isCallback = errorImpl instanceof Function;\r\n\tlocator = locator||{}\r\n\tfunction build(key){\r\n\t\tvar fn = errorImpl[key];\r\n\t\tif(!fn && isCallback){\r\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\r\n\t\t}\r\n\t\terrorHandler[key] = fn && function(msg){\r\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\r\n\t\t}||function(){};\r\n\t}\r\n\tbuild('warning');\r\n\tbuild('error');\r\n\tbuild('fatalError');\r\n\treturn errorHandler;\r\n}\r\n\r\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\r\n/**\r\n * +ContentHandler+ErrorHandler\r\n * +LexicalHandler+EntityResolver2\r\n * -DeclHandler-DTDHandler \r\n * \r\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\r\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\r\n */\r\nfunction DOMHandler() {\r\n    this.cdata = false;\r\n}\r\nfunction position(locator,node){\r\n\tnode.lineNumber = locator.lineNumber;\r\n\tnode.columnNumber = locator.columnNumber;\r\n}\r\n/**\r\n * @see org.xml.sax.ContentHandler#startDocument\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\r\n */ \r\nDOMHandler.prototype = {\r\n\tstartDocument : function() {\r\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\r\n    \tif (this.locator) {\r\n        \tthis.doc.documentURI = this.locator.systemId;\r\n    \t}\r\n\t},\r\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\r\n\t\tvar doc = this.doc;\r\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\r\n\t    var len = attrs.length;\r\n\t    appendElement(this, el);\r\n\t    this.currentElement = el;\r\n\t    \r\n\t\tthis.locator && position(this.locator,el)\r\n\t    for (var i = 0 ; i < len; i++) {\r\n\t        var namespaceURI = attrs.getURI(i);\r\n\t        var value = attrs.getValue(i);\r\n\t        var qName = attrs.getQName(i);\r\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\r\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\r\n\t\t\tattr.value = attr.nodeValue = value;\r\n\t\t\tel.setAttributeNode(attr)\r\n\t    }\r\n\t},\r\n\tendElement:function(namespaceURI, localName, qName) {\r\n\t\tvar current = this.currentElement\r\n\t\tvar tagName = current.tagName;\r\n\t\tthis.currentElement = current.parentNode;\r\n\t},\r\n\tstartPrefixMapping:function(prefix, uri) {\r\n\t},\r\n\tendPrefixMapping:function(prefix) {\r\n\t},\r\n\tprocessingInstruction:function(target, data) {\r\n\t    var ins = this.doc.createProcessingInstruction(target, data);\r\n\t    this.locator && position(this.locator,ins)\r\n\t    appendElement(this, ins);\r\n\t},\r\n\tignorableWhitespace:function(ch, start, length) {\r\n\t},\r\n\tcharacters:function(chars, start, length) {\r\n\t\tchars = _toString.apply(this,arguments)\r\n\t\t//console.log(chars)\r\n\t\tif(chars){\r\n\t\t\tif (this.cdata) {\r\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\r\n\t\t\t} else {\r\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\r\n\t\t\t}\r\n\t\t\tif(this.currentElement){\r\n\t\t\t\tthis.currentElement.appendChild(charNode);\r\n\t\t\t}else if(/^\\s*$/.test(chars)){\r\n\t\t\t\tthis.doc.appendChild(charNode);\r\n\t\t\t\t//process xml\r\n\t\t\t}\r\n\t\t\tthis.locator && position(this.locator,charNode)\r\n\t\t}\r\n\t},\r\n\tskippedEntity:function(name) {\r\n\t},\r\n\tendDocument:function() {\r\n\t\tthis.doc.normalize();\r\n\t},\r\n\tsetDocumentLocator:function (locator) {\r\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\r\n\t    \tlocator.lineNumber = 0;\r\n\t    }\r\n\t},\r\n\t//LexicalHandler\r\n\tcomment:function(chars, start, length) {\r\n\t\tchars = _toString.apply(this,arguments)\r\n\t    var comm = this.doc.createComment(chars);\r\n\t    this.locator && position(this.locator,comm)\r\n\t    appendElement(this, comm);\r\n\t},\r\n\t\r\n\tstartCDATA:function() {\r\n\t    //used in characters() methods\r\n\t    this.cdata = true;\r\n\t},\r\n\tendCDATA:function() {\r\n\t    this.cdata = false;\r\n\t},\r\n\t\r\n\tstartDTD:function(name, publicId, systemId) {\r\n\t\tvar impl = this.doc.implementation;\r\n\t    if (impl && impl.createDocumentType) {\r\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\r\n\t        this.locator && position(this.locator,dt)\r\n\t        appendElement(this, dt);\r\n\t    }\r\n\t},\r\n\t/**\r\n\t * @see org.xml.sax.ErrorHandler\r\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\r\n\t */\r\n\twarning:function(error) {\r\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\r\n\t},\r\n\terror:function(error) {\r\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\r\n\t},\r\n\tfatalError:function(error) {\r\n\t\tconsole.error('[xmldom fatalError]\\t'+error,_locator(this.locator));\r\n\t    throw error;\r\n\t}\r\n}\r\nfunction _locator(l){\r\n\tif(l){\r\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\r\n\t}\r\n}\r\nfunction _toString(chars,start,length){\r\n\tif(typeof chars == 'string'){\r\n\t\treturn chars.substr(start,length)\r\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\r\n\t\tif(chars.length >= start+length || start){\r\n\t\t\treturn new java.lang.String(chars,start,length)+'';\r\n\t\t}\r\n\t\treturn chars;\r\n\t}\r\n}\r\n\r\n/*\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\r\n * used method of org.xml.sax.ext.LexicalHandler:\r\n *  #comment(chars, start, length)\r\n *  #startCDATA()\r\n *  #endCDATA()\r\n *  #startDTD(name, publicId, systemId)\r\n *\r\n *\r\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\r\n *  #endDTD()\r\n *  #startEntity(name)\r\n *  #endEntity(name)\r\n *\r\n *\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\r\n * IGNORED method of org.xml.sax.ext.DeclHandler\r\n * \t#attributeDecl(eName, aName, type, mode, value)\r\n *  #elementDecl(name, model)\r\n *  #externalEntityDecl(name, publicId, systemId)\r\n *  #internalEntityDecl(name, value)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\r\n * IGNORED method of org.xml.sax.EntityResolver2\r\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\r\n *  #resolveEntity(publicId, systemId)\r\n *  #getExternalSubset(name, baseURI)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\r\n * IGNORED method of org.xml.sax.DTDHandler\r\n *  #notationDecl(name, publicId, systemId) {};\r\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\r\n */\r\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\r\n\tDOMHandler.prototype[key] = function(){return null}\r\n})\r\n\r\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\r\nfunction appendElement (hander,node) {\r\n    if (!hander.currentElement) {\r\n        hander.doc.appendChild(node);\r\n    } else {\r\n        hander.currentElement.appendChild(node);\r\n    }\r\n}//appendChild and setAttributeNS are preformance key\r\n\r\n//if(typeof require == 'function'){\r\n\tvar XMLReader = require('./sax').XMLReader;\r\n\tvar DOMImplementation = exports.DOMImplementation = require('./dom').DOMImplementation;\r\n\texports.XMLSerializer = require('./dom').XMLSerializer ;\r\n\texports.DOMParser = DOMParser;\r\n//}\r\n", "/* Copyright 2015 William Summers, MetaTribal LLC\n * adapted from https://developer.mozilla.org/en-US/docs/JXON\n *\n * Licensed under the MIT License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://opensource.org/licenses/MIT\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @author William Summers\n * https://github.com/metatribal/xmlToJSON\n */\nvar DOMParser = require('xmldom').DOMParser;\n\nvar xmlToJSON = (function () {\n\n    this.version = \"1.3.5\";\n\n    var options = { // set up the default options\n        mergeCDATA: true, // extract cdata and merge with text\n        normalize: true, // collapse multiple spaces to single space\n        stripElemPrefix: true, // for elements of same name in diff namespaces, you can enable namespaces and access the nskey property\n    };\n\n    var prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n    var trimMatch = new RegExp(/^\\s+|\\s+$/g);\n\n    this.grokType = function (sValue) {\n        if (/^\\s*$/.test(sValue)) {\n            return null;\n        }\n        if (/^(?:true|false)$/i.test(sValue)) {\n            return sValue.toLowerCase() === \"true\";\n        }\n        if (isFinite(sValue)) {\n            return parseFloat(sValue);\n        }\n        return sValue;\n    };\n\n    this.parseString = function (xmlString, opt) {\n        if (xmlString) {\n            var xml = this.stringToXML(xmlString);\n            if (xml.getElementsByTagName('parsererror').length) {\n                return null;\n            } else {\n                return this.parseXML(xml, opt);\n            }\n        } else {\n            return null;\n        }\n    };\n\n    this.parseXML = function (oXMLParent, opt) {\n\n        // initialize options\n        for (var key in opt) {\n            options[key] = opt[key];\n        }\n\n        var vResult = {},\n            nLength = 0,\n            sCollectedTxt = \"\";\n\n        // iterate over the children\n        var childNum = oXMLParent.childNodes.length;\n        if (childNum) {\n            for (var oNode, sProp, vContent, nItem = 0; nItem < oXMLParent.childNodes.length; nItem++) {\n                oNode = oXMLParent.childNodes.item(nItem);\n\n                if (oNode.nodeType === 4) {\n                    if (options.mergeCDATA) {\n                        sCollectedTxt += oNode.nodeValue;\n                    }\n                } /* nodeType is \"CDATASection\" (4) */\n                else if (oNode.nodeType === 3) {\n                    sCollectedTxt += oNode.nodeValue;\n                } /* nodeType is \"Text\" (3) */\n                else if (oNode.nodeType === 1) { /* nodeType is \"Element\" (1) */\n\n                    if (nLength === 0) {\n                        vResult = {};\n                    }\n\n                    // using nodeName to support browser (IE) implementation with no 'localName' property\n                    if (options.stripElemPrefix) {\n                        sProp = oNode.nodeName.replace(prefixMatch, '');\n                    } else {\n                        sProp = oNode.nodeName;\n                    }\n\n                    vContent = xmlToJSON.parseXML(oNode);\n\n                    if (vResult.hasOwnProperty(sProp)) {\n                        if (vResult[sProp].constructor !== Array) {\n                            vResult[sProp] = [vResult[sProp]];\n                        }\n                        vResult[sProp].push(vContent);\n\n                    } else {\n                        vResult[sProp] = vContent;\n                        nLength++;\n                    }\n                }\n            }\n        }\n\n        if (!Object.keys(vResult).length) {\n            // vResult = sCollectedTxt.replace(trimMatch, '') || ''; // by carsonxu \u4FEE\u590D getBucket\u8FD4\u56DE\u7684 Key \u662F \" /\" \u8FD9\u79CD\u573A\u666F\n            vResult = sCollectedTxt || '';\n        }\n\n        return vResult;\n    };\n\n    // Convert xmlDocument to a string\n    // Returns null on failure\n    this.xmlToString = function (xmlDoc) {\n        try {\n            var xmlString = xmlDoc.xml ? xmlDoc.xml : (new XMLSerializer()).serializeToString(xmlDoc);\n            return xmlString;\n        } catch (err) {\n            return null;\n        }\n    };\n\n    // Convert a string to XML Node Structure\n    // Returns null on failure\n    this.stringToXML = function (xmlString) {\n        try {\n            var xmlDoc = null;\n\n            if (window.DOMParser) {\n\n                var parser = new DOMParser();\n                xmlDoc = parser.parseFromString(xmlString, \"text/xml\");\n\n                return xmlDoc;\n            } else {\n                xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n                xmlDoc.async = false;\n                xmlDoc.loadXML(xmlString);\n\n                return xmlDoc;\n            }\n        } catch (e) {\n            return null;\n        }\n    };\n\n    return this;\n\n}).call({});\n\nvar xml2json = function (xmlString) {\n    return xmlToJSON.parseString(xmlString);\n};\n\nmodule.exports = xml2json;\n", "//copyright Ryan Day 2010 <http://ryanday.org>, Joscha Feth 2013 <http://www.feth.com> [MIT Licensed]\n\nvar element_start_char =\n    \"a-zA-Z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u00FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FFF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\";\nvar element_non_start_char = \"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F\\u2040\";\nvar element_replace = new RegExp(\"^([^\" + element_start_char + \"])|^((x|X)(m|M)(l|L))|([^\" + element_start_char + element_non_start_char + \"])\", \"g\");\nvar not_safe_in_xml = /[^\\x09\\x0A\\x0D\\x20-\\xFF\\x85\\xA0-\\uD7FF\\uE000-\\uFDCF\\uFDE0-\\uFFFD]/gm;\n\nvar objKeys = function (obj) {\n    var l = [];\n    if (obj instanceof Object) {\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                l.push(k);\n            }\n        }\n    }\n    return l;\n};\nvar process_to_xml = function (node_data, options) {\n\n    var makeNode = function (name, content, attributes, level, hasSubNodes) {\n        var indent_value = options.indent !== undefined ? options.indent : \"\\t\";\n        var indent = options.prettyPrint ? '\\n' + new Array(level).join(indent_value) : '';\n        if (options.removeIllegalNameCharacters) {\n            name = name.replace(element_replace, '_');\n        }\n\n        var node = [indent, '<', name, (attributes || '')];\n        if (content && content.length > 0) {\n            node.push('>')\n            node.push(content);\n            hasSubNodes && node.push(indent);\n            node.push('</');\n            node.push(name);\n            node.push('>');\n        } else {\n            node.push('/>');\n        }\n        return node.join('');\n    };\n\n    return (function fn(node_data, node_descriptor, level) {\n        var type = typeof node_data;\n        if ((Array.isArray) ? Array.isArray(node_data) : node_data instanceof Array) {\n            type = 'array';\n        } else if (node_data instanceof Date) {\n            type = 'date';\n        }\n\n        switch (type) {\n            //if value is an array create child nodes from values\n            case 'array':\n                var ret = [];\n                node_data.map(function (v) {\n                    ret.push(fn(v, 1, level + 1));\n                    //entries that are values of an array are the only ones that can be special node descriptors\n                });\n                options.prettyPrint && ret.push('\\n');\n                return ret.join('');\n                break;\n\n            case 'date':\n                // cast dates to ISO 8601 date (soap likes it)\n                return node_data.toJSON ? node_data.toJSON() : node_data + '';\n                break;\n\n            case 'object':\n                var nodes = [];\n                for (var name in node_data) {\n                    if (node_data.hasOwnProperty(name)) {\n                        if (node_data[name] instanceof Array) {\n                            for (var j = 0; j < node_data[name].length; j++) {\n                                if (node_data[name].hasOwnProperty(j)) {\n                                    nodes.push(makeNode(name, fn(node_data[name][j], 0, level + 1), null, level + 1, objKeys(node_data[name][j]).length));\n                                }\n                            }\n                        } else {\n                            nodes.push(makeNode(name, fn(node_data[name], 0, level + 1), null, level + 1));\n                        }\n                    }\n                }\n                options.prettyPrint && nodes.length > 0 && nodes.push('\\n');\n                return nodes.join('');\n                break;\n\n            case 'function':\n                return node_data();\n                break;\n\n            default:\n                return options.escape ? esc(node_data) : '' + node_data;\n        }\n\n    }(node_data, 0, 0))\n};\n\n\nvar xml_header = function (standalone) {\n    var ret = ['<?xml version=\"1.0\" encoding=\"UTF-8\"'];\n\n    if (standalone) {\n        ret.push(' standalone=\"yes\"');\n    }\n    ret.push('?>');\n\n    return ret.join('');\n};\n\nfunction esc(str) {\n    return ('' + str).replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/'/g, '&apos;')\n        .replace(/\"/g, '&quot;')\n        .replace(not_safe_in_xml, '');\n}\n\nmodule.exports = function (obj, options) {\n    if (!options) {\n        options = {\n            xmlHeader: {\n                standalone: true\n            },\n            prettyPrint: true,\n            indent: \"  \",\n            escape: true,\n        };\n    }\n\n    if (typeof obj == 'string') {\n        try {\n            obj = JSON.parse(obj.toString());\n        } catch (e) {\n            return false;\n        }\n    }\n\n    var xmlheader = '';\n    var docType = '';\n    if (options) {\n        if (typeof options == 'object') {\n            // our config is an object\n\n            if (options.xmlHeader) {\n                // the user wants an xml header\n                xmlheader = xml_header(!!options.xmlHeader.standalone);\n            }\n\n            if (typeof options.docType != 'undefined') {\n                docType = '<!DOCTYPE ' + options.docType + '>'\n            }\n        } else {\n            // our config is a boolean value, so just add xml header\n            xmlheader = xml_header();\n        }\n    }\n    options = options || {}\n\n    var ret = [\n        xmlheader,\n        (options.prettyPrint && docType ? '\\n' : ''),\n        docType,\n        process_to_xml(obj, options)\n    ];\n    return ret.join('').replace(/\\n{2,}/g, '\\n').replace(/\\s+$/g, '');\n};", "'use strict';\n\nvar md5 = require('../lib/md5');\nvar CryptoJS = require('../lib/crypto');\nvar xml2json = require('../lib/xml2json');\nvar json2xml = require('../lib/json2xml');\n\nfunction camSafeUrlEncode(str) {\n    return encodeURIComponent(str)\n        .replace(/!/g, '%21')\n        .replace(/'/g, '%27')\n        .replace(/\\(/g, '%28')\n        .replace(/\\)/g, '%29')\n        .replace(/\\*/g, '%2A');\n}\n\nfunction getObjectKeys(obj, forKey) {\n    var list = [];\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            list.push(forKey ? camSafeUrlEncode(key).toLowerCase() : key);\n        }\n    }\n    return list.sort(function (a, b) {\n        a = a.toLowerCase();\n        b = b.toLowerCase();\n        return a === b ? 0 : (a > b ? 1 : -1);\n    });\n};\n\n/**\n * obj\u8F6C\u4E3Astring\n * @param  {Object}  obj                \u9700\u8981\u8F6C\u7684\u5BF9\u8C61\uFF0C\u5FC5\u987B\n * @param  {Boolean} lowerCaseKey       key\u662F\u5426\u8F6C\u4E3A\u5C0F\u5199\uFF0C\u9ED8\u8BA4false\uFF0C\u975E\u5FC5\u987B\n * @return {String}  data               \u8FD4\u56DE\u5B57\u7B26\u4E32\n */\nvar obj2str = function (obj, lowerCaseKey) {\n    var i, key, val;\n    var list = [];\n    var keyList = getObjectKeys(obj);\n    for (i = 0; i < keyList.length; i++) {\n        key = keyList[i];\n        val = (obj[key] === undefined || obj[key] === null) ? '' : ('' + obj[key]);\n        key = lowerCaseKey? camSafeUrlEncode(key).toLowerCase() : camSafeUrlEncode(key);\n        val = camSafeUrlEncode(val) || '';\n        list.push(key + '=' + val)\n    }\n    return list.join('&');\n};\n\n\n// \u53EF\u4EE5\u7B7E\u5165\u7B7E\u540D\u7684headers\nvar signHeaders = ['content-disposition', 'content-encoding', 'content-length', 'content-md5',\n    'expect', 'host', 'if-match', 'if-modified-since', 'if-none-match', 'if-unmodified-since',\n    'origin', 'range', 'response-cache-control', 'response-content-disposition', 'response-content-encoding',\n    'response-content-language', 'response-content-type', 'response-expires', 'transfer-encoding', 'versionid'];\n\nvar getSignHeaderObj = function (headers) {\n    var signHeaderObj = {};\n    for (var i in headers) {\n        var key = i.toLowerCase();\n        if (key.indexOf('x-cos-') > -1 || signHeaders.indexOf(key) > -1) {\n            signHeaderObj[i] = headers[i];\n        }\n    }\n    return signHeaderObj;\n}\n\n//\u6D4B\u8BD5\u7528\u7684key\u540E\u9762\u53EF\u4EE5\u53BB\u6389\nvar getAuth = function (opt) {\n    opt = opt || {};\n\n    var SecretId = opt.SecretId;\n    var SecretKey = opt.SecretKey;\n    var KeyTime = opt.KeyTime;\n    var method = (opt.method || opt.Method || 'get').toLowerCase();\n    var queryParams = clone(opt.Query || opt.params || {});\n    var headers = getSignHeaderObj(clone(opt.Headers || opt.headers || {}));\n\n    var Key = opt.Key || '';\n    var pathname;\n    if (opt.UseRawKey) {\n        pathname = opt.Pathname || opt.pathname || '/' + Key;\n    } else {\n        pathname = opt.Pathname || opt.pathname || Key;\n        pathname.indexOf('/') !== 0 && (pathname = '/' + pathname);\n    }\n\n    // \u5982\u679C\u6709\u4F20\u5165\u5B58\u50A8\u6876\uFF0C\u90A3\u4E48\u7B7E\u540D\u9ED8\u8BA4\u52A0 Host \u53C2\u4E0E\u8BA1\u7B97\uFF0C\u907F\u514D\u8DE8\u6876\u8BBF\u95EE\n    if (!headers.Host && !headers.host && opt.Bucket && opt.Region) headers.Host = opt.Bucket + '.cos.' + opt.Region + '.myqcloud.com';\n\n    if (!SecretId) throw new Error('missing param SecretId');\n    if (!SecretKey) throw new Error('missing param SecretKey');\n\n    // \u7B7E\u540D\u6709\u6548\u8D77\u6B62\u65F6\u95F4\n    var now = Math.round(getSkewTime(opt.SystemClockOffset) / 1000) - 1;\n    var exp = now;\n\n    var Expires = opt.Expires || opt.expires;\n    if (Expires === undefined) {\n        exp += 900; // \u7B7E\u540D\u8FC7\u671F\u65F6\u95F4\u4E3A\u5F53\u524D + 900s\n    } else {\n        exp += (Expires * 1) || 0;\n    }\n\n    // \u8981\u7528\u5230\u7684 Authorization \u53C2\u6570\u5217\u8868\n    var qSignAlgorithm = 'sha1';\n    var qAk = SecretId;\n    var qSignTime = KeyTime || now + ';' + exp;\n    var qKeyTime = KeyTime || now + ';' + exp;\n    var qHeaderList = getObjectKeys(headers, true).join(';').toLowerCase();\n    var qUrlParamList = getObjectKeys(queryParams, true).join(';').toLowerCase();\n\n    // \u7B7E\u540D\u7B97\u6CD5\u8BF4\u660E\u6587\u6863\uFF1Ahttps://www.qcloud.com/document/product/436/7778\n    // \u6B65\u9AA4\u4E00\uFF1A\u8BA1\u7B97 SignKey\n    var signKey = CryptoJS.HmacSHA1(qKeyTime, SecretKey).toString();\n\n    // \u6B65\u9AA4\u4E8C\uFF1A\u6784\u6210 FormatString\n    var formatString = [method, pathname, util.obj2str(queryParams, true), util.obj2str(headers, true), ''].join('\\n');\n\n    // \u6B65\u9AA4\u4E09\uFF1A\u8BA1\u7B97 StringToSign\n    var stringToSign = ['sha1', qSignTime, CryptoJS.SHA1(formatString).toString(), ''].join('\\n');\n\n    // \u6B65\u9AA4\u56DB\uFF1A\u8BA1\u7B97 Signature\n    var qSignature = CryptoJS.HmacSHA1(stringToSign, signKey).toString();\n\n    // \u6B65\u9AA4\u4E94\uFF1A\u6784\u9020 Authorization\n    var authorization = [\n        'q-sign-algorithm=' + qSignAlgorithm,\n        'q-ak=' + qAk,\n        'q-sign-time=' + qSignTime,\n        'q-key-time=' + qKeyTime,\n        'q-header-list=' + qHeaderList,\n        'q-url-param-list=' + qUrlParamList,\n        'q-signature=' + qSignature\n    ].join('&');\n\n    return authorization;\n\n};\n\nvar readIntBE = function (chunk, size, offset) {\n    var bytes = size / 8;\n    var buf = chunk.slice(offset, offset + bytes);\n    new Uint8Array(buf).reverse();\n    return new ({8: Uint8Array, 16: Uint16Array, 32: Uint32Array})[size](buf)[0];\n};\nvar buf2str = function (chunk, start, end, isUtf8) {\n    var buf = chunk.slice(start, end);\n    var str = '';\n    new Uint8Array(buf).forEach(function (charCode) {\n        str += String.fromCharCode(charCode)\n    });\n    if (isUtf8) str = decodeURIComponent(escape(str));\n    return str;\n};\nvar parseSelectPayload = function (chunk) {\n    var header = {};\n    var body = buf2str(chunk);\n    var result = {records:[]};\n    while (chunk.byteLength) {\n        var totalLength = readIntBE(chunk, 32, 0);\n        var headerLength = readIntBE(chunk, 32, 4);\n        var payloadRestLength = totalLength - headerLength - 16;\n        var offset = 0;\n        var content;\n        chunk = chunk.slice(12);\n        // \u83B7\u53D6 Message \u7684 header \u4FE1\u606F\n        while (offset < headerLength) {\n            var headerNameLength = readIntBE(chunk, 8, offset);\n            var headerName = buf2str(chunk, offset + 1, offset + 1 + headerNameLength);\n            var headerValueLength = readIntBE(chunk, 16, offset + headerNameLength + 2);\n            var headerValue = buf2str(chunk, offset + headerNameLength + 4, offset + headerNameLength + 4 + headerValueLength);\n            header[headerName] = headerValue;\n            offset += headerNameLength + 4 + headerValueLength;\n        }\n        if (header[':event-type'] === 'Records') {\n            content = buf2str(chunk, offset, offset + payloadRestLength, true);\n            result.records.push(content);\n        } else if (header[':event-type'] === 'Stats') {\n            content = buf2str(chunk, offset, offset + payloadRestLength, true);\n            result.stats = util.xml2json(content).Stats;\n        } else if (header[':event-type'] === 'error') {\n            var errCode = header[':error-code'];\n            var errMessage = header[':error-message'];\n            var err = new Error(errMessage);\n            err.message = errMessage;\n            err.name = err.code = errCode;\n            result.error = err;\n        } else if (['Progress', 'Continuation', 'End'].includes(header[':event-type'])) {\n            // do nothing\n        }\n        chunk = chunk.slice(offset + payloadRestLength + 4);\n    }\n    return {\n        payload: result.records.join(''),\n        body: body,\n    };\n};\n\nvar getSourceParams = function (source) {\n    var parser = this.options.CopySourceParser;\n    if (parser) return parser(source);\n    var m = source.match(/^([^.]+-\\d+)\\.cos(v6|-cdc)?\\.([^.]+)\\.myqcloud\\.com\\/(.+)$/);\n    if (!m) return null;\n    return { Bucket: m[1], Region: m[3], Key: m[4] };\n};\n\nvar noop = function () {\n\n};\n\n// \u6E05\u9664\u5BF9\u8C61\u91CC\u503C\u4E3A\u7684 undefined \u6216 null \u7684\u5C5E\u6027\nvar clearKey = function (obj) {\n    var retObj = {};\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key) && obj[key] !== undefined && obj[key] !== null) {\n            retObj[key] = obj[key];\n        }\n    }\n    return retObj;\n};\n\nvar readAsBinaryString = function (blob, callback) {\n    var readFun;\n    var fr = new FileReader();\n    if (FileReader.prototype.readAsBinaryString) {\n        readFun = FileReader.prototype.readAsBinaryString;\n        fr.onload = function () {\n            callback(this.result);\n        };\n    } else if (FileReader.prototype.readAsArrayBuffer) { // \u5728 ie11 \u6DFB\u52A0 readAsBinaryString \u517C\u5BB9\n        readFun = function (fileData) {\n            var binary = \"\";\n            var pt = this;\n            var reader = new FileReader();\n            reader.onload = function (e) {\n                var bytes = new Uint8Array(reader.result);\n                var length = bytes.byteLength;\n                for (var i = 0; i < length; i++) {\n                    binary += String.fromCharCode(bytes[i]);\n                }\n                callback(binary);\n            };\n            reader.readAsArrayBuffer(fileData);\n        };\n    } else {\n        console.error('FileReader not support readAsBinaryString');\n    }\n    readFun.call(fr, blob);\n};\n\nvar fileSliceNeedCopy = (function () {\n    var compareVersion = function(a, b) {\n        a = a.split('.');\n        b = b.split('.');\n        for (var i = 0; i < b.length; i++) {\n            if (a[i] !== b[i]) {\n                return parseInt(a[i]) > parseInt(b[i]) ? 1 : -1;\n            }\n        }\n        return 0;\n    };\n    var check = function (ua) {\n        if (!ua) return false;\n        var ChromeVersion = (ua.match(/Chrome\\/([.\\d]+)/) || [])[1];\n        var QBCoreVersion = (ua.match(/QBCore\\/([.\\d]+)/) || [])[1];\n        var QQBrowserVersion = (ua.match(/QQBrowser\\/([.\\d]+)/) || [])[1];\n        var need = ChromeVersion && compareVersion(ChromeVersion, '53.0.2785.116') < 0\n            && QBCoreVersion && compareVersion(QBCoreVersion, '3.53.991.400') < 0\n            && QQBrowserVersion && compareVersion(QQBrowserVersion, '9.0.2524.400') <= 0 || false;\n        return need;\n    };\n    return check(typeof navigator !== 'undefined' && navigator.userAgent);\n})();\n\n// \u83B7\u53D6\u6587\u4EF6\u5206\u7247\nvar fileSlice = function (file, start, end, isUseToUpload, callback) {\n    var blob;\n    if (file.slice) {\n        blob = file.slice(start, end);\n    } else if (file.mozSlice) {\n        blob = file.mozSlice(start, end);\n    } else if (file.webkitSlice) {\n        blob = file.webkitSlice(start, end);\n    }\n    if (isUseToUpload && fileSliceNeedCopy) {\n        var reader = new FileReader();\n        reader.onload = function (e) {\n            blob = null;\n            callback(new Blob([reader.result]));\n        };\n        reader.readAsArrayBuffer(blob);\n    } else {\n        callback(blob);\n    }\n};\n\n// \u83B7\u53D6\u6587\u4EF6\u5185\u5BB9\u7684 MD5\nvar getBodyMd5 = function (UploadCheckContentMd5, Body, callback, onProgress) {\n    callback = callback || noop;\n    if (UploadCheckContentMd5) {\n        if (typeof Body === 'string') {\n            callback(util.md5(Body, true));\n        } else if (Blob && Body instanceof Blob) {\n            util.getFileMd5(Body, function (err, md5) {\n                callback(md5);\n            }, onProgress);\n        } else {\n            callback();\n        }\n    } else {\n        callback();\n    }\n};\n\n// \u83B7\u53D6\u6587\u4EF6 md5 \u503C\nvar md5ChunkSize = 1024 * 1024;\nvar getFileMd5 = function (blob, callback, onProgress) {\n    var size = blob.size;\n    var loaded = 0;\n    var md5ctx = md5.getCtx();\n    var next = function (start) {\n        if (start >= size) {\n            var hash = md5ctx.digest('hex');\n            callback(null, hash);\n            return;\n        }\n        var end = Math.min(size, start + md5ChunkSize);\n        util.fileSlice(blob, start, end, false, function (chunk) {\n            readAsBinaryString(chunk, function (content) {\n                chunk = null;\n                md5ctx = md5ctx.update(content, true);\n                loaded += content.length;\n                content = null;\n                if (onProgress) onProgress({loaded: loaded, total: size, percent: Math.round(loaded / size * 10000) / 10000});\n                next(start + md5ChunkSize);\n            });\n        });\n    };\n    next(0);\n};\n\nfunction clone(obj) {\n    return map(obj, function (v) {\n        return typeof v === 'object' && v !== null ? clone(v) : v;\n    });\n}\n\nfunction attr(obj, name, defaultValue) {\n    return obj && name in obj ? obj[name] : defaultValue;\n}\n\nfunction extend(target, source) {\n    each(source, function (val, key) {\n        target[key] = source[key];\n    });\n    return target;\n}\n\nfunction isArray(arr) {\n    return arr instanceof Array;\n}\n\nfunction isInArray(arr, item) {\n    var flag = false;\n    for (var i = 0; i < arr.length; i++) {\n        if (item === arr[i]) {\n            flag = true;\n            break;\n        }\n    }\n    return flag;\n}\n\nfunction makeArray(arr) {\n    return isArray(arr) ? arr : [arr];\n}\n\nfunction each(obj, fn) {\n    for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            fn(obj[i], i);\n        }\n    }\n}\n\nfunction map(obj, fn) {\n    var o = isArray(obj) ? [] : {};\n    for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            o[i] = fn(obj[i], i);\n        }\n    }\n    return o;\n}\n\nfunction filter(obj, fn) {\n    var iaArr = isArray(obj);\n    var o = iaArr ? [] : {};\n    for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (fn(obj[i], i)) {\n                if (iaArr) {\n                    o.push(obj[i]);\n                } else {\n                    o[i] = obj[i];\n                }\n            }\n        }\n    }\n    return o;\n}\n\nvar binaryBase64 = function (str) {\n    var i, len, char, res = '';\n    for (i = 0, len = str.length / 2; i < len; i++) {\n        char = parseInt(str[i * 2] + str[i * 2 + 1], 16);\n        res += String.fromCharCode(char);\n    }\n    return btoa(res);\n};\nvar uuid = function () {\n    var S4 = function () {\n        return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n    };\n    return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n};\n\nvar hasMissingParams = function (apiName, params) {\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var Domain = this.options.Domain;\n    var checkBucket = !Domain || Domain.indexOf('{Bucket}') > -1;\n    var checkRegion = !Domain || Domain.indexOf('{Region}') > -1;\n    if (apiName.indexOf('Bucket') > -1 || apiName === 'deleteMultipleObject' || apiName === 'multipartList' || apiName === 'listObjectVersions') {\n        if (checkBucket && !Bucket) return 'Bucket';\n        if (checkRegion && !Region) return 'Region';\n    } else if (apiName.indexOf('Object') > -1 || apiName.indexOf('multipart') > -1 || apiName === 'sliceUploadFile' || apiName === 'abortUploadTask') {\n        if (checkBucket && !Bucket) return 'Bucket';\n        if (checkRegion && !Region) return 'Region';\n        if (!Key) return 'Key';\n    }\n    return false;\n};\n\nvar formatParams = function (apiName, params) {\n\n    // \u590D\u5236\u53C2\u6570\u5BF9\u8C61\n    params = extend({}, params);\n\n    // \u7EDF\u4E00\u5904\u7406 Headers\n    if (apiName !== 'getAuth' && apiName !== 'getV4Auth' && apiName !== 'getObjectUrl') {\n        var Headers = params.Headers || {};\n        if (params && typeof params === 'object') {\n            (function () {\n                for (var key in params) {\n                    if (params.hasOwnProperty(key) && key.indexOf('x-cos-') > -1) {\n                        Headers[key] = params[key];\n                    }\n                }\n            })();\n\n            var headerMap = {\n                // params headers\n                'x-cos-mfa': 'MFA',\n                'Content-MD5': 'ContentMD5',\n                'Content-Length': 'ContentLength',\n                'Content-Type': 'ContentType',\n                'Expect': 'Expect',\n                'Expires': 'Expires',\n                'Cache-Control': 'CacheControl',\n                'Content-Disposition': 'ContentDisposition',\n                'Content-Encoding': 'ContentEncoding',\n                'Range': 'Range',\n                'If-Modified-Since': 'IfModifiedSince',\n                'If-Unmodified-Since': 'IfUnmodifiedSince',\n                'If-Match': 'IfMatch',\n                'If-None-Match': 'IfNoneMatch',\n                'x-cos-copy-source': 'CopySource',\n                'x-cos-copy-source-Range': 'CopySourceRange',\n                'x-cos-metadata-directive': 'MetadataDirective',\n                'x-cos-copy-source-If-Modified-Since': 'CopySourceIfModifiedSince',\n                'x-cos-copy-source-If-Unmodified-Since': 'CopySourceIfUnmodifiedSince',\n                'x-cos-copy-source-If-Match': 'CopySourceIfMatch',\n                'x-cos-copy-source-If-None-Match': 'CopySourceIfNoneMatch',\n                'x-cos-acl': 'ACL',\n                'x-cos-grant-read': 'GrantRead',\n                'x-cos-grant-write': 'GrantWrite',\n                'x-cos-grant-full-control': 'GrantFullControl',\n                'x-cos-grant-read-acp': 'GrantReadAcp',\n                'x-cos-grant-write-acp': 'GrantWriteAcp',\n                'x-cos-storage-class': 'StorageClass',\n                'x-cos-traffic-limit': 'TrafficLimit',\n                'x-cos-mime-limit': 'MimeLimit',\n                // SSE-C\n                'x-cos-server-side-encryption-customer-algorithm': 'SSECustomerAlgorithm',\n                'x-cos-server-side-encryption-customer-key': 'SSECustomerKey',\n                'x-cos-server-side-encryption-customer-key-MD5': 'SSECustomerKeyMD5',\n                // SSE-COS\u3001SSE-KMS\n                'x-cos-server-side-encryption': 'ServerSideEncryption',\n                'x-cos-server-side-encryption-cos-kms-key-id': 'SSEKMSKeyId',\n                'x-cos-server-side-encryption-context': 'SSEContext',\n            };\n            util.each(headerMap, function (paramKey, headerKey) {\n                if (params[paramKey] !== undefined) {\n                    Headers[headerKey] = params[paramKey];\n                }\n            });\n\n            params.Headers = clearKey(Headers);\n        }\n    }\n\n    return params;\n};\n\nvar apiWrapper = function (apiName, apiFn) {\n    return function (params, callback) {\n\n        var self = this;\n\n        // \u5904\u7406\u53C2\u6570\n        if (typeof params === 'function') {\n            callback = params;\n            params = {};\n        }\n\n        // \u6574\u7406\u53C2\u6570\u683C\u5F0F\n        params = formatParams(apiName, params);\n\n        // \u4EE3\u7406\u56DE\u8C03\u51FD\u6570\n        var formatResult = function (result) {\n            if (result && result.headers) {\n                result.headers['x-cos-request-id'] && (result.RequestId = result.headers['x-cos-request-id']);\n                result.headers['x-cos-version-id'] && (result.VersionId = result.headers['x-cos-version-id']);\n                result.headers['x-cos-delete-marker'] && (result.DeleteMarker = result.headers['x-cos-delete-marker']);\n            }\n            return result;\n        };\n        var _callback = function (err, data) {\n            callback && callback(formatResult(err), formatResult(data));\n        };\n\n        var checkParams = function () {\n            if (apiName !== 'getService' && apiName !== 'abortUploadTask') {\n                // \u5224\u65AD\u53C2\u6570\u662F\u5426\u5B8C\u6574\n                var missingResult = hasMissingParams.call(self, apiName, params)\n                if (missingResult) {\n                    return 'missing param ' + missingResult;\n                }\n                // \u5224\u65AD region \u683C\u5F0F\n                if (params.Region) {\n                    if (self.options.CompatibilityMode) {\n                        if (!/^([a-z\\d-.]+)$/.test(params.Region)) {\n                            return 'Region format error.';\n                        }\n                    } else {\n                        if (params.Region.indexOf('cos.') > -1) {\n                            return 'param Region should not be start with \"cos.\"';\n                        } else if (!/^([a-z\\d-]+)$/.test(params.Region)) {\n                            return 'Region format error.';\n                        }\n                    }\n                    // \u5224\u65AD region \u683C\u5F0F\n                    if (!self.options.CompatibilityMode\n                        && params.Region.indexOf('-') === -1\n                        && params.Region !== 'yfb'\n                        && params.Region !== 'default'\n                        && params.Region !== 'accelerate' ) {\n                        console.warn('warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224');\n                    }\n                }\n                // \u517C\u5BB9\u4E0D\u5E26 AppId \u7684 Bucket\n                if (params.Bucket) {\n                    if (!/^([a-z\\d-]+)-(\\d+)$/.test(params.Bucket)) {\n                        if (params.AppId) {\n                            params.Bucket = params.Bucket + '-' + params.AppId;\n                        } else if (self.options.AppId) {\n                            params.Bucket = params.Bucket + '-' + self.options.AppId;\n                        } else {\n                            return 'Bucket should format as \"test-1250000000\".';\n                        }\n                    }\n                    if (params.AppId) {\n                        console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:\"test-1250000000\" ).');\n                        delete params.AppId;\n                    }\n                }\n                // \u5982\u679C Key \u662F / \u5F00\u5934\uFF0C\u5F3A\u5236\u53BB\u6389\u7B2C\u4E00\u4E2A /\n                if (!self.options.UseRawKey && params.Key && params.Key.substr(0, 1) === '/') {\n                    params.Key = params.Key.substr(1);\n                }\n            }\n        };\n\n        var errMsg = checkParams();\n        var isSync = apiName === 'getAuth' || apiName === 'getObjectUrl';\n        if (window.Promise && !isSync && !callback) {\n            return new Promise(function (resolve, reject) {\n                callback = function (err, data) {\n                    err ? reject(err) : resolve(data);\n                };\n                if (errMsg) return _callback(util.error(new Error(errMsg)));\n                apiFn.call(self, params, _callback);\n            });\n        } else {\n            if (errMsg) return _callback(util.error(new Error(errMsg)));\n            var res = apiFn.call(self, params, _callback);\n            if (isSync) return res;\n        }\n    }\n};\n\nvar throttleOnProgress = function (total, onProgress) {\n    var self = this;\n    var size0 = 0;\n    var size1 = 0;\n    var time0 = Date.now();\n    var time1;\n    var timer;\n\n    function update() {\n        timer = 0;\n        if (onProgress && (typeof onProgress === 'function')) {\n            time1 = Date.now();\n            var speed = Math.max(0, Math.round((size1 - size0) / ((time1 - time0) / 1000) * 100) / 100) || 0;\n            var percent;\n            if (size1 === 0 && total === 0) {\n                percent = 1;\n            } else {\n                percent = Math.floor(size1 / total * 100) / 100 || 0;\n            }\n            time0 = time1;\n            size0 = size1;\n            try {\n                onProgress({loaded: size1, total: total, speed: speed, percent: percent});\n            } catch (e) {\n            }\n        }\n    }\n\n    return function (info, immediately) {\n        if (info) {\n            size1 = info.loaded;\n            total = info.total;\n        }\n        if (immediately) {\n            clearTimeout(timer);\n            update();\n        } else {\n            if (timer) return;\n            timer = setTimeout(update, self.options.ProgressInterval);\n        }\n    };\n};\n\nvar getFileSize = function (api, params, callback) {\n    var size;\n    if (typeof params.Body === 'string') {\n        params.Body = new Blob([params.Body], {type: 'text/plain'});\n    } else if (params.Body instanceof ArrayBuffer) {\n        params.Body = new Blob([params.Body]);\n    }\n    if ((params.Body && (params.Body instanceof Blob || params.Body.toString() === '[object File]' || params.Body.toString() === '[object Blob]'))) {\n        size = params.Body.size;\n    } else {\n        callback(util.error(new Error('params body format error, Only allow File|Blob|String.')));\n        return;\n    }\n    params.ContentLength = size;\n    callback(null, size);\n};\n\n// \u83B7\u53D6\u8C03\u6B63\u7684\u65F6\u95F4\u6233\nvar getSkewTime = function (offset) {\n    return Date.now() + (offset || 0);\n};\n\n\nvar error = function (err, opt) {\n    var sourceErr = err;\n    err.message = err.message || null;\n\n    if (typeof opt === 'string') {\n        err.error = opt;\n        err.message = opt;\n    } else if (typeof opt === 'object' && opt !== null) {\n        extend(err, opt);\n        if (opt.code || opt.name) err.code = opt.code || opt.name;\n        if (opt.message) err.message = opt.message;\n        if (opt.stack) err.stack = opt.stack;\n    }\n\n    if (typeof Object.defineProperty === 'function') {\n        Object.defineProperty(err, 'name', {writable: true, enumerable: false});\n        Object.defineProperty(err, 'message', {enumerable: true});\n    }\n\n    err.name = opt && opt.name || err.name || err.code || 'Error';\n    if (!err.code) err.code = err.name;\n    if (!err.error) err.error = clone(sourceErr); // \u517C\u5BB9\u8001\u7684\u9519\u8BEF\u683C\u5F0F\n\n    return err;\n}\n\nvar isNode = function () {\n    return typeof window !== 'object' && typeof process === 'object' && typeof require === 'function';\n}\n\nvar isCIHost = function(url) {\n    return /^https?:\\/\\/([^/]+\\.)?ci\\.[^/]+/.test(url);\n}\n\nvar util = {\n    noop: noop,\n    formatParams: formatParams,\n    apiWrapper: apiWrapper,\n    xml2json: xml2json,\n    json2xml: json2xml,\n    md5: md5,\n    clearKey: clearKey,\n    fileSlice: fileSlice,\n    getBodyMd5: getBodyMd5,\n    getFileMd5: getFileMd5,\n    binaryBase64: binaryBase64,\n    extend: extend,\n    isArray: isArray,\n    isInArray: isInArray,\n    makeArray: makeArray,\n    each: each,\n    map: map,\n    filter: filter,\n    clone: clone,\n    attr: attr,\n    uuid: uuid,\n    camSafeUrlEncode: camSafeUrlEncode,\n    throttleOnProgress: throttleOnProgress,\n    getFileSize: getFileSize,\n    getSkewTime: getSkewTime,\n    error: error,\n    obj2str: obj2str,\n    getAuth: getAuth,\n    parseSelectPayload: parseSelectPayload,\n    getSourceParams: getSourceParams,\n    isBrowser: true,\n    isNode: isNode,\n    isCIHost: isCIHost,\n};\n\nmodule.exports = util;\n", "var initEvent = function (cos) {\n    var listeners = {};\n    var getList = function (action) {\n        !listeners[action] && (listeners[action] = []);\n        return listeners[action];\n    };\n    cos.on = function (action, callback) {\n        if (action === 'task-list-update') {\n            console.warn('warning: Event \"' + action + '\" has been deprecated. Please use \"list-update\" instead.');\n        }\n        getList(action).push(callback);\n    };\n    cos.off = function (action, callback) {\n        var list = getList(action);\n        for (var i = list.length - 1; i >= 0; i--) {\n            callback === list[i] && list.splice(i, 1);\n        }\n    };\n    cos.emit = function (action, data) {\n        var list = getList(action).map(function (cb) {\n            return cb;\n        });\n        for (var i = 0; i < list.length; i++) {\n            list[i](data);\n        }\n    };\n};\n\nvar EventProxy = function () {\n    initEvent(this);\n};\n\nmodule.exports.init = initEvent;\nmodule.exports.EventProxy = EventProxy;", "var util = require('./util');\n\n// \u6309\u7167\u6587\u4EF6\u7279\u5F81\u503C\uFF0C\u7F13\u5B58 UploadId\nvar cacheKey = 'cos_sdk_upload_cache';\nvar expires = 30 * 24 * 3600;\nvar cache;\nvar timer;\n\nvar getCache = function () {\n    try {\n        var val = JSON.parse(localStorage.getItem(cacheKey));\n    } catch (e) {\n    }\n    if (!val) val = [];\n    cache = val;\n};\nvar setCache = function () {\n    try {\n        localStorage.setItem(cacheKey, JSON.stringify(cache))\n    } catch (e) {\n    }\n};\n\nvar init = function () {\n    if (cache) return;\n    getCache.call(this);\n    // \u6E05\u7406\u592A\u8001\u65E7\u7684\u6570\u636E\n    var changed = false;\n    var now = Math.round(Date.now() / 1000);\n    for (var i = cache.length - 1; i >= 0; i--) {\n        var mtime = cache[i][2];\n        if (!mtime || mtime + expires < now) {\n            cache.splice(i, 1);\n            changed = true;\n        }\n    }\n    changed && setCache();\n};\n\n// \u628A\u7F13\u5B58\u5B58\u5230\u672C\u5730\nvar save = function () {\n    if (timer) return;\n    timer = setTimeout(function () {\n        setCache();\n        timer = null;\n    }, 400);\n};\n\nvar mod = {\n    using: {},\n    // \u6807\u8BB0 UploadId \u6B63\u5728\u4F7F\u7528\n    setUsing: function (uuid) {\n        mod.using[uuid] = true;\n    },\n    // \u6807\u8BB0 UploadId \u5DF2\u7ECF\u6CA1\u5728\u4F7F\u7528\n    removeUsing: function (uuid) {\n        delete mod.using[uuid];\n    },\n    // \u7528\u4E0A\u4F20\u53C2\u6570\u751F\u6210\u54C8\u5E0C\u503C\n    getFileId: function (file, ChunkSize, Bucket, Key) {\n        if (file.name && file.size && file.lastModifiedDate && ChunkSize) {\n            return util.md5([file.name, file.size, file.lastModifiedDate, ChunkSize, Bucket, Key].join('::'));\n        } else {\n            return null;\n        }\n    },\n    // \u83B7\u53D6\u6587\u4EF6\u5BF9\u5E94\u7684 UploadId \u5217\u8868\n    getUploadIdList: function (uuid) {\n        if (!uuid) return null;\n        init.call(this);\n        var list = [];\n        for (var i = 0; i < cache.length; i++) {\n            if (cache[i][0] === uuid)\n                list.push(cache[i][1]);\n        }\n        return list.length ? list : null;\n    },\n    // \u7F13\u5B58 UploadId\n    saveUploadId: function (uuid, UploadId, limit) {\n        init.call(this);\n        if (!uuid) return;\n        // \u6E05\u7406\u6CA1\u7528\u7684 UploadId\uFF0Cjs \u6587\u4EF6\u6CA1\u6709 FilePath \uFF0C\u53EA\u6E05\u7406\u76F8\u540C\u8BB0\u5F55\n        for (var i = cache.length - 1; i >= 0; i--) {\n            var item = cache[i];\n            if (item[0] === uuid && item[1] === UploadId) {\n                cache.splice(i, 1);\n            }\n        }\n        cache.unshift([uuid, UploadId, Math.round(Date.now() / 1000)]);\n        if (cache.length > limit) cache.splice(limit);\n        save();\n    },\n    // UploadId \u5DF2\u7528\u5B8C\uFF0C\u79FB\u9664\u6389\n    removeUploadId: function (UploadId) {\n        init.call(this);\n        delete mod.using[UploadId];\n        for (var i = cache.length - 1; i >= 0; i--) {\n            if (cache[i][1] === UploadId) cache.splice(i, 1)\n        }\n        save();\n    },\n};\n\nmodule.exports = mod;\n", "var session = require('./session');\nvar util = require('./util');\n\nvar originApiMap = {};\nvar transferToTaskMethod = function (apiMap, apiName) {\n    originApiMap[apiName] = apiMap[apiName];\n    apiMap[apiName] = function (params, callback) {\n        if (params.SkipTask) {\n            originApiMap[apiName].call(this, params, callback);\n        } else {\n            this._addTask(apiName, params, callback);\n        }\n    };\n};\n\nvar initTask = function (cos) {\n\n    var queue = [];\n    var tasks = {};\n    var uploadingFileCount = 0;\n    var nextUploadIndex = 0;\n\n    // \u63A5\u53E3\u8FD4\u56DE\u7B80\u7565\u7684\u4EFB\u52A1\u4FE1\u606F\n    var formatTask = function (task) {\n        var t = {\n            id: task.id,\n            Bucket: task.Bucket,\n            Region: task.Region,\n            Key: task.Key,\n            FilePath: task.FilePath,\n            state: task.state,\n            loaded: task.loaded,\n            size: task.size,\n            speed: task.speed,\n            percent: task.percent,\n            hashPercent: task.hashPercent,\n            error: task.error,\n        };\n        if (task.FilePath) t.FilePath = task.FilePath;\n        if (task._custom) t._custom = task._custom; // \u63A7\u5236\u53F0\u4F7F\u7528\n        return t;\n    };\n\n    var emitListUpdate = (function () {\n        var timer;\n        var emit = function () {\n            timer = 0;\n            cos.emit('task-list-update', {list: util.map(queue, formatTask)});\n            cos.emit('list-update', {list: util.map(queue, formatTask)});\n        };\n        return function () {\n            if (!timer) timer = setTimeout(emit);\n        }\n    })();\n\n    var clearQueue = function () {\n        if (queue.length <= cos.options.UploadQueueSize) return;\n        for (var i = 0;\n             i < nextUploadIndex && // \u5C0F\u4E8E\u5F53\u524D\u64CD\u4F5C\u7684 index \u624D\u6E05\u7406\n             i < queue.length && // \u5927\u4E8E\u961F\u5217\u624D\u6E05\u7406\n             queue.length > cos.options.UploadQueueSize // \u5982\u679C\u8FD8\u592A\u591A\uFF0C\u624D\u7EE7\u7EED\u6E05\u7406\n            ;) {\n            var isActive = queue[i].state === 'waiting' || queue[i].state === 'checking' || queue[i].state === 'uploading';\n            if (!queue[i] || !isActive) {\n                tasks[queue[i].id] && (delete tasks[queue[i].id]);\n                queue.splice(i, 1);\n                nextUploadIndex--;\n            } else {\n                i++;\n            }\n        }\n        emitListUpdate();\n    };\n\n    var startNextTask = function () {\n        // \u68C0\u67E5\u662F\u5426\u5141\u8BB8\u589E\u52A0\u6267\u884C\u8FDB\u7A0B\n        if (uploadingFileCount >= cos.options.FileParallelLimit) return;\n        // \u8DF3\u8FC7\u4E0D\u53EF\u6267\u884C\u7684\u4EFB\u52A1\n        while (queue[nextUploadIndex] && queue[nextUploadIndex].state !== 'waiting') nextUploadIndex++;\n        // \u68C0\u67E5\u662F\u5426\u5DF2\u904D\u5386\u7ED3\u675F\n        if (nextUploadIndex >= queue.length) return;\n        // \u4E0A\u4F20\u8BE5\u904D\u5386\u5230\u7684\u4EFB\u52A1\n        var task = queue[nextUploadIndex];\n        nextUploadIndex++;\n        uploadingFileCount++;\n        task.state = 'checking';\n        task.params.onTaskStart && task.params.onTaskStart(formatTask(task));\n        !task.params.UploadData && (task.params.UploadData = {});\n        var apiParams = util.formatParams(task.api, task.params);\n        originApiMap[task.api].call(cos, apiParams, function (err, data) {\n            if (!cos._isRunningTask(task.id)) return;\n            if (task.state === 'checking' || task.state === 'uploading') {\n                task.state = err ? 'error' : 'success';\n                err && (task.error = err);\n                uploadingFileCount--;\n                emitListUpdate();\n                startNextTask();\n                task.callback && task.callback(err, data);\n                if (task.state === 'success') {\n                    if (task.params) {\n                        delete task.params.UploadData;\n                        delete task.params.Body;\n                        delete task.params;\n                    }\n                    delete task.callback;\n                }\n            }\n            clearQueue();\n        });\n        emitListUpdate();\n        // \u5F02\u6B65\u6267\u884C\u4E0B\u4E00\u4E2A\u4EFB\u52A1\n        setTimeout(startNextTask);\n    };\n\n    var killTask = function (id, switchToState) {\n        var task = tasks[id];\n        if (!task) return;\n        var waiting = task && task.state === 'waiting';\n        var running = task && (task.state === 'checking' || task.state === 'uploading');\n        if (switchToState === 'canceled' && task.state !== 'canceled' ||\n            switchToState === 'paused' && waiting ||\n            switchToState === 'paused' && running) {\n            if (switchToState === 'paused' && task.params.Body && typeof task.params.Body.pipe === 'function') {\n                console.error('stream not support pause');\n                return;\n            }\n            task.state = switchToState;\n            cos.emit('inner-kill-task', {TaskId: id, toState: switchToState});\n            try {\n                var UploadId = task && task.params && task.params.UploadData.UploadId\n            } catch(e) {}\n            if (switchToState === 'canceled' && UploadId) session.removeUsing(UploadId)\n            emitListUpdate();\n            if (running) {\n                uploadingFileCount--;\n                startNextTask();\n            }\n            if (switchToState === 'canceled') {\n                if (task.params) {\n                    delete task.params.UploadData;\n                    delete task.params.Body;\n                    delete task.params;\n                }\n                delete task.callback;\n            }\n        }\n        clearQueue();\n    };\n\n    cos._addTasks = function (taskList) {\n        util.each(taskList, function (task) {\n            cos._addTask(task.api, task.params, task.callback, true);\n        });\n        emitListUpdate();\n    };\n\n    var isTaskReadyWarning = true;\n    cos._addTask = function (api, params, callback, ignoreAddEvent) {\n\n        // \u590D\u5236\u53C2\u6570\u5BF9\u8C61\n        params = util.formatParams(api, params);\n\n        // \u751F\u6210 id\n        var id = util.uuid();\n        params.TaskId = id;\n        params.onTaskReady && params.onTaskReady(id);\n        if (params.TaskReady) {\n            params.TaskReady(id);\n            isTaskReadyWarning && console.warn('warning: Param \"TaskReady\" has been deprecated. Please use \"onTaskReady\" instead.');\n            isTaskReadyWarning = false;\n        }\n\n        var task = {\n            // env\n            params: params,\n            callback: callback,\n            api: api,\n            index: queue.length,\n            // task\n            id: id,\n            Bucket: params.Bucket,\n            Region: params.Region,\n            Key: params.Key,\n            FilePath: params.FilePath || '',\n            state: 'waiting',\n            loaded: 0,\n            size: 0,\n            speed: 0,\n            percent: 0,\n            hashPercent: 0,\n            error: null,\n            _custom: params._custom,\n        };\n        var onHashProgress = params.onHashProgress;\n        params.onHashProgress = function (info) {\n            if (!cos._isRunningTask(task.id)) return;\n            task.hashPercent = info.percent;\n            onHashProgress && onHashProgress(info);\n            emitListUpdate();\n        };\n        var onProgress = params.onProgress;\n        params.onProgress = function (info) {\n            if (!cos._isRunningTask(task.id)) return;\n            task.state === 'checking' && (task.state = 'uploading');\n            task.loaded = info.loaded;\n            task.speed = info.speed;\n            task.percent = info.percent;\n            onProgress && onProgress(info);\n            emitListUpdate();\n        };\n\n        // \u5F02\u6B65\u83B7\u53D6 filesize\n        util.getFileSize(api, params, function (err, size) {\n            // \u5F00\u59CB\u5904\u7406\u4E0A\u4F20\n            if (err) return callback(util.error(err)); // \u5982\u679C\u83B7\u53D6\u5927\u5C0F\u51FA\u9519\uFF0C\u4E0D\u52A0\u5165\u961F\u5217\n            // \u83B7\u53D6\u5B8C\u6587\u4EF6\u5927\u5C0F\u518D\u628A\u4EFB\u52A1\u52A0\u5165\u961F\u5217\n            tasks[id] = task;\n            queue.push(task);\n            task.size = size;\n            !ignoreAddEvent && emitListUpdate();\n            startNextTask();\n            clearQueue();\n        });\n        return id;\n    };\n    cos._isRunningTask = function (id) {\n        var task = tasks[id];\n        return !!(task && (task.state === 'checking' || task.state === 'uploading'));\n    };\n    cos.getTaskList = function () {\n        return util.map(queue, formatTask);\n    };\n    cos.cancelTask = function (id) {\n        killTask(id, 'canceled');\n    };\n    cos.pauseTask = function (id) {\n        killTask(id, 'paused');\n    };\n    cos.restartTask = function (id) {\n        var task = tasks[id];\n        if (task && (task.state === 'paused' || task.state === 'error')) {\n            task.state = 'waiting';\n            emitListUpdate();\n            nextUploadIndex = Math.min(nextUploadIndex, task.index);\n            startNextTask();\n        }\n    };\n    cos.isUploadRunning = function () {\n        return uploadingFileCount || nextUploadIndex < queue.length;\n    };\n\n};\n\nmodule.exports.transferToTaskMethod = transferToTaskMethod;\nmodule.exports.init = initTask;\n", "var stringifyPrimitive = function(v) {\n    switch (typeof v) {\n        case 'string':\n            return v;\n        case 'boolean':\n            return v ? 'true' : 'false';\n        case 'number':\n            return isFinite(v) ? v : '';\n        default:\n            return '';\n    }\n};\n\nvar queryStringify = function(obj, sep, eq, name) {\n    sep = sep || '&';\n    eq = eq || '=';\n    if (obj === null) {\n        obj = undefined;\n    }\n    if (typeof obj === 'object') {\n        return Object.keys(obj).map(function(k) {\n            var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n            if (Array.isArray(obj[k])) {\n                return obj[k].map(function(v) {\n                    return ks + encodeURIComponent(stringifyPrimitive(v));\n                }).join(sep);\n            } else {\n                return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n            }\n        }).filter(Boolean).join(sep);\n\n    }\n    if (!name) return '';\n    return encodeURIComponent(stringifyPrimitive(name)) + eq +\n        encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar xhrRes = function (err, xhr, body) {\n    var headers = {};\n    xhr.getAllResponseHeaders().trim().split('\\n').forEach(function (item) {\n        if (item) {\n            var index = item.indexOf(':');\n            var key = item.substr(0, index).trim().toLowerCase();\n            var val = item.substr(index + 1).trim();\n            headers[key] = val;\n        }\n    });\n    return {\n        error: err,\n        statusCode: xhr.status,\n        statusMessage: xhr.statusText,\n        headers: headers,\n        body: body,\n    };\n};\n\nvar xhrBody = function (xhr, dataType) {\n    return !dataType && dataType === 'text' ? xhr.responseText : xhr.response;\n};\n\nvar request = function (opt, callback) {\n\n    // method\n    var method = (opt.method || 'GET').toUpperCase();\n\n    // url\u3001qs\n    var url = opt.url;\n    if (opt.qs) {\n        var qsStr = queryStringify(opt.qs);\n        if (qsStr) {\n            url += (url.indexOf('?') === -1 ? '?' : '&') + qsStr;\n        }\n    }\n\n    // \u521B\u5EFA ajax \u5B9E\u4F8B\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    xhr.responseType = opt.dataType || 'text';\n\n    // \u5904\u7406 xhrFields \u5C5E\u6027\n    if (opt.xhrFields) {\n        for (var xhrField in opt.xhrFields) {\n            xhr[xhrField] = opt.xhrFields[xhrField]\n        }\n    }\n\n    // \u5904\u7406 headers\n    var headers = opt.headers;\n    if (headers) {\n        for (var key in headers) {\n            if (headers.hasOwnProperty(key) &&\n                key.toLowerCase() !== 'content-length' &&\n                key.toLowerCase() !== 'user-agent' &&\n                key.toLowerCase() !== 'origin' &&\n                key.toLowerCase() !== 'host') {\n                xhr.setRequestHeader(key, headers[key]);\n            }\n        }\n    }\n\n    // onprogress\n    if (opt.onProgress && xhr.upload) xhr.upload.onprogress = opt.onProgress;\n    if (opt.onDownloadProgress) xhr.onprogress = opt.onDownloadProgress;\n\n    // timeout\n    if (opt.timeout) xhr.timeout = opt.timeout;\n    xhr.ontimeout = function(event){\n        var error = new Error('timeout');\n        callback(xhrRes(error, xhr));\n    };\n\n    // success 2xx/3xx/4xx\n    xhr.onload = function () {\n        callback(xhrRes(null, xhr, xhrBody(xhr, opt.dataType)));\n    };\n\n    // error 5xx/0 (\u7F51\u7EDC\u9519\u8BEF\u3001\u8DE8\u57DF\u62A5\u9519\u3001Https connect-src \u9650\u5236\u7684\u62A5\u9519\u65F6 statusCode \u4E3A 0)\n    xhr.onerror = function (err) {\n        var body = xhrBody(xhr, opt.dataType);\n        if (body) { // 5xx\n            callback(xhrRes(null, xhr, body));\n        } else { // 0\n            var error = xhr.statusText;\n            if (!error && xhr.status === 0) error = new Error('CORS blocked or network error');\n            callback(xhrRes(error, xhr, body));\n        }\n    };\n\n    // send\n    xhr.send(opt.body || '');\n\n    // \u8FD4\u56DE ajax \u5B9E\u4F8B\uFF0C\u7528\u4E8E\u5916\u90E8\u8C03\u7528 xhr.abort\n    return xhr;\n};\n\nmodule.exports = request;\n", "var REQUEST = require('../lib/request');\nvar util = require('./util');\n\n\n// Bucket \u76F8\u5173\n\n/**\n * \u83B7\u53D6\u7528\u6237\u7684 bucket \u5217\u8868\n * @param  {Object}  params         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\uFF0C\u4E0B\u9762\u4E3A\u53C2\u6570\u5217\u8868\n * \u65E0\u7279\u6B8A\u53C2\u6570\n * @param  {Function}  callback     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n */\nfunction getService(params, callback) {\n\n    if (typeof params === 'function') {\n        callback = params;\n        params = {};\n    }\n    var protocol = this.options.Protocol || (util.isBrowser && location.protocol === 'http:' ? 'http:' : 'https:');\n    var domain = this.options.ServiceDomain;\n    var appId = params.AppId || this.options.appId;\n    var region = params.Region;\n    if (domain) {\n        domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId || '')\n            .replace(/\\{\\{Region\\}\\}/ig, region || '').replace(/\\{\\{.*?\\}\\}/ig, '');\n        if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\n            domain = protocol + '//' + domain;\n        }\n        if (domain.slice(-1) === '/') {\n            domain = domain.slice(0, -1);\n        }\n    } else if (region) {\n        domain = protocol + '//cos.' + region + '.myqcloud.com';\n    } else {\n        domain = protocol + '//service.cos.myqcloud.com';\n    }\n\n    var SignHost = '';\n    var standardHost = region ? 'cos.' + region + '.myqcloud.com' : 'service.cos.myqcloud.com';\n    var urlHost = domain.replace(/^https?:\\/\\/([^/]+)(\\/.*)?$/, '$1');\n    if (standardHost === urlHost) SignHost = standardHost;\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetService',\n        url: domain,\n        method: 'GET',\n        headers: params.Headers,\n        SignHost: SignHost,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var buckets = (data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Buckets\n            && data.ListAllMyBucketsResult.Buckets.Bucket) || [];\n        buckets = util.isArray(buckets) ? buckets : [buckets];\n        var owner = (data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Owner) || {};\n        callback(null, {\n            Buckets: buckets,\n            Owner: owner,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u521B\u5EFA Bucket\uFF0C\u5E76\u521D\u59CB\u5316\u8BBF\u95EE\u6743\u9650\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.ACL                 \u7528\u6237\u81EA\u5B9A\u4E49\u6587\u4EF6\u6743\u9650\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\uFF1Aprivate\uFF0Cpublic-read\uFF1B\u9ED8\u8BA4\u503C\uFF1Aprivate\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantRead           \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u7684\u6743\u9650\uFF0C\u683C\u5F0Fx-cos-grant-read: uin=\" \",uin=\" \"\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantWrite          \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u5199\u7684\u6743\u9650\uFF0C\u683C\u5F0Fx-cos-grant-write: uin=\" \",uin=\" \"\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantFullControl    \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u5199\u6743\u9650\uFF0C\u683C\u5F0Fx-cos-grant-full-control: uin=\" \",uin=\" \"\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {String}  data.Location             \u64CD\u4F5C\u5730\u5740\n */\nfunction putBucket(params, callback) {\n\n    var self = this;\n\n    var xml = '';\n    if(params['BucketAZConfig']){\n        var CreateBucketConfiguration = {\n            BucketAZConfig: params.BucketAZConfig\n        };\n        xml = util.json2xml({CreateBucketConfiguration: CreateBucketConfiguration});\n    }\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucket',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        body: xml,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var url = getUrl({\n            protocol: self.options.Protocol,\n            domain: self.options.Domain,\n            bucket: params.Bucket,\n            region: params.Region,\n            isLocation: true,\n        });\n        callback(null, {\n            Location: url,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u67E5\u770B\u662F\u5426\u5B58\u5728\u8BE5Bucket\uFF0C\u662F\u5426\u6709\u6743\u9650\u8BBF\u95EE\n * @param  {Object}  params                     \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket          Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region          \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                 \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                       \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                      \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Boolean}  data.BucketExist     Bucket\u662F\u5426\u5B58\u5728\n *     @return  {Boolean}  data.BucketAuth      \u662F\u5426\u6709 Bucket \u7684\u8BBF\u95EE\u6743\u9650\n */\nfunction headBucket(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:HeadBucket',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        method: 'HEAD',\n    }, callback);\n}\n\n/**\n * \u83B7\u53D6 Bucket \u4E0B\u7684 object \u5217\u8868\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Prefix              \u524D\u7F00\u5339\u914D\uFF0C\u7528\u6765\u89C4\u5B9A\u8FD4\u56DE\u7684\u6587\u4EF6\u524D\u7F00\u5730\u5740\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Delimiter           \u5B9A\u754C\u7B26\u4E3A\u4E00\u4E2A\u7B26\u53F7\uFF0C\u5982\u679C\u6709Prefix\uFF0C\u5219\u5C06Prefix\u5230delimiter\u4E4B\u95F4\u7684\u76F8\u540C\u8DEF\u5F84\u5F52\u4E3A\u4E00\u7C7B\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Marker              \u9ED8\u8BA4\u4EE5UTF-8\u4E8C\u8FDB\u5236\u987A\u5E8F\u5217\u51FA\u6761\u76EE\uFF0C\u6240\u6709\u5217\u51FA\u6761\u76EE\u4ECEmarker\u5F00\u59CB\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.MaxKeys             \u5355\u6B21\u8FD4\u56DE\u6700\u5927\u7684\u6761\u76EE\u6570\u91CF\uFF0C\u9ED8\u8BA41000\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.EncodingType        \u89C4\u5B9A\u8FD4\u56DE\u503C\u7684\u7F16\u7801\u65B9\u5F0F\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.ListBucketResult     \u8FD4\u56DE\u7684 object \u5217\u8868\u4FE1\u606F\n */\nfunction getBucket(params, callback) {\n    var reqParams = {};\n    reqParams['prefix'] = params['Prefix'] || '';\n    reqParams['delimiter'] = params['Delimiter'];\n    reqParams['marker'] = params['Marker'];\n    reqParams['max-keys'] = params['MaxKeys'];\n    reqParams['encoding-type'] = params['EncodingType'];\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucket',\n        ResourceKey: reqParams['prefix'],\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        qs: reqParams,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var ListBucketResult = data.ListBucketResult || {};\n        var Contents = ListBucketResult.Contents || [];\n        var CommonPrefixes = ListBucketResult.CommonPrefixes || [];\n\n        Contents = util.isArray(Contents) ? Contents : [Contents];\n        CommonPrefixes = util.isArray(CommonPrefixes) ? CommonPrefixes : [CommonPrefixes];\n\n        var result = util.clone(ListBucketResult);\n        util.extend(result, {\n            Contents: Contents,\n            CommonPrefixes: CommonPrefixes,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n\n        callback(null, result);\n    });\n}\n\n/**\n * \u5220\u9664 Bucket\n * @param  {Object}  params                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                  \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {String}  data.Location     \u64CD\u4F5C\u5730\u5740\n */\nfunction deleteBucket(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucket',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        method: 'DELETE',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u7684 \u6743\u9650\u5217\u8868\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.ACL                 \u7528\u6237\u81EA\u5B9A\u4E49\u6587\u4EF6\u6743\u9650\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\uFF1Aprivate\uFF0Cpublic-read\uFF1B\u9ED8\u8BA4\u503C\uFF1Aprivate\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantRead           \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u7684\u6743\u9650\uFF0C\u683C\u5F0Fx-cos-grant-read: uin=\" \",uin=\" \"\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantWrite          \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u5199\u7684\u6743\u9650\uFF0C\u683C\u5F0Fx-cos-grant-write: uin=\" \",uin=\" \"\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantFullControl    \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u5199\u6743\u9650\uFF0C\u683C\u5F0Fx-cos-grant-full-control: uin=\" \",uin=\" \"\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction putBucketAcl(params, callback) {\n    var headers = params.Headers;\n\n    var xml = '';\n    if (params['AccessControlPolicy']) {\n        var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\n        var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\n        Grants = util.isArray(Grants) ? Grants : [Grants];\n        delete AccessControlPolicy.Grant;\n        delete AccessControlPolicy.Grants;\n        AccessControlPolicy.AccessControlList = {Grant: Grants};\n        xml = util.json2xml({AccessControlPolicy: AccessControlPolicy});\n\n        headers['Content-Type'] = 'application/xml';\n        headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n    }\n\n    // Grant Header \u53BB\u91CD\n    util.each(headers, function (val, key) {\n        if (key.indexOf('x-cos-grant-') === 0) {\n            headers[key] = uniqGrant(headers[key]);\n        }\n    });\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketACL',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: headers,\n        action: 'acl',\n        body: xml,\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684 \u6743\u9650\u5217\u8868\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.AccessControlPolicy  \u8BBF\u95EE\u6743\u9650\u4FE1\u606F\n */\nfunction getBucketAcl(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketACL',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'acl',\n    }, function (err, data) {\n        if (err) return callback(err);\n        var AccessControlPolicy = data.AccessControlPolicy || {};\n        var Owner = AccessControlPolicy.Owner || {};\n        var Grant = AccessControlPolicy.AccessControlList.Grant || [];\n        Grant = util.isArray(Grant) ? Grant : [Grant];\n        var result = decodeAcl(AccessControlPolicy);\n        if (data.headers && data.headers['x-cos-acl']) {\n            result.ACL = data.headers['x-cos-acl'];\n        }\n        result = util.extend(result, {\n            Owner: Owner,\n            Grants: Grant,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u7684 \u8DE8\u57DF\u8BBE\u7F6E\n * @param  {Object}  params                             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Object}  params.CORSConfiguration       \u76F8\u5173\u7684\u8DE8\u57DF\u8BBE\u7F6E\uFF0C\u5FC5\u987B\n * @param  {Array}  params.CORSConfiguration.CORSRules  \u5BF9\u5E94\u7684\u8DE8\u57DF\u89C4\u5219\n * @param  {Function}  callback                         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                              \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction putBucketCors(params, callback) {\n\n    var CORSConfiguration = params['CORSConfiguration'] || {};\n    var CORSRules = CORSConfiguration['CORSRules'] || params['CORSRules'] || [];\n    CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\n    util.each(CORSRules, function (rule) {\n        util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\n            var sKey = key + 's';\n            var val = rule[sKey] || rule[key] || [];\n            delete rule[sKey];\n            rule[key] = util.isArray(val) ? val : [val];\n        });\n    });\n\n    var xml = util.json2xml({CORSConfiguration: {CORSRule: CORSRules}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketCORS',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'cors',\n        headers: headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684 \u8DE8\u57DF\u8BBE\u7F6E\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.CORSRules            Bucket\u7684\u8DE8\u57DF\u8BBE\u7F6E\n */\nfunction getBucketCors(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketCORS',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'cors',\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchCORSConfiguration') {\n                var result = {\n                    CORSRules: [],\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n        var CORSConfiguration = data.CORSConfiguration || {};\n        var CORSRules = CORSConfiguration.CORSRules || CORSConfiguration.CORSRule || [];\n        CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\n\n        util.each(CORSRules, function (rule) {\n            util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\n                var sKey = key + 's';\n                var val = rule[sKey] || rule[key] || [];\n                delete rule[key];\n                rule[sKey] = util.isArray(val) ? val : [val];\n            });\n        });\n\n        callback(null, {\n            CORSRules: CORSRules,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u7684 \u8DE8\u57DF\u8BBE\u7F6E\n * @param  {Object}  params                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                  \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction deleteBucketCors(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketCORS',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'cors',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode || err.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684 \u5730\u57DF\u4FE1\u606F\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\uFF0C\u5305\u542B\u5730\u57DF\u4FE1\u606F LocationConstraint\n */\nfunction getBucketLocation(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketLocation',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'location',\n    }, callback);\n}\n\nfunction putBucketPolicy(params, callback) {\n    var Policy = params['Policy'];\n    try {\n        if (typeof Policy === 'string') Policy = JSON.parse(Policy);\n    } catch (e) {\n    }\n    if (!Policy || typeof Policy === 'string') return callback(util.error(new Error('Policy format error')));\n    var PolicyStr = JSON.stringify(Policy);\n    if (!Policy.version) Policy.version = '2.0';\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/json';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(PolicyStr));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketPolicy',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        action: 'policy',\n        body: PolicyStr,\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u8BFB\u53D6\u6743\u9650\u7B56\u7565\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketPolicy(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketPolicy',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'policy',\n        rawBody: true,\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode && err.statusCode === 403) {\n                return callback(util.error(err, {ErrorStatus: 'Access Denied'}));\n            }\n            if (err.statusCode && err.statusCode === 405) {\n                return callback(util.error(err, {ErrorStatus: 'Method Not Allowed'}));\n            }\n            if (err.statusCode && err.statusCode === 404) {\n                return callback(util.error(err, {ErrorStatus: 'Policy Not Found'}));\n            }\n            return callback(err);\n        }\n        var Policy = {};\n        try {\n            Policy = JSON.parse(data.body);\n        } catch (e) {\n        }\n        callback(null, {\n            Policy: Policy,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u7684 \u8DE8\u57DF\u8BBE\u7F6E\n * @param  {Object}  params                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                  \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction deleteBucketPolicy(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketPolicy',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'policy',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode || err.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u7684\u6807\u7B7E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Array}   params.TagSet  \u6807\u7B7E\u8BBE\u7F6E\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketTagging(params, callback) {\n\n    var Tagging = params['Tagging'] || {};\n    var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n    var xml = util.json2xml({Tagging: {TagSet: {Tag: Tags}}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketTagging',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'tagging',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u6807\u7B7E\u8BBE\u7F6E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketTagging(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketTagging',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'tagging',\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\n                var result = {\n                    Tags: [],\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n        var Tags = [];\n        try {\n            Tags = data.Tagging.TagSet.Tag || [];\n        } catch (e) {\n        }\n        Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n        callback(null, {\n            Tags: Tags,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u7684 \u6807\u7B7E\u8BBE\u7F6E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction deleteBucketTagging(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketTagging',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'tagging',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction putBucketLifecycle(params, callback) {\n\n    var LifecycleConfiguration = params['LifecycleConfiguration'] || {};\n    var Rules = LifecycleConfiguration.Rules || params.Rules || [];\n    Rules = util.clone(Rules);\n    var xml = util.json2xml({LifecycleConfiguration: {Rule: Rules}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketLifecycle',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'lifecycle',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction getBucketLifecycle(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketLifecycle',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'lifecycle',\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchLifecycleConfiguration') {\n                var result = {\n                    Rules: [],\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n        var Rules = [];\n        try {\n            Rules = data.LifecycleConfiguration.Rule || [];\n        } catch (e) {\n        }\n        Rules = util.clone(util.isArray(Rules) ? Rules : [Rules]);\n        callback(null, {\n            Rules: Rules,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction deleteBucketLifecycle(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketLifecycle',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'lifecycle',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction putBucketVersioning(params, callback) {\n\n    if (!params['VersioningConfiguration']) {\n        callback(util.error(new Error('missing param VersioningConfiguration')));\n        return;\n    }\n    var VersioningConfiguration = params['VersioningConfiguration'] || {};\n    var xml = util.json2xml({VersioningConfiguration: VersioningConfiguration});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketVersioning',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'versioning',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction getBucketVersioning(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketVersioning',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'versioning',\n    }, function (err, data) {\n        if (!err) {\n            !data.VersioningConfiguration && (data.VersioningConfiguration = {});\n        }\n        callback(err, data);\n    });\n}\n\nfunction putBucketReplication(params, callback) {\n    var ReplicationConfiguration = util.clone(params.ReplicationConfiguration);\n    var xml = util.json2xml({ReplicationConfiguration: ReplicationConfiguration});\n    xml = xml.replace(/<(\\/?)Rules>/ig, '<$1Rule>');\n    xml = xml.replace(/<(\\/?)Tags>/ig, '<$1Tag>');\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketReplication',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'replication',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction getBucketReplication(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketReplication',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'replication',\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode === 404 && err.error && (err.error === 'Not Found' || err.error.Code === 'ReplicationConfigurationnotFoundError')) {\n                var result = {\n                    ReplicationConfiguration: {Rules: []},\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n        !data.ReplicationConfiguration && (data.ReplicationConfiguration = {});\n        if (data.ReplicationConfiguration.Rule) {\n            data.ReplicationConfiguration.Rules = util.makeArray(data.ReplicationConfiguration.Rule);\n            delete data.ReplicationConfiguration.Rule;\n        }\n        callback(err, data);\n    });\n}\n\nfunction deleteBucketReplication(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketReplication',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'replication',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u9759\u6001\u7F51\u7AD9\u914D\u7F6E\u4FE1\u606F\n * @param  {Object}  params                                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Object}  params.WebsiteConfiguration                        \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *         @param  {Object}   WebsiteConfiguration.IndexDocument            \u7D22\u5F15\u6587\u6863\uFF0C\u5FC5\u987B\n *         @param  {Object}   WebsiteConfiguration.ErrorDocument            \u9519\u8BEF\u6587\u6863\uFF0C\u975E\u5FC5\u987B\n *         @param  {Object}   WebsiteConfiguration.RedirectAllRequestsTo    \u91CD\u5B9A\u5411\u6240\u6709\u8BF7\u6C42\uFF0C\u975E\u5FC5\u987B\n *         @param  {Array}   params.RoutingRules                            \u91CD\u5B9A\u5411\u89C4\u5219\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketWebsite(params, callback) {\n\n    if (!params['WebsiteConfiguration']) {\n        callback(util.error(new Error('missing param WebsiteConfiguration')));\n        return;\n    }\n\n    var WebsiteConfiguration = util.clone(params['WebsiteConfiguration'] || {});\n    var RoutingRules = WebsiteConfiguration['RoutingRules'] || WebsiteConfiguration['RoutingRule'] || [];\n    RoutingRules = util.isArray(RoutingRules) ? RoutingRules : [RoutingRules];\n    delete WebsiteConfiguration.RoutingRule;\n    delete WebsiteConfiguration.RoutingRules;\n    if (RoutingRules.length) WebsiteConfiguration.RoutingRules = { RoutingRule: RoutingRules };\n    var xml = util.json2xml({ WebsiteConfiguration: WebsiteConfiguration });\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketWebsite',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'website',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u9759\u6001\u7F51\u7AD9\u914D\u7F6E\u4FE1\u606F\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketWebsite(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketWebsite',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        action: 'website',\n    }, function (err, data) {\n        if (err) {\n            if(err.statusCode === 404 && err.error.Code === 'NoSuchWebsiteConfiguration'){\n                var result = {\n                    WebsiteConfiguration: {},\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n\n        var WebsiteConfiguration = data.WebsiteConfiguration || {};\n        if (WebsiteConfiguration['RoutingRules']) {\n            var RoutingRules = util.clone(WebsiteConfiguration['RoutingRules'].RoutingRule || []);\n            RoutingRules = util.makeArray(RoutingRules);\n            WebsiteConfiguration.RoutingRules = RoutingRules;\n        }\n\n        callback(null, {\n            WebsiteConfiguration: WebsiteConfiguration,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u7684\u9759\u6001\u7F51\u7AD9\u914D\u7F6E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction deleteBucketWebsite(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketWebsite',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'website',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u7684\u9632\u76D7\u94FE\u767D\u540D\u5355\u6216\u8005\u9ED1\u540D\u5355\n * @param  {Object}  params                                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Object}  params.RefererConfiguration                        \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *         @param  {String}   RefererConfiguration.Status                   \u662F\u5426\u5F00\u542F\u9632\u76D7\u94FE\uFF0C\u679A\u4E3E\u503C\uFF1AEnabled\u3001Disabled\n *         @param  {String}   RefererConfiguration.RefererType              \u9632\u76D7\u94FE\u7C7B\u578B\uFF0C\u679A\u4E3E\u503C\uFF1ABlack-List\u3001White-List\uFF0C\u5FC5\u987B\n *         @param  {Array}   RefererConfiguration.DomianList.Domain         \u751F\u6548\u57DF\u540D\uFF0C\u5FC5\u987B\n *         @param  {String}   RefererConfiguration.EmptyReferConfiguration  \uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketReferer(params, callback) {\n\n    if (!params['RefererConfiguration']) {\n        callback(util.error(new Error('missing param RefererConfiguration')));\n        return;\n    }\n\n    var RefererConfiguration = util.clone(params['RefererConfiguration'] || {});\n    var DomainList = RefererConfiguration['DomainList'] || {};\n    var Domains = DomainList['Domains'] || DomainList['Domain'] || [];\n    Domains = util.isArray(Domains) ? Domains : [Domains];\n    if (Domains.length) RefererConfiguration.DomainList = {Domain: Domains};\n    var xml = util.json2xml({ RefererConfiguration: RefererConfiguration });\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketReferer',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'referer',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u9632\u76D7\u94FE\u767D\u540D\u5355\u6216\u8005\u9ED1\u540D\u5355\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketReferer(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketReferer',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        action: 'referer',\n    }, function (err, data) {\n        if (err) {\n            if(err.statusCode === 404 && err.error.Code === 'NoSuchRefererConfiguration'){\n                var result = {\n                    WebsiteConfiguration: {},\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n\n        var RefererConfiguration = data.RefererConfiguration || {};\n        if (RefererConfiguration['DomainList']) {\n            var Domains = util.makeArray(RefererConfiguration['DomainList'].Domain || []);\n            RefererConfiguration.DomainList = {Domains: Domains};\n        }\n\n        callback(null, {\n            RefererConfiguration: RefererConfiguration,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u81EA\u5B9A\u4E49\u57DF\u540D\n * @param  {Object}  params                                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketDomain(params, callback) {\n\n    var DomainConfiguration = params['DomainConfiguration'] || {};\n    var DomainRule = DomainConfiguration.DomainRule || params.DomainRule || [];\n    DomainRule = util.clone(DomainRule);\n    var xml = util.json2xml({DomainConfiguration: {DomainRule: DomainRule}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketDomain',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'domain',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u81EA\u5B9A\u4E49\u57DF\u540D\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketDomain(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketDomain',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'domain',\n    }, function (err, data) {\n        if (err) return callback(err);\n\n        var DomainRule = [];\n        try {\n            DomainRule = data.DomainConfiguration.DomainRule || [];\n        } catch (e) {\n        }\n        DomainRule = util.clone(util.isArray(DomainRule) ? DomainRule : [DomainRule]);\n        callback(null, {\n            DomainRule: DomainRule,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u81EA\u5B9A\u4E49\u57DF\u540D\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction deleteBucketDomain(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketDomain',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'domain',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u7684\u56DE\u6E90\n * @param  {Object}  params                                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketOrigin(params, callback){\n    var OriginConfiguration = params['OriginConfiguration'] || {};\n    var OriginRule = OriginConfiguration.OriginRule || params.OriginRule || [];\n    OriginRule = util.clone(OriginRule);\n    var xml = util.json2xml({OriginConfiguration: {OriginRule: OriginRule}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketOrigin',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'origin',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u56DE\u6E90\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketOrigin(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketOrigin',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'origin',\n    }, function (err, data) {\n        if (err) return callback(err);\n\n        var OriginRule = [];\n        try {\n            OriginRule = data.OriginConfiguration.OriginRule || [];\n        } catch (e) {\n        }\n        OriginRule = util.clone(util.isArray(OriginRule) ? OriginRule : [OriginRule]);\n        callback(null, {\n            OriginRule: OriginRule,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u7684\u56DE\u6E90\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction deleteBucketOrigin(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketOrigin',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'origin',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u7684\u65E5\u5FD7\u8BB0\u5F55\n * @param  {Object}  params                                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {(Object|String)}  params.BucketLoggingStatus                         \u8BF4\u660E\u65E5\u5FD7\u8BB0\u5F55\u914D\u7F6E\u7684\u72B6\u6001\uFF0C\u5982\u679C\u65E0\u5B50\u8282\u70B9\u4FE1\u606F\u5219\u610F\u4E3A\u5173\u95ED\u65E5\u5FD7\u8BB0\u5F55\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketLogging(params, callback) {\n    var xml = util.json2xml({\n        BucketLoggingStatus: params['BucketLoggingStatus'] || ''\n    });\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketLogging',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'logging',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u65E5\u5FD7\u8BB0\u5F55\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketLogging(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketLogging',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'logging',\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n            BucketLoggingStatus: data.BucketLoggingStatus,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u521B\u5EFA/\u7F16\u8F91 Bucket \u7684\u6E05\u5355\u4EFB\u52A1\n * @param  {Object}  params                                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Id                                          \u6E05\u5355\u4EFB\u52A1\u7684\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Object}  params.InventoryConfiguration                      \u5305\u542B\u6E05\u5355\u7684\u914D\u7F6E\u53C2\u6570\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketInventory(params, callback) {\n    var InventoryConfiguration = util.clone(params['InventoryConfiguration']);\n\n    if (InventoryConfiguration.OptionalFields) {\n        var Field = InventoryConfiguration.OptionalFields || [];\n        InventoryConfiguration.OptionalFields = {\n            Field: Field\n        };\n    }\n\n    if (InventoryConfiguration.Destination\n        && InventoryConfiguration.Destination.COSBucketDestination\n        && InventoryConfiguration.Destination.COSBucketDestination.Encryption\n    ) {\n        var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n        if (Object.keys(Encryption).indexOf('SSECOS') > -1) {\n            Encryption['SSE-COS'] = Encryption['SSECOS'];\n            delete Encryption['SSECOS'];\n        }\n    }\n\n    var xml = util.json2xml({\n        InventoryConfiguration: InventoryConfiguration\n    });\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketInventory',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'inventory',\n        qs: {\n            id: params['Id']\n        },\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u6E05\u5355\u4EFB\u52A1\u4FE1\u606F\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Id      \u6E05\u5355\u4EFB\u52A1\u7684\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketInventory(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketInventory',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'inventory',\n        qs: {\n            id: params['Id']\n        }\n    }, function (err, data) {\n        if (err) return callback(err);\n\n        var InventoryConfiguration = data['InventoryConfiguration'];\n        if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\n            var Field = InventoryConfiguration.OptionalFields.Field;\n            if (!util.isArray(Field)) {\n                Field = [Field];\n            }\n            InventoryConfiguration.OptionalFields = Field;\n        }\n        if (InventoryConfiguration.Destination\n            && InventoryConfiguration.Destination.COSBucketDestination\n            && InventoryConfiguration.Destination.COSBucketDestination.Encryption\n        ) {\n            var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n            if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\n                Encryption['SSECOS'] = Encryption['SSE-COS'];\n                delete Encryption['SSE-COS'];\n            }\n        }\n\n        callback(null, {\n            InventoryConfiguration: InventoryConfiguration,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u6E05\u5355\u4EFB\u52A1\u4FE1\u606F\n * @param  {Object}  params                             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.ContinuationToken       \u5F53 COS \u54CD\u5E94\u4F53\u4E2D IsTruncated \u4E3A true\uFF0C\u4E14 NextContinuationToken \u8282\u70B9\u4E2D\u5B58\u5728\u53C2\u6570\u503C\u65F6\uFF0C\u60A8\u53EF\u4EE5\u5C06\u8FD9\u4E2A\u53C2\u6570\u4F5C\u4E3A continuation-token \u53C2\u6570\u503C\uFF0C\u4EE5\u83B7\u53D6\u4E0B\u4E00\u9875\u7684\u6E05\u5355\u4EFB\u52A1\u4FE1\u606F\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                              \u8FD4\u56DE\u6570\u636E\n */\nfunction listBucketInventory(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:ListBucketInventory',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'inventory',\n        qs: {\n            'continuation-token': params['ContinuationToken']\n        }\n    }, function (err, data) {\n        if (err) return callback(err);\n        var ListInventoryConfigurationResult = data['ListInventoryConfigurationResult'];\n        var InventoryConfigurations = ListInventoryConfigurationResult.InventoryConfiguration || [];\n        InventoryConfigurations = util.isArray(InventoryConfigurations) ? InventoryConfigurations : [InventoryConfigurations];\n        delete ListInventoryConfigurationResult['InventoryConfiguration'];\n        util.each(InventoryConfigurations, function (InventoryConfiguration) {\n            if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\n                var Field = InventoryConfiguration.OptionalFields.Field;\n                if (!util.isArray(Field)) {\n                    Field = [Field];\n                }\n                InventoryConfiguration.OptionalFields = Field;\n            }\n\n            if (InventoryConfiguration.Destination\n                && InventoryConfiguration.Destination.COSBucketDestination\n                && InventoryConfiguration.Destination.COSBucketDestination.Encryption\n            ) {\n                var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n                if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\n                    Encryption['SSECOS'] = Encryption['SSE-COS'];\n                    delete Encryption['SSE-COS'];\n                }\n            }\n        });\n        ListInventoryConfigurationResult.InventoryConfigurations = InventoryConfigurations;\n        util.extend(ListInventoryConfigurationResult, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, ListInventoryConfigurationResult);\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u7684\u6E05\u5355\u4EFB\u52A1\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Id      \u6E05\u5355\u4EFB\u52A1\u7684\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction deleteBucketInventory(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketInventory',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'inventory',\n        qs: {\n            id: params['Id']\n        }\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/* \u5168\u7403\u52A0\u901F */\nfunction putBucketAccelerate(params, callback) {\n\n    if (!params['AccelerateConfiguration']) {\n        callback(util.error(new Error('missing param AccelerateConfiguration')));\n        return;\n    }\n\n    var configuration = { AccelerateConfiguration: params.AccelerateConfiguration || {} };\n\n    var xml = util.json2xml(configuration);\n\n    var headers = {};\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketAccelerate',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'accelerate',\n        headers: headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction getBucketAccelerate(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketAccelerate',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        action: 'accelerate',\n    }, function (err, data) {\n        if (!err) {\n            !data.AccelerateConfiguration && (data.AccelerateConfiguration = {});\n        }\n        callback(err, data);\n    });\n}\n\nfunction putBucketEncryption(params, callback) {\n    var conf = params.ServerSideEncryptionConfiguration || {};\n    var Rules = conf.Rule || conf.Rules || [];\n    var xml = util.json2xml({ServerSideEncryptionConfiguration: {Rule:Rules}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketEncryption',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'encryption',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction getBucketEncryption(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketEncryption',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'encryption',\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode === 404 && err.code === 'NoSuchEncryptionConfiguration') {\n                var result = {\n                    EncryptionConfiguration: {Rules: []},\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n        var Rules = util.makeArray(data.EncryptionConfiguration && data.EncryptionConfiguration.Rule || []);\n        data.EncryptionConfiguration = {Rules: Rules};\n        callback(err, data);\n    });\n}\n\nfunction deleteBucketEncryption(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketReplication',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'encryption',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n// Object \u76F8\u5173\n\n/**\n * \u53D6\u56DE\u5BF9\u5E94Object\u7684\u5143\u6570\u636E\uFF0CHead\u7684\u6743\u9650\u4E0EGet\u7684\u6743\u9650\u4E00\u81F4\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                 \u6587\u4EF6\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.IfModifiedSince     \u5F53Object\u5728\u6307\u5B9A\u65F6\u95F4\u540E\u88AB\u4FEE\u6539\uFF0C\u5219\u8FD4\u56DE\u5BF9\u5E94Object\u5143\u4FE1\u606F\uFF0C\u5426\u5219\u8FD4\u56DE304\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u4E3A\u6307\u5B9A object \u7684\u5143\u6570\u636E\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E86 IfModifiedSince \uFF0C\u4E14\u6587\u4EF6\u672A\u4FEE\u6539\uFF0C\u5219\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\uFF0CNotModified \u5C5E\u6027\u4E3A true\n *     @return  {Boolean}  data.NotModified         \u662F\u5426\u5728 IfModifiedSince \u65F6\u95F4\u70B9\u4E4B\u540E\u672A\u4FEE\u6539\u8BE5 object\uFF0C\u5219\u4E3A true\n */\nfunction headObject(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:HeadObject',\n        method: 'HEAD',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        VersionId: params.VersionId,\n        headers: params.Headers,\n    }, function (err, data) {\n        if (err) {\n            var statusCode = err.statusCode;\n            if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\n                return callback(null, {\n                    NotModified: true,\n                    statusCode: statusCode,\n                });\n            }\n            return callback(err);\n        }\n        data.ETag = util.attr(data.headers, 'etag', '');\n        callback(null, data);\n    });\n}\n\n\nfunction listObjectVersions(params, callback) {\n    var reqParams = {};\n    reqParams['prefix'] = params['Prefix'] || '';\n    reqParams['delimiter'] = params['Delimiter'];\n    reqParams['key-marker'] = params['KeyMarker'];\n    reqParams['version-id-marker'] = params['VersionIdMarker'];\n    reqParams['max-keys'] = params['MaxKeys'];\n    reqParams['encoding-type'] = params['EncodingType'];\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketObjectVersions',\n        ResourceKey: reqParams['prefix'],\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        qs: reqParams,\n        action: 'versions',\n    }, function (err, data) {\n        if (err) return callback(err);\n        var ListVersionsResult = data.ListVersionsResult || {};\n        var DeleteMarkers = ListVersionsResult.DeleteMarker || [];\n        DeleteMarkers = util.isArray(DeleteMarkers) ? DeleteMarkers : [DeleteMarkers];\n        var Versions = ListVersionsResult.Version || [];\n        Versions = util.isArray(Versions) ? Versions : [Versions];\n\n        var result = util.clone(ListVersionsResult);\n        delete result.DeleteMarker;\n        delete result.Version;\n        util.extend(result, {\n            DeleteMarkers: DeleteMarkers,\n            Versions: Versions,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n\n        callback(null, result);\n    });\n}\n\n/**\n * \u4E0B\u8F7D object\n * @param  {Object}  params                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                         \u6587\u4EF6\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {WriteStream}  params.Output                 \u6587\u4EF6\u5199\u5165\u6D41\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.IfModifiedSince             \u5F53Object\u5728\u6307\u5B9A\u65F6\u95F4\u540E\u88AB\u4FEE\u6539\uFF0C\u5219\u8FD4\u56DE\u5BF9\u5E94Object\u5143\u4FE1\u606F\uFF0C\u5426\u5219\u8FD4\u56DE304\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.IfUnmodifiedSince           \u5982\u679C\u6587\u4EF6\u4FEE\u6539\u65F6\u95F4\u65E9\u4E8E\u6216\u7B49\u4E8E\u6307\u5B9A\u65F6\u95F4\uFF0C\u624D\u8FD4\u56DE\u6587\u4EF6\u5185\u5BB9\u3002\u5426\u5219\u8FD4\u56DE 412 (precondition failed)\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.IfMatch                     \u5F53 ETag \u4E0E\u6307\u5B9A\u7684\u5185\u5BB9\u4E00\u81F4\uFF0C\u624D\u8FD4\u56DE\u6587\u4EF6\u3002\u5426\u5219\u8FD4\u56DE 412 (precondition failed)\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.IfNoneMatch                 \u5F53 ETag \u4E0E\u6307\u5B9A\u7684\u5185\u5BB9\u4E0D\u4E00\u81F4\uFF0C\u624D\u8FD4\u56DE\u6587\u4EF6\u3002\u5426\u5219\u8FD4\u56DE304 (not modified)\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ResponseContentType         \u8BBE\u7F6E\u8FD4\u56DE\u5934\u90E8\u4E2D\u7684 Content-Type \u53C2\u6570\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ResponseContentLanguage     \u8BBE\u7F6E\u8FD4\u56DE\u5934\u90E8\u4E2D\u7684 Content-Language \u53C2\u6570\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ResponseExpires             \u8BBE\u7F6E\u8FD4\u56DE\u5934\u90E8\u4E2D\u7684 Content-Expires \u53C2\u6570\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ResponseCacheControl        \u8BBE\u7F6E\u8FD4\u56DE\u5934\u90E8\u4E2D\u7684 Cache-Control \u53C2\u6570\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ResponseContentDisposition  \u8BBE\u7F6E\u8FD4\u56DE\u5934\u90E8\u4E2D\u7684 Content-Disposition \u53C2\u6570\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ResponseContentEncoding     \u8BBE\u7F6E\u8FD4\u56DE\u5934\u90E8\u4E2D\u7684 Content-Encoding \u53C2\u6570\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @param  {Object}  err                                    \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @param  {Object}  data                                   \u4E3A\u5BF9\u5E94\u7684 object \u6570\u636E\uFF0C\u5305\u62EC body \u548C headers\n */\nfunction getObject(params, callback) {\n    var reqParams = params.Query || {};\n    var reqParamsStr = params.QueryString || '';\n    var onProgress = util.throttleOnProgress.call(this, 0, params.onProgress);\n\n    reqParams['response-content-type'] = params['ResponseContentType'];\n    reqParams['response-content-language'] = params['ResponseContentLanguage'];\n    reqParams['response-expires'] = params['ResponseExpires'];\n    reqParams['response-cache-control'] = params['ResponseCacheControl'];\n    reqParams['response-content-disposition'] = params['ResponseContentDisposition'];\n    reqParams['response-content-encoding'] = params['ResponseContentEncoding'];\n\n    // \u5982\u679C\u7528\u6237\u81EA\u5DF1\u4F20\u5165\u4E86 output\n    submitRequest.call(this, {\n        Action: 'name/cos:GetObject',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        VersionId: params.VersionId,\n        DataType: params.DataType,\n        headers: params.Headers,\n        qs: reqParams,\n        qsStr: reqParamsStr,\n        rawBody: true,\n        onDownloadProgress: onProgress,\n    }, function (err, data) {\n        onProgress(null, true);\n        if (err) {\n            var statusCode = err.statusCode;\n            if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\n                return callback(null, {\n                    NotModified: true\n                });\n            }\n            return callback(err);\n        }\n        callback(null, {\n            Body: data.body,\n            ETag: util.attr(data.headers, 'etag', ''),\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n\n}\n\n/**\n * \u4E0A\u4F20 object\n * @param  {Object} params                                          \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                                 \u6587\u4EF6\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {File || Blob || String}  params.Body                \u4E0A\u4F20\u6587\u4EF6\u5BF9\u8C61\u6216\u5B57\u7B26\u4E32\uFF0C\u5FC5\u987B\n *     @param  {String}  params.CacheControl                        RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u7F13\u5B58\u7B56\u7565\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentDisposition                  RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u6587\u4EF6\u540D\u79F0\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentEncoding                     RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u7F16\u7801\u683C\u5F0F\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentLength                       RFC 2616 \u4E2D\u5B9A\u4E49\u7684 HTTP \u8BF7\u6C42\u5185\u5BB9\u957F\u5EA6\uFF08\u5B57\u8282\uFF09\uFF0C\u5FC5\u987B\n *     @param  {String}  params.ContentType                         RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u5185\u5BB9\u7C7B\u578B\uFF08MIME\uFF09\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Expect                              \u5F53\u4F7F\u7528 Expect: 100-continue \u65F6\uFF0C\u5728\u6536\u5230\u670D\u52A1\u7AEF\u786E\u8BA4\u540E\uFF0C\u624D\u4F1A\u53D1\u9001\u8BF7\u6C42\u5185\u5BB9\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Expires                             RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u8FC7\u671F\u65F6\u95F4\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ACL                                 \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u6587\u4EF6\u6743\u9650\uFF0C\u6709\u6548\u503C\uFF1Aprivate | public-read\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantRead                           \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u53D6\u5BF9\u8C61\u7684\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantReadAcp                        \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u53D6\u5BF9\u8C61\u7684\u8BBF\u95EE\u63A7\u5236\u5217\u8868\uFF08ACL\uFF09\u7684\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantWriteAcp                       \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u5199\u5165\u5BF9\u8C61\u7684\u8BBF\u95EE\u63A7\u5236\u5217\u8868\uFF08ACL\uFF09\u7684\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantFullControl                    \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u64CD\u4F5C\u5BF9\u8C61\u7684\u6240\u6709\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.StorageClass                        \u8BBE\u7F6E\u5BF9\u8C61\u7684\u5B58\u50A8\u7EA7\u522B\uFF0C\u679A\u4E3E\u503C\uFF1ASTANDARD\u3001STANDARD_IA\u3001ARCHIVE\uFF0C\u9ED8\u8BA4\u503C\uFF1ASTANDARD\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.x-cos-meta-*                        \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u7684\u5934\u90E8\u4FE1\u606F\uFF0C\u5C06\u4F5C\u4E3A\u5BF9\u8C61\u7684\u5143\u6570\u636E\u4FDD\u5B58\u3002\u5927\u5C0F\u9650\u52362KB\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentSha1                         RFC 3174 \u4E2D\u5B9A\u4E49\u7684 160-bit \u5185\u5BB9 SHA-1 \u7B97\u6CD5\u6821\u9A8C\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ServerSideEncryption                \u652F\u6301\u6309\u7167\u6307\u5B9A\u7684\u52A0\u5BC6\u7B97\u6CD5\u8FDB\u884C\u670D\u52A1\u7AEF\u6570\u636E\u52A0\u5BC6\uFF0C\u683C\u5F0F x-cos-server-side-encryption: \"AES256\"\uFF0C\u975E\u5FC5\u987B\n *     @param  {Function}  params.onProgress                        \u4E0A\u4F20\u8FDB\u5EA6\u56DE\u8C03\u51FD\u6570\n * @param  {Function}  callback                                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                          \u4E3A\u5BF9\u5E94\u7684 object \u6570\u636E\n *     @return  {String}  data.ETag                                 \u4E3A\u5BF9\u5E94\u4E0A\u4F20\u6587\u4EF6\u7684 ETag \u503C\n */\nfunction putObject(params, callback) {\n    var self = this;\n    var FileSize = params.ContentLength;\n    var onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\n\n    // \u7279\u6B8A\u5904\u7406 Cache-Control\u3001Content-Type\uFF0C\u907F\u514D\u4EE3\u7406\u66F4\u6539\u8FD9\u4E24\u4E2A\u5B57\u6BB5\u5BFC\u81F4\u5199\u5165\u5230 Object \u5C5E\u6027\u91CC\n    var headers = params.Headers;\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n    if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\n    var needCalcMd5 = params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5 || self.options.UploadCheckContentMd5;\n    util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\n        if (md5) {\n            if (self.options.UploadCheckContentMd5) headers['Content-MD5'] = util.binaryBase64(md5);\n            if (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5) headers['x-cos-meta-md5'] = md5;\n        }\n        if (params.ContentLength !== undefined) headers['Content-Length'] = params.ContentLength;\n        onProgress(null, true); // \u4EFB\u52A1\u72B6\u6001\u5F00\u59CB uploading\n        submitRequest.call(self, {\n            Action: 'name/cos:PutObject',\n            TaskId: params.TaskId,\n            method: 'PUT',\n            Bucket: params.Bucket,\n            Region: params.Region,\n            Key: params.Key,\n            headers: params.Headers,\n            qs: params.Query,\n            body: params.Body,\n            onProgress: onProgress,\n        }, function (err, data) {\n            if (err) {\n                onProgress(null, true);\n                return callback(err);\n            }\n            onProgress({loaded: FileSize, total: FileSize}, true);\n            var url = getUrl({\n                ForcePathStyle: self.options.ForcePathStyle,\n                protocol: self.options.Protocol,\n                domain: self.options.Domain,\n                bucket: params.Bucket,\n                region: !self.options.UseAccelerate ? params.Region : 'accelerate',\n                object: params.Key,\n            });\n            url = url.substr(url.indexOf('://') + 3);\n            data.Location = url;\n            data.ETag = util.attr(data.headers, 'etag', '');\n            callback(null, data);\n        });\n    }, params.onHashProgress);\n}\n\n/**\n * \u5220\u9664 object\n * @param  {Object}  params                     \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket          Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region          \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key             object\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                 \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @param  {Object}  err                        \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @param  {Object}  data                       \u5220\u9664\u64CD\u4F5C\u6210\u529F\u4E4B\u540E\u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction deleteObject(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteObject',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        VersionId: params.VersionId,\n        action: params.Recursive ? 'recursive' : '',\n    }, function (err, data) {\n        if (err) {\n            var statusCode = err.statusCode;\n            if (statusCode && statusCode === 404) {\n                return callback(null, {BucketNotFound: true, statusCode: statusCode,});\n            } else {\n                return callback(err);\n            }\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 object \u7684 \u6743\u9650\u5217\u8868\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                 object\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.AccessControlPolicy  \u6743\u9650\u5217\u8868\n */\nfunction getObjectAcl(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetObjectACL',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        action: 'acl',\n    }, function (err, data) {\n        if (err) return callback(err);\n        var AccessControlPolicy = data.AccessControlPolicy || {};\n        var Owner = AccessControlPolicy.Owner || {};\n        var Grant = AccessControlPolicy.AccessControlList && AccessControlPolicy.AccessControlList.Grant || [];\n        Grant = util.isArray(Grant) ? Grant : [Grant];\n        var result = decodeAcl(AccessControlPolicy);\n        delete result.GrantWrite;\n        if (data.headers && data.headers['x-cos-acl']) {\n            result.ACL = data.headers['x-cos-acl'];\n        }\n        result = util.extend(result, {\n            Owner: Owner,\n            Grants: Grant,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\n/**\n * \u8BBE\u7F6E object \u7684 \u6743\u9650\u5217\u8868\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key     object\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction putObjectAcl(params, callback) {\n    var headers = params.Headers;\n\n    var xml = '';\n    if (params['AccessControlPolicy']) {\n        var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\n        var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\n        Grants = util.isArray(Grants) ? Grants : [Grants];\n        delete AccessControlPolicy.Grant;\n        delete AccessControlPolicy.Grants;\n        AccessControlPolicy.AccessControlList = {Grant: Grants};\n        xml = util.json2xml({AccessControlPolicy: AccessControlPolicy});\n\n        headers['Content-Type'] = 'application/xml';\n        headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n    }\n\n    // Grant Header \u53BB\u91CD\n    util.each(headers, function (val, key) {\n        if (key.indexOf('x-cos-grant-') === 0) {\n            headers[key] = uniqGrant(headers[key]);\n        }\n    });\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutObjectACL',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        action: 'acl',\n        headers: headers,\n        body: xml,\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * Options Object\u8BF7\u6C42\u5B9E\u73B0\u8DE8\u57DF\u8BBF\u95EE\u7684\u9884\u8BF7\u6C42\u3002\u5373\u53D1\u51FA\u4E00\u4E2A OPTIONS \u8BF7\u6C42\u7ED9\u670D\u52A1\u5668\u4EE5\u786E\u8BA4\u662F\u5426\u53EF\u4EE5\u8FDB\u884C\u8DE8\u57DF\u64CD\u4F5C\u3002\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key     object\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction optionsObject(params, callback) {\n\n    var headers = params.Headers;\n    headers['Origin'] = params['Origin'];\n    headers['Access-Control-Request-Method'] = params['AccessControlRequestMethod'];\n    headers['Access-Control-Request-Headers'] = params['AccessControlRequestHeaders'];\n\n    submitRequest.call(this, {\n        Action: 'name/cos:OptionsObject',\n        method: 'OPTIONS',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: headers,\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode && err.statusCode === 403) {\n                return callback(null, {\n                    OptionsForbidden: true,\n                    statusCode: err.statusCode\n                });\n            }\n            return callback(err);\n        }\n\n        var headers = data.headers || {};\n        callback(null, {\n            AccessControlAllowOrigin: headers['access-control-allow-origin'],\n            AccessControlAllowMethods: headers['access-control-allow-methods'],\n            AccessControlAllowHeaders: headers['access-control-allow-headers'],\n            AccessControlExposeHeaders: headers['access-control-expose-headers'],\n            AccessControlMaxAge: headers['access-control-max-age'],\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * @param  {Object}                                     \u53C2\u6570\u5217\u8868\n *     @param  {String}  Bucket                         Bucket \u540D\u79F0\n *     @param  {String}  Region                         \u5730\u57DF\u540D\u79F0\n *     @param  {String}  Key                            \u6587\u4EF6\u540D\u79F0\n *     @param  {String}  CopySource                     \u6E90\u6587\u4EF6URL\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u53EF\u4EE5\u901A\u8FC7versionid\u5B50\u8D44\u6E90\u6307\u5B9A\u5386\u53F2\u7248\u672C\n *     @param  {String}  ACL                            \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u6587\u4EF6\u6743\u9650\u3002\u6709\u6548\u503C\uFF1Aprivate\uFF0Cpublic-read\u9ED8\u8BA4\u503C\uFF1Aprivate\u3002\n *     @param  {String}  GrantRead                      \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u7684\u6743\u9650\uFF0C\u683C\u5F0F x-cos-grant-read: uin=\" \",uin=\" \"\uFF0C\u5F53\u9700\u8981\u7ED9\u5B50\u8D26\u6237\u6388\u6743\u65F6\uFF0Cuin=\"RootAcountID/SubAccountID\"\uFF0C\u5F53\u9700\u8981\u7ED9\u6839\u8D26\u6237\u6388\u6743\u65F6\uFF0Cuin=\"RootAcountID\"\u3002\n *     @param  {String}  GrantWrite                     \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u5199\u7684\u6743\u9650\uFF0C\u683C\u5F0F x-cos-grant-write: uin=\" \",uin=\" \"\uFF0C\u5F53\u9700\u8981\u7ED9\u5B50\u8D26\u6237\u6388\u6743\u65F6\uFF0Cuin=\"RootAcountID/SubAccountID\"\uFF0C\u5F53\u9700\u8981\u7ED9\u6839\u8D26\u6237\u6388\u6743\u65F6\uFF0Cuin=\"RootAcountID\"\u3002\n *     @param  {String}  GrantFullControl               \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u5199\u6743\u9650\uFF0C\u683C\u5F0F x-cos-grant-full-control: uin=\" \",uin=\" \"\uFF0C\u5F53\u9700\u8981\u7ED9\u5B50\u8D26\u6237\u6388\u6743\u65F6\uFF0Cuin=\"RootAcountID/SubAccountID\"\uFF0C\u5F53\u9700\u8981\u7ED9\u6839\u8D26\u6237\u6388\u6743\u65F6\uFF0Cuin=\"RootAcountID\"\u3002\n *     @param  {String}  MetadataDirective              \u662F\u5426\u62F7\u8D1D\u5143\u6570\u636E\uFF0C\u679A\u4E3E\u503C\uFF1ACopy, Replaced\uFF0C\u9ED8\u8BA4\u503CCopy\u3002\u5047\u5982\u6807\u8BB0\u4E3ACopy\uFF0C\u5FFD\u7565Header\u4E2D\u7684\u7528\u6237\u5143\u6570\u636E\u4FE1\u606F\u76F4\u63A5\u590D\u5236\uFF1B\u5047\u5982\u6807\u8BB0\u4E3AReplaced\uFF0C\u6309Header\u4FE1\u606F\u4FEE\u6539\u5143\u6570\u636E\u3002\u5F53\u76EE\u6807\u8DEF\u5F84\u548C\u539F\u8DEF\u5F84\u4E00\u81F4\uFF0C\u5373\u7528\u6237\u8BD5\u56FE\u4FEE\u6539\u5143\u6570\u636E\u65F6\uFF0C\u5FC5\u987B\u4E3AReplaced\n *     @param  {String}  CopySourceIfModifiedSince      \u5F53Object\u5728\u6307\u5B9A\u65F6\u95F4\u540E\u88AB\u4FEE\u6539\uFF0C\u5219\u6267\u884C\u64CD\u4F5C\uFF0C\u5426\u5219\u8FD4\u56DE412\u3002\u53EF\u4E0Ex-cos-copy-source-If-None-Match\u4E00\u8D77\u4F7F\u7528\uFF0C\u4E0E\u5176\u4ED6\u6761\u4EF6\u8054\u5408\u4F7F\u7528\u8FD4\u56DE\u51B2\u7A81\u3002\n *     @param  {String}  CopySourceIfUnmodifiedSince    \u5F53Object\u5728\u6307\u5B9A\u65F6\u95F4\u540E\u672A\u88AB\u4FEE\u6539\uFF0C\u5219\u6267\u884C\u64CD\u4F5C\uFF0C\u5426\u5219\u8FD4\u56DE412\u3002\u53EF\u4E0Ex-cos-copy-source-If-Match\u4E00\u8D77\u4F7F\u7528\uFF0C\u4E0E\u5176\u4ED6\u6761\u4EF6\u8054\u5408\u4F7F\u7528\u8FD4\u56DE\u51B2\u7A81\u3002\n *     @param  {String}  CopySourceIfMatch              \u5F53Object\u7684ETag\u548C\u7ED9\u5B9A\u4E00\u81F4\u65F6\uFF0C\u5219\u6267\u884C\u64CD\u4F5C\uFF0C\u5426\u5219\u8FD4\u56DE412\u3002\u53EF\u4E0Ex-cos-copy-source-If-Unmodified-Since\u4E00\u8D77\u4F7F\u7528\uFF0C\u4E0E\u5176\u4ED6\u6761\u4EF6\u8054\u5408\u4F7F\u7528\u8FD4\u56DE\u51B2\u7A81\u3002\n *     @param  {String}  CopySourceIfNoneMatch          \u5F53Object\u7684ETag\u548C\u7ED9\u5B9A\u4E0D\u4E00\u81F4\u65F6\uFF0C\u5219\u6267\u884C\u64CD\u4F5C\uFF0C\u5426\u5219\u8FD4\u56DE412\u3002\u53EF\u4E0Ex-cos-copy-source-If-Modified-Since\u4E00\u8D77\u4F7F\u7528\uFF0C\u4E0E\u5176\u4ED6\u6761\u4EF6\u8054\u5408\u4F7F\u7528\u8FD4\u56DE\u51B2\u7A81\u3002\n *     @param  {String}  StorageClass                   \u5B58\u50A8\u7EA7\u522B\uFF0C\u679A\u4E3E\u503C\uFF1A\u5B58\u50A8\u7EA7\u522B\uFF0C\u679A\u4E3E\u503C\uFF1AStandard, Standard_IA\uFF0CArchive\uFF1B\u9ED8\u8BA4\u503C\uFF1AStandard\n *     @param  {String}  CacheControl                   \u6307\u5B9A\u6240\u6709\u7F13\u5B58\u673A\u5236\u5728\u6574\u4E2A\u8BF7\u6C42/\u54CD\u5E94\u94FE\u4E2D\u5FC5\u987B\u670D\u4ECE\u7684\u6307\u4EE4\u3002\n *     @param  {String}  ContentDisposition             MIME \u534F\u8BAE\u7684\u6269\u5C55\uFF0CMIME \u534F\u8BAE\u6307\u793A MIME \u7528\u6237\u4EE3\u7406\u5982\u4F55\u663E\u793A\u9644\u52A0\u7684\u6587\u4EF6\n *     @param  {String}  ContentEncoding                HTTP \u4E2D\u7528\u6765\u5BF9\u300C\u91C7\u7528\u4F55\u79CD\u7F16\u7801\u683C\u5F0F\u4F20\u8F93\u6B63\u6587\u300D\u8FDB\u884C\u534F\u5B9A\u7684\u4E00\u5BF9\u5934\u90E8\u5B57\u6BB5\n *     @param  {String}  ContentLength                  \u8BBE\u7F6E\u54CD\u5E94\u6D88\u606F\u7684\u5B9E\u4F53\u5185\u5BB9\u7684\u5927\u5C0F\uFF0C\u5355\u4F4D\u4E3A\u5B57\u8282\n *     @param  {String}  ContentType                    RFC 2616 \u4E2D\u5B9A\u4E49\u7684 HTTP \u8BF7\u6C42\u5185\u5BB9\u7C7B\u578B\uFF08MIME\uFF09\uFF0C\u4F8B\u5982text/plain\n *     @param  {String}  Expect                         \u8BF7\u6C42\u7684\u7279\u5B9A\u7684\u670D\u52A1\u5668\u884C\u4E3A\n *     @param  {String}  Expires                        \u54CD\u5E94\u8FC7\u671F\u7684\u65E5\u671F\u548C\u65F6\u95F4\n *     @param  {String}  params.ServerSideEncryption   \u652F\u6301\u6309\u7167\u6307\u5B9A\u7684\u52A0\u5BC6\u7B97\u6CD5\u8FDB\u884C\u670D\u52A1\u7AEF\u6570\u636E\u52A0\u5BC6\uFF0C\u683C\u5F0F x-cos-server-side-encryption: \"AES256\"\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  ContentLanguage                \u6307\u5B9A\u5185\u5BB9\u8BED\u8A00\n *     @param  {String}  x-cos-meta-*                   \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u7684\u5934\u90E8\u4FE1\u606F\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u8FD4\u56DE\u3002\u5927\u5C0F\u9650\u52362K\u3002\n */\nfunction putObjectCopy(params, callback) {\n\n    // \u7279\u6B8A\u5904\u7406 Cache-Control\n    var self = this;\n    var headers = params.Headers;\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n\n    var CopySource = params.CopySource || '';\n    var m = util.getSourceParams.call(this, CopySource);\n    if (!m) {\n        callback(util.error(new Error('CopySource format error')));\n        return;\n    }\n\n    var SourceBucket = m[1];\n    var SourceRegion = m[3];\n    var SourceKey = decodeURIComponent(m[4]);\n\n    submitRequest.call(this, {\n        Scope: [{\n            action: 'name/cos:GetObject',\n            bucket: SourceBucket,\n            region: SourceRegion,\n            prefix: SourceKey,\n        }, {\n            action: 'name/cos:PutObject',\n            bucket: params.Bucket,\n            region: params.Region,\n            prefix: params.Key,\n        }],\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        VersionId: params.VersionId,\n        headers: params.Headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var result = util.clone(data.CopyObjectResult || {});\n        var url = getUrl({\n            ForcePathStyle: self.options.ForcePathStyle,\n            protocol: self.options.Protocol,\n            domain: self.options.Domain,\n            bucket: params.Bucket,\n            region: params.Region,\n            object: params.Key,\n            isLocation: true,\n        });\n        util.extend(result, {\n            Location: url,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\nfunction uploadPartCopy(params, callback) {\n\n    var CopySource = params.CopySource || '';\n    var m = util.getSourceParams.call(this, CopySource);\n    if (!m) {\n        callback(util.error(new Error('CopySource format error')));\n        return;\n    }\n\n    var SourceBucket = m[1];\n    var SourceRegion = m[3];\n    var SourceKey = decodeURIComponent(m[4]);\n\n    submitRequest.call(this, {\n        Scope: [{\n            action: 'name/cos:GetObject',\n            bucket: SourceBucket,\n            region: SourceRegion,\n            prefix: SourceKey,\n        }, {\n            action: 'name/cos:PutObject',\n            bucket: params.Bucket,\n            region: params.Region,\n            prefix: params.Key,\n        }],\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        VersionId: params.VersionId,\n        qs: {\n            partNumber: params['PartNumber'],\n            uploadId: params['UploadId'],\n        },\n        headers: params.Headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var result = util.clone(data.CopyPartResult || {});\n        util.extend(result, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\nfunction deleteMultipleObject(params, callback) {\n    var Objects = params.Objects || [];\n    var Quiet = params.Quiet;\n    Objects = util.isArray(Objects) ? Objects : [Objects];\n\n    var xml = util.json2xml({Delete: {Object: Objects, Quiet: Quiet || false}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    var Scope = util.map(Objects, function (v) {\n        return {\n            action: 'name/cos:DeleteObject',\n            bucket: params.Bucket,\n            region: params.Region,\n            prefix: v.Key,\n        };\n    });\n\n    submitRequest.call(this, {\n        Scope: Scope,\n        method: 'POST',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'delete',\n        headers: headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var DeleteResult = data.DeleteResult || {};\n        var Deleted = DeleteResult.Deleted || [];\n        var Errors = DeleteResult.Error || [];\n\n        Deleted = util.isArray(Deleted) ? Deleted : [Deleted];\n        Errors = util.isArray(Errors) ? Errors : [Errors];\n\n        var result = util.clone(DeleteResult);\n        util.extend(result, {\n            Error: Errors,\n            Deleted: Deleted,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\nfunction restoreObject(params, callback) {\n    var headers = params.Headers;\n    if (!params['RestoreRequest']) {\n        callback(util.error(new Error('missing param RestoreRequest')));\n        return;\n    }\n\n    var RestoreRequest = params.RestoreRequest || {};\n    var xml = util.json2xml({RestoreRequest: RestoreRequest});\n\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:RestoreObject',\n        method: 'POST',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        VersionId: params.VersionId,\n        body: xml,\n        action: 'restore',\n        headers: headers,\n    }, callback);\n}\n\n/**\n * \u8BBE\u7F6E Object \u7684\u6807\u7B7E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Array}   params.TagSet  \u6807\u7B7E\u8BBE\u7F6E\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction putObjectTagging(params, callback) {\n\n    var Tagging = params['Tagging'] || {};\n    var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n    var xml = util.json2xml({Tagging: {TagSet: {Tag: Tags}}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutObjectTagging',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Key: params.Key,\n        Region: params.Region,\n        body: xml,\n        action: 'tagging',\n        headers: headers,\n        VersionId: params.VersionId,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Object \u7684\u6807\u7B7E\u8BBE\u7F6E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getObjectTagging(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetObjectTagging',\n        method: 'GET',\n        Key: params.Key,\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'tagging',\n        VersionId: params.VersionId,\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\n                var result = {\n                    Tags: [],\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n        var Tags = [];\n        try {\n            Tags = data.Tagging.TagSet.Tag || [];\n        } catch (e) {\n        }\n        Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n        callback(null, {\n            Tags: Tags,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Object \u7684 \u6807\u7B7E\u8BBE\u7F6E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data              \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction deleteObjectTagging(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteObjectTagging',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        action: 'tagging',\n        VersionId: params.VersionId,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u4F7F\u7528 SQL \u8BED\u53E5\u4ECE\u6307\u5B9A\u5BF9\u8C61\uFF08CSV \u683C\u5F0F\u6216\u8005 JSON \u683C\u5F0F\uFF09\u4E2D\u68C0\u7D22\u5185\u5BB9\n * @param  {Object}  params                   \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket        Object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region        \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Object}  params.SelectRequest \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback               \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                     \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data                    \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction selectObjectContent(params, callback) {\n    var SelectType = params['SelectType'];\n    if (!SelectType) return callback(util.error(new Error('missing param SelectType')));\n\n    var SelectRequest = params['SelectRequest'] || {};\n    var xml = util.json2xml({SelectRequest: SelectRequest});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetObject',\n        method: 'POST',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        action: 'select',\n        qs: {\n            'select-type': params['SelectType'],\n        },\n        VersionId: params.VersionId,\n        body: xml,\n        DataType: 'arraybuffer',\n        rawBody: true,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        var result = util.parseSelectPayload(data.body);\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n            Body: result.body,\n            Payload: result.payload,\n        });\n    });\n}\n\n\n// \u5206\u5757\u4E0A\u4F20\n\n\n/**\n * \u521D\u59CB\u5316\u5206\u5757\u4E0A\u4F20\n * @param  {Object}  params                                     \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                          Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                          \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                             object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.UploadId                        object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.CacheControl                    RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u7F13\u5B58\u7B56\u7565\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentDisposition              RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u6587\u4EF6\u540D\u79F0\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58    \uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentEncoding                 RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u7F16\u7801\u683C\u5F0F\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentType                     RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u5185\u5BB9\u7C7B\u578B\uFF08MIME\uFF09\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Expires                         RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u8FC7\u671F\u65F6\u95F4\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ACL                             \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u6587\u4EF6\u6743\u9650\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantRead                       \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u7684\u6743\u9650 \uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantWrite                      \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u5199\u7684\u6743\u9650 \uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantFullControl                \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u5199\u6743\u9650 \uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.StorageClass                    \u8BBE\u7F6EObject\u7684\u5B58\u50A8\u7EA7\u522B\uFF0C\u679A\u4E3E\u503C\uFF1AStandard\uFF0CStandard_IA\uFF0CArchive\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ServerSideEncryption           \u652F\u6301\u6309\u7167\u6307\u5B9A\u7684\u52A0\u5BC6\u7B97\u6CD5\u8FDB\u884C\u670D\u52A1\u7AEF\u6570\u636E\u52A0\u5BC6\uFF0C\u683C\u5F0F x-cos-server-side-encryption: \"AES256\"\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                                 \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                       \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                      \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction multipartInit(params, callback) {\n\n    var self = this;\n    // \u7279\u6B8A\u5904\u7406 Cache-Control\n    var headers = params.Headers;\n\n    // \u7279\u6B8A\u5904\u7406 Cache-Control\u3001Content-Type\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n    if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\n\n    util.getBodyMd5(params.Body && (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5), params.Body, function (md5) {\n        if (md5) params.Headers['x-cos-meta-md5'] = md5;\n        submitRequest.call(self, {\n            Action: 'name/cos:InitiateMultipartUpload',\n            method: 'POST',\n            Bucket: params.Bucket,\n            Region: params.Region,\n            Key: params.Key,\n            action: 'uploads',\n            headers: params.Headers,\n            qs: params.Query,\n        }, function (err, data) {\n            if (err) return callback(err);\n            data = util.clone(data || {});\n            if (data && data.InitiateMultipartUploadResult) {\n                return callback(null, util.extend(data.InitiateMultipartUploadResult, {\n                    statusCode: data.statusCode,\n                    headers: data.headers,\n                }));\n            }\n            callback(null, data);\n        });\n    }, params.onHashProgress);\n}\n\n/**\n * \u5206\u5757\u4E0A\u4F20\n * @param  {Object}  params                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                         object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {File || Blob || String}  params.Body        \u4E0A\u4F20\u6587\u4EF6\u5BF9\u8C61\u6216\u5B57\u7B26\u4E32\n *     @param  {String} params.ContentLength                RFC 2616 \u4E2D\u5B9A\u4E49\u7684 HTTP \u8BF7\u6C42\u5185\u5BB9\u957F\u5EA6\uFF08\u5B57\u8282\uFF09\uFF0C\u975E\u5FC5\u987B\n *     @param  {String} params.Expect                       \u5F53\u4F7F\u7528 Expect: 100-continue \u65F6\uFF0C\u5728\u6536\u5230\u670D\u52A1\u7AEF\u786E\u8BA4\u540E\uFF0C\u624D\u4F1A\u53D1\u9001\u8BF7\u6C42\u5185\u5BB9\uFF0C\u975E\u5FC5\u987B\n *     @param  {String} params.ServerSideEncryption         \u652F\u6301\u6309\u7167\u6307\u5B9A\u7684\u52A0\u5BC6\u7B97\u6CD5\u8FDB\u884C\u670D\u52A1\u7AEF\u6570\u636E\u52A0\u5BC6\uFF0C\u683C\u5F0F x-cos-server-side-encryption: \"AES256\"\uFF0C\u975E\u5FC5\u987B\n *     @param  {String} params.ContentSha1                  RFC 3174 \u4E2D\u5B9A\u4E49\u7684 160-bit \u5185\u5BB9 SHA-1 \u7B97\u6CD5\u6821\u9A8C\u503C\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n *     @return  {Object}  err                               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}  data                              \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.ETag                         \u8FD4\u56DE\u7684\u6587\u4EF6\u5206\u5757 sha1 \u503C\n */\nfunction multipartUpload(params, callback) {\n\n    var self = this;\n    util.getFileSize('multipartUpload', params, function () {\n        util.getBodyMd5(self.options.UploadCheckContentMd5, params.Body, function (md5) {\n            if (md5) params.Headers['Content-MD5'] = util.binaryBase64(md5);\n            submitRequest.call(self, {\n                Action: 'name/cos:UploadPart',\n                TaskId: params.TaskId,\n                method: 'PUT',\n                Bucket: params.Bucket,\n                Region: params.Region,\n                Key: params.Key,\n                qs: {\n                    partNumber: params['PartNumber'],\n                    uploadId: params['UploadId'],\n                },\n                headers: params.Headers,\n                onProgress: params.onProgress,\n                body: params.Body || null\n            }, function (err, data) {\n                if (err) return callback(err);\n                callback(null, {\n                    ETag: util.attr(data.headers, 'etag', ''),\n                    statusCode: data.statusCode,\n                    headers: data.headers,\n                });\n            });\n        });\n    });\n\n}\n\n/**\n * \u5B8C\u6210\u5206\u5757\u4E0A\u4F20\n * @param  {Object}  params                             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                     object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Array}   params.Parts                   \u5206\u5757\u4FE1\u606F\u5217\u8868\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Parts[i].PartNumber     \u5757\u7F16\u53F7\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Parts[i].ETag           \u5206\u5757\u7684 sha1 \u6821\u9A8C\u503C\n * @param  {Function}  callback                         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                              \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.CompleteMultipartUpload  \u5B8C\u6210\u5206\u5757\u4E0A\u4F20\u540E\u7684\u6587\u4EF6\u4FE1\u606F\uFF0C\u5305\u62ECLocation, Bucket, Key \u548C ETag\n */\nfunction multipartComplete(params, callback) {\n    var self = this;\n\n    var UploadId = params.UploadId;\n\n    var Parts = params['Parts'];\n\n    for (var i = 0, len = Parts.length; i < len; i++) {\n        if (Parts[i]['ETag'] && Parts[i]['ETag'].indexOf('\"') === 0) {\n            continue;\n        }\n        Parts[i]['ETag'] = '\"' + Parts[i]['ETag'] + '\"';\n    }\n\n    var xml = util.json2xml({CompleteMultipartUpload: {Part: Parts}});\n    // CSP/ceph CompleteMultipartUpload \u63A5\u53E3 body \u5199\u6B7B\u4E86\u9650\u5236 1MB\uFF0C\u8FD9\u91CC\u9189\u5012 10000 \u7247\u65F6\uFF0Cxml \u5B57\u7B26\u4E32\u53BB\u6389\u7A7A\u683C853KB\n    xml = xml.replace(/\\n\\s*/g, '');\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:CompleteMultipartUpload',\n        method: 'POST',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        qs: {\n            uploadId: UploadId\n        },\n        body: xml,\n        headers: headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var url = getUrl({\n            ForcePathStyle: self.options.ForcePathStyle,\n            protocol: self.options.Protocol,\n            domain: self.options.Domain,\n            bucket: params.Bucket,\n            region: params.Region,\n            object: params.Key,\n            isLocation: true,\n        });\n        var res = data.CompleteMultipartUploadResult || {};\n        if (res.ProcessResults) {\n            if (res && res.ProcessResults) {\n                res.UploadResult = {\n                    OriginalInfo: {\n                        Key: res.Key,\n                        Location: url,\n                        ETag: res.ETag,\n                        ImageInfo: res.ImageInfo,\n                    },\n                    ProcessResults: res.ProcessResults,\n                };\n                delete res.ImageInfo;\n                delete res.ProcessResults;\n            }\n        }\n        var result = util.extend(res, {\n            Location: url,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\n/**\n * \u5206\u5757\u4E0A\u4F20\u4EFB\u52A1\u5217\u8868\u67E5\u8BE2\n * @param  {Object}  params                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Delimiter                   \u5B9A\u754C\u7B26\u4E3A\u4E00\u4E2A\u7B26\u53F7\uFF0C\u5982\u679C\u6709Prefix\uFF0C\u5219\u5C06Prefix\u5230delimiter\u4E4B\u95F4\u7684\u76F8\u540C\u8DEF\u5F84\u5F52\u4E3A\u4E00\u7C7B\uFF0C\u5B9A\u4E49\u4E3ACommon Prefix\uFF0C\u7136\u540E\u5217\u51FA\u6240\u6709Common Prefix\u3002\u5982\u679C\u6CA1\u6709Prefix\uFF0C\u5219\u4ECE\u8DEF\u5F84\u8D77\u70B9\u5F00\u59CB\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.EncodingType                \u89C4\u5B9A\u8FD4\u56DE\u503C\u7684\u7F16\u7801\u65B9\u5F0F\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Prefix                      \u524D\u7F00\u5339\u914D\uFF0C\u7528\u6765\u89C4\u5B9A\u8FD4\u56DE\u7684\u6587\u4EF6\u524D\u7F00\u5730\u5740\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.MaxUploads                  \u5355\u6B21\u8FD4\u56DE\u6700\u5927\u7684\u6761\u76EE\u6570\u91CF\uFF0C\u9ED8\u8BA41000\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.KeyMarker                   \u4E0Eupload-id-marker\u4E00\u8D77\u4F7F\u7528 </Br>\u5F53upload-id-marker\u672A\u88AB\u6307\u5B9A\u65F6\uFF0CObjectName\u5B57\u6BCD\u987A\u5E8F\u5927\u4E8Ekey-marker\u7684\u6761\u76EE\u5C06\u88AB\u5217\u51FA </Br>\u5F53upload-id-marker\u88AB\u6307\u5B9A\u65F6\uFF0CObjectName\u5B57\u6BCD\u987A\u5E8F\u5927\u4E8Ekey-marker\u7684\u6761\u76EE\u88AB\u5217\u51FA\uFF0CObjectName\u5B57\u6BCD\u987A\u5E8F\u7B49\u4E8Ekey-marker\u540C\u65F6UploadId\u5927\u4E8Eupload-id-marker\u7684\u6761\u76EE\u5C06\u88AB\u5217\u51FA\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.UploadIdMarker              \u4E0Ekey-marker\u4E00\u8D77\u4F7F\u7528 </Br>\u5F53key-marker\u672A\u88AB\u6307\u5B9A\u65F6\uFF0Cupload-id-marker\u5C06\u88AB\u5FFD\u7565 </Br>\u5F53key-marker\u88AB\u6307\u5B9A\u65F6\uFF0CObjectName\u5B57\u6BCD\u987A\u5E8F\u5927\u4E8Ekey-marker\u7684\u6761\u76EE\u88AB\u5217\u51FA\uFF0CObjectName\u5B57\u6BCD\u987A\u5E8F\u7B49\u4E8Ekey-marker\u540C\u65F6UploadId\u5927\u4E8Eupload-id-marker\u7684\u6761\u76EE\u5C06\u88AB\u5217\u51FA\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                  \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.ListMultipartUploadsResult   \u5206\u5757\u4E0A\u4F20\u4EFB\u52A1\u4FE1\u606F\n */\nfunction multipartList(params, callback) {\n    var reqParams = {};\n\n    reqParams['delimiter'] = params['Delimiter'];\n    reqParams['encoding-type'] = params['EncodingType'];\n    reqParams['prefix'] = params['Prefix'] || '';\n\n    reqParams['max-uploads'] = params['MaxUploads'];\n\n    reqParams['key-marker'] = params['KeyMarker'];\n    reqParams['upload-id-marker'] = params['UploadIdMarker'];\n\n    reqParams = util.clearKey(reqParams);\n\n    submitRequest.call(this, {\n        Action: 'name/cos:ListMultipartUploads',\n        ResourceKey: reqParams['prefix'],\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        qs: reqParams,\n        action: 'uploads',\n    }, function (err, data) {\n        if (err) return callback(err);\n\n        if (data && data.ListMultipartUploadsResult) {\n            var Upload = data.ListMultipartUploadsResult.Upload || [];\n            Upload = util.isArray(Upload) ? Upload : [Upload];\n            data.ListMultipartUploadsResult.Upload = Upload;\n        }\n        var result = util.clone(data.ListMultipartUploadsResult || {});\n        util.extend(result, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\n/**\n * \u4E0A\u4F20\u7684\u5206\u5757\u5217\u8868\u67E5\u8BE2\n * @param  {Object}  params                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                         object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.UploadId                    \u6807\u793A\u672C\u6B21\u5206\u5757\u4E0A\u4F20\u7684ID\uFF0C\u5FC5\u987B\n *     @param  {String}  params.EncodingType                \u89C4\u5B9A\u8FD4\u56DE\u503C\u7684\u7F16\u7801\u65B9\u5F0F\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.MaxParts                    \u5355\u6B21\u8FD4\u56DE\u6700\u5927\u7684\u6761\u76EE\u6570\u91CF\uFF0C\u9ED8\u8BA41000\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.PartNumberMarker            \u9ED8\u8BA4\u4EE5UTF-8\u4E8C\u8FDB\u5236\u987A\u5E8F\u5217\u51FA\u6761\u76EE\uFF0C\u6240\u6709\u5217\u51FA\u6761\u76EE\u4ECEmarker\u5F00\u59CB\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                  \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.ListMultipartUploadsResult   \u5206\u5757\u4FE1\u606F\n */\nfunction multipartListPart(params, callback) {\n    var reqParams = {};\n\n    reqParams['uploadId'] = params['UploadId'];\n    reqParams['encoding-type'] = params['EncodingType'];\n    reqParams['max-parts'] = params['MaxParts'];\n    reqParams['part-number-marker'] = params['PartNumberMarker'];\n\n    submitRequest.call(this, {\n        Action: 'name/cos:ListParts',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        qs: reqParams,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var ListPartsResult = data.ListPartsResult || {};\n        var Part = ListPartsResult.Part || [];\n        Part = util.isArray(Part) ? Part : [Part];\n\n        ListPartsResult.Part = Part;\n        var result = util.clone(ListPartsResult);\n        util.extend(result, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\n/**\n * \u629B\u5F03\u5206\u5757\u4E0A\u4F20\n * @param  {Object}  params                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key         object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.UploadId    \u6807\u793A\u672C\u6B21\u5206\u5757\u4E0A\u4F20\u7684ID\uFF0C\u5FC5\u987B\n * @param  {Function}  callback             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n *     @return  {Object}    err             \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data            \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction multipartAbort(params, callback) {\n    var reqParams = {};\n\n    reqParams['uploadId'] = params['UploadId'];\n    submitRequest.call(this, {\n        Action: 'name/cos:AbortMultipartUpload',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        qs: reqParams,\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u629B\u5F03\u5206\u5757\u4E0A\u4F20\n * @param  {Object}  params                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key         object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.UploadId    \u6807\u793A\u672C\u6B21\u5206\u5757\u4E0A\u4F20\u7684ID\uFF0C\u5FC5\u987B\n * @param  {Function}  callback             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n *     @return  {Object}    err             \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data            \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction request(params, callback) {\n    submitRequest.call(this, {\n        method: params.Method,\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        action: params.Action,\n        headers: params.Headers,\n        qs: params.Query,\n        body: params.Body,\n        Url: params.Url,\n        rawBody: params.RawBody,\n    }, function (err, data) {\n        if (err) return callback(err);\n        if (data && data.body) {\n            data.Body = data.body;\n            delete data.body;\n        }\n        callback(err, data);\n    });\n}\n\n/**\n * \u8FFD\u52A0\u4E0A\u4F20\n * @param  {Object}  params                                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                                 object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {File || Blob || String}  params.Body                \u4E0A\u4F20\u6587\u4EF6\u5BF9\u8C61\u6216\u5B57\u7B26\u4E32\n *     @param  {Number}  params.Position                            \u8FFD\u52A0\u64CD\u4F5C\u7684\u8D77\u59CB\u70B9\uFF0C\u5355\u4F4D\u4E3A\u5B57\u8282\uFF0C\u5FC5\u987B\n *     @param  {String}  params.CacheControl                        RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u7F13\u5B58\u7B56\u7565\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentDisposition                  RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u6587\u4EF6\u540D\u79F0\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentEncoding                     RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u7F16\u7801\u683C\u5F0F\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentLength                       RFC 2616 \u4E2D\u5B9A\u4E49\u7684 HTTP \u8BF7\u6C42\u5185\u5BB9\u957F\u5EA6\uFF08\u5B57\u8282\uFF09\uFF0C\u5FC5\u987B\n *     @param  {String}  params.ContentType                         RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u5185\u5BB9\u7C7B\u578B\uFF08MIME\uFF09\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Expect                              \u5F53\u4F7F\u7528 Expect: 100-continue \u65F6\uFF0C\u5728\u6536\u5230\u670D\u52A1\u7AEF\u786E\u8BA4\u540E\uFF0C\u624D\u4F1A\u53D1\u9001\u8BF7\u6C42\u5185\u5BB9\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Expires                             RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u8FC7\u671F\u65F6\u95F4\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ACL                                 \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u6587\u4EF6\u6743\u9650\uFF0C\u6709\u6548\u503C\uFF1Aprivate | public-read\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantRead                           \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u53D6\u5BF9\u8C61\u7684\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantReadAcp                        \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u53D6\u5BF9\u8C61\u7684\u8BBF\u95EE\u63A7\u5236\u5217\u8868\uFF08ACL\uFF09\u7684\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantWriteAcp                       \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u5199\u5165\u5BF9\u8C61\u7684\u8BBF\u95EE\u63A7\u5236\u5217\u8868\uFF08ACL\uFF09\u7684\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantFullControl                    \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u64CD\u4F5C\u5BF9\u8C61\u7684\u6240\u6709\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.StorageClass                        \u8BBE\u7F6E\u5BF9\u8C61\u7684\u5B58\u50A8\u7EA7\u522B\uFF0C\u679A\u4E3E\u503C\uFF1ASTANDARD\u3001STANDARD_IA\u3001ARCHIVE\uFF0C\u9ED8\u8BA4\u503C\uFF1ASTANDARD\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.x-cos-meta-*                        \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u7684\u5934\u90E8\u4FE1\u606F\uFF0C\u5C06\u4F5C\u4E3A\u5BF9\u8C61\u7684\u5143\u6570\u636E\u4FDD\u5B58\u3002\u5927\u5C0F\u9650\u52362KB\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentSha1                         RFC 3174 \u4E2D\u5B9A\u4E49\u7684 160-bit \u5185\u5BB9 SHA-1 \u7B97\u6CD5\u6821\u9A8C\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ServerSideEncryption                \u652F\u6301\u6309\u7167\u6307\u5B9A\u7684\u52A0\u5BC6\u7B97\u6CD5\u8FDB\u884C\u670D\u52A1\u7AEF\u6570\u636E\u52A0\u5BC6\uFF0C\u683C\u5F0F x-cos-server-side-encryption: \"AES256\"\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n *     @return  {Object}    err                                     \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data                                    \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction appendObject(params, callback) {\n    // \u7279\u6B8A\u5904\u7406 Cache-Control\u3001Content-Type\uFF0C\u907F\u514D\u4EE3\u7406\u66F4\u6539\u8FD9\u4E24\u4E2A\u5B57\u6BB5\u5BFC\u81F4\u5199\u5165\u5230 Object \u5C5E\u6027\u91CC\n    var headers = params.Headers;\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n    if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\n    submitRequest.call(this, {\n        Action: 'name/cos:AppendObject',\n        method: 'POST',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        action: 'append',\n        Key: params.Key,\n        body: params.Body,\n        qs: {\n          position: params.Position\n        },\n        headers: params.Headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, data);\n    });\n}\n\n/**\n * \u83B7\u53D6\u7B7E\u540D\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Method  \u8BF7\u6C42\u65B9\u6CD5\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key     object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Expires \u540D\u8D85\u65F6\u65F6\u95F4\uFF0C\u5355\u4F4D\u79D2\uFF0C\u53EF\u9009\n * @return  {String}  data              \u8FD4\u56DE\u7B7E\u540D\u5B57\u7B26\u4E32\n */\nfunction getAuth(params) {\n    var self = this;\n    return util.getAuth({\n        SecretId: params.SecretId || this.options.SecretId || '',\n        SecretKey: params.SecretKey || this.options.SecretKey || '',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Method: params.Method,\n        Key: params.Key,\n        Query: params.Query,\n        Headers: params.Headers,\n        Expires: params.Expires,\n        UseRawKey: self.options.UseRawKey,\n        SystemClockOffset: self.options.SystemClockOffset,\n    });\n}\n\n/**\n * \u83B7\u53D6\u6587\u4EF6\u4E0B\u8F7D\u94FE\u63A5\n * @param  {Object}  params                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key         object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Method      \u8BF7\u6C42\u7684\u65B9\u6CD5\uFF0C\u53EF\u9009\n *     @param  {String}  params.Expires     \u7B7E\u540D\u8D85\u65F6\u65F6\u95F4\uFF0C\u5355\u4F4D\u79D2\uFF0C\u53EF\u9009\n * @param  {Function}  callback             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n *     @return  {Object}    err             \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data            \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction getObjectUrl(params, callback) {\n    var self = this;\n    var url = getUrl({\n        ForcePathStyle: self.options.ForcePathStyle,\n        protocol: params.Protocol || self.options.Protocol,\n        domain: params.Domain || self.options.Domain,\n        bucket: params.Bucket,\n        region: params.Region,\n        object: params.Key,\n    });\n\n    var queryParamsStr = '';\n    if(params.Query){\n      queryParamsStr += util.obj2str(params.Query);\n    }\n    if(params.QueryString){\n      queryParamsStr += (queryParamsStr ? '&' : '') + params.QueryString;\n    }\n\n    var syncUrl = url;\n    if (params.Sign !== undefined && !params.Sign) {\n        queryParamsStr && (syncUrl += '?' + queryParamsStr);\n        callback(null, {Url: syncUrl});\n        return syncUrl;\n    }\n    \n    // \u7B7E\u540D\u52A0\u4E0A Host\uFF0C\u907F\u514D\u8DE8\u6876\u8BBF\u95EE\n    var SignHost = getSignHost.call(this, {Bucket: params.Bucket, Region: params.Region, Url: url});\n    var AuthData = getAuthorizationAsync.call(this, {\n        Action: ((params.Method || '').toUpperCase() === 'PUT' ? 'name/cos:PutObject' : 'name/cos:GetObject'),\n        Bucket: params.Bucket || '',\n        Region: params.Region || '',\n        Method: params.Method || 'get',\n        Key: params.Key,\n        Expires: params.Expires,\n        Headers: params.Headers,\n        Query: params.Query,\n        SignHost: SignHost,\n    }, function (err, AuthData) {\n        if (!callback) return;\n        if (err) {\n            callback(err);\n            return;\n        }\n\n        // \u517C\u5BB9\u4E07\u8C61url qUrlParamList\u9700\u8981\u518Dencode\u4E00\u6B21\n        var replaceUrlParamList = function(url) {\n            var urlParams = url.match(/q-url-param-list.*?(?=&)/g)[0];\n            var encodedParams = 'q-url-param-list=' + encodeURIComponent(urlParams.replace(/q-url-param-list=/, '')).toLowerCase();\n            var reg = new RegExp(urlParams, 'g');\n            var replacedUrl = url.replace(reg, encodedParams);\n            return replacedUrl;\n        }\n\n        var signUrl = url;\n        signUrl += '?' + (AuthData.Authorization.indexOf('q-signature') > -1 ?\n          replaceUrlParamList(AuthData.Authorization) : 'sign=' + encodeURIComponent(AuthData.Authorization));\n        AuthData.SecurityToken && (signUrl += '&x-cos-security-token=' + AuthData.SecurityToken);\n        AuthData.ClientIP && (signUrl += '&clientIP=' + AuthData.ClientIP);\n        AuthData.ClientUA && (signUrl += '&clientUA=' + AuthData.ClientUA);\n        AuthData.Token && (signUrl += '&token=' + AuthData.Token);\n        queryParamsStr && (signUrl += '&' + queryParamsStr);\n        setTimeout(function () {\n            callback(null, {Url: signUrl});\n        });\n    });\n    if (AuthData) {\n        syncUrl += '?' + AuthData.Authorization +\n            (AuthData.SecurityToken ? '&x-cos-security-token=' + AuthData.SecurityToken : '');\n        queryParamsStr && (syncUrl += '&' + queryParamsStr);\n    } else{\n        queryParamsStr && (syncUrl += '?' + queryParamsStr);\n    }\n    return syncUrl;\n}\n\n/**\n * \u79C1\u6709\u65B9\u6CD5\n */\nfunction decodeAcl(AccessControlPolicy) {\n    var result = {\n        GrantFullControl: [],\n        GrantWrite: [],\n        GrantRead: [],\n        GrantReadAcp: [],\n        GrantWriteAcp: [],\n        ACL: '',\n    };\n    var GrantMap = {\n        'FULL_CONTROL': 'GrantFullControl',\n        'WRITE': 'GrantWrite',\n        'READ': 'GrantRead',\n        'READ_ACP': 'GrantReadAcp',\n        'WRITE_ACP': 'GrantWriteAcp',\n    };\n    var AccessControlList = AccessControlPolicy && AccessControlPolicy.AccessControlList || {};\n    var Grant = AccessControlList.Grant;\n    if (Grant) {\n        Grant = util.isArray(Grant) ? Grant : [Grant];\n    }\n    var PublicAcl = {READ: 0, WRITE: 0, FULL_CONTROL: 0};\n    Grant && Grant.length && util.each(Grant, function (item) {\n        if (item.Grantee.ID === 'qcs::cam::anyone:anyone' || item.Grantee.URI === 'http://cam.qcloud.com/groups/global/AllUsers') {\n            PublicAcl[item.Permission] = 1;\n        } else if (item.Grantee.ID !== AccessControlPolicy.Owner.ID) {\n            result[GrantMap[item.Permission]].push('id=\"' + item.Grantee.ID + '\"');\n        }\n    });\n    if (PublicAcl.FULL_CONTROL || (PublicAcl.WRITE && PublicAcl.READ)) {\n        result.ACL = 'public-read-write';\n    } else if (PublicAcl.READ) {\n        result.ACL = 'public-read';\n    } else {\n        result.ACL = 'private';\n    }\n    util.each(GrantMap, function (item) {\n        result[item] = uniqGrant(result[item].join(','));\n    });\n    return result;\n}\n\n// Grant \u53BB\u91CD\nfunction uniqGrant(str) {\n    var arr = str.split(',');\n    var exist = {};\n    var i, item;\n    for (i = 0; i < arr.length; ) {\n        item = arr[i].trim();\n        if (exist[item]) {\n            arr.splice(i, 1);\n        } else {\n            exist[item] = true;\n            arr[i] = item;\n            i++;\n        }\n    }\n    return arr.join(',');\n}\n\n// \u751F\u6210\u64CD\u4F5C url\nfunction getUrl(params) {\n    var region = params.region || '';\n    var longBucket = params.bucket || '';\n    var shortBucket = longBucket.substr(0, longBucket.lastIndexOf('-'));\n    var appId = longBucket.substr(longBucket.lastIndexOf('-') + 1);\n    var domain = params.domain;\n    var object = params.object;\n    if (typeof domain === 'function') {\n        domain = domain({Bucket: longBucket, Region: region});\n    }\n    var protocol = params.protocol || (util.isBrowser && location.protocol === 'http:' ? 'http:' : 'https:');\n    if (!domain) {\n        if (['cn-south', 'cn-south-2', 'cn-north', 'cn-east', 'cn-southwest', 'sg'].indexOf(region) > -1) {\n            domain = '{Region}.myqcloud.com';\n        } else {\n            domain = 'cos.{Region}.myqcloud.com';\n        }\n        if (!params.ForcePathStyle) {\n            domain = '{Bucket}.' + domain;\n        }\n    }\n    domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId)\n        .replace(/\\{\\{Bucket\\}\\}/ig, shortBucket)\n        .replace(/\\{\\{Region\\}\\}/ig, region)\n        .replace(/\\{\\{.*?\\}\\}/ig, '');\n    domain = domain.replace(/\\{AppId\\}/ig, appId)\n        .replace(/\\{BucketName\\}/ig, shortBucket)\n        .replace(/\\{Bucket\\}/ig, longBucket)\n        .replace(/\\{Region\\}/ig, region)\n        .replace(/\\{.*?\\}/ig, '');\n    if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\n        domain = protocol + '//' + domain;\n    }\n\n    // \u53BB\u6389\u57DF\u540D\u6700\u540E\u7684\u659C\u6746\n    if (domain.slice(-1) === '/') {\n        domain = domain.slice(0, -1);\n    }\n    var url = domain;\n\n    if (params.ForcePathStyle) {\n        url += '/' + longBucket;\n    }\n    url += '/';\n    if (object) {\n        url += util.camSafeUrlEncode(object).replace(/%2F/g, '/');\n    }\n\n    if (params.isLocation) {\n        url = url.replace(/^https?:\\/\\//, '');\n    }\n    return url;\n}\n\nvar getSignHost = function (opt) {\n    if (!opt.Bucket || !opt.Region) return '';\n    var url = opt.Url || getUrl({\n        ForcePathStyle: this.options.ForcePathStyle,\n        protocol: this.options.Protocol,\n        domain: this.options.Domain,\n        bucket: opt.Bucket,\n        region: this.options.UseAccelerate ? 'accelerate' : opt.Region,\n    });\n    var urlHost = url.replace(/^https?:\\/\\/([^/]+)(\\/.*)?$/, '$1');\n    var standardHostReg = new RegExp('^([a-z\\\\d-]+-\\\\d+\\\\.)?(cos|cosv6|ci|pic)\\\\.([a-z\\\\d-]+)\\\\.myqcloud\\\\.com$');\n    if (standardHostReg.test(urlHost)) return urlHost;\n    return '';\n}\n\n\n// \u5F02\u6B65\u83B7\u53D6\u7B7E\u540D\nfunction getAuthorizationAsync(params, callback) {\n    var headers = util.clone(params.Headers);\n    var headerHost = '';\n    util.each(headers, function (v, k) {\n        (v === '' || ['content-type', 'cache-control', 'expires'].indexOf(k.toLowerCase()) > -1) && delete headers[k];\n        if (k.toLowerCase() === 'host') headerHost = v;\n    });\n\n    // Host \u52A0\u5165\u7B7E\u540D\u8BA1\u7B97\n    if (!headerHost && params.SignHost) headers.Host = params.SignHost;\n\n    // \u83B7\u53D6\u51ED\u8BC1\u7684\u56DE\u8C03\uFF0C\u907F\u514D\u7528\u6237 callback \u591A\u6B21\n    var cbDone = false;\n    var cb = function (err, AuthData) {\n        if (cbDone) return;\n        cbDone = true;\n        if (AuthData && AuthData.XCosSecurityToken && !AuthData.SecurityToken) {\n            AuthData = util.clone(AuthData);\n            AuthData.SecurityToken = AuthData.XCosSecurityToken;\n            delete AuthData.XCosSecurityToken;\n        }\n        callback && callback(err, AuthData);\n    };\n\n    var self = this;\n    var Bucket = params.Bucket || '';\n    var Region = params.Region || '';\n\n    // PathName\n    var KeyName = params.Key || '';\n    if (self.options.ForcePathStyle && Bucket) {\n        KeyName = Bucket + '/' + KeyName;\n    }\n    var Pathname = '/' + KeyName;\n\n    // Action\u3001ResourceKey\n    var StsData = {};\n    var Scope = params.Scope;\n    if (!Scope) {\n        var Action = params.Action || '';\n        var ResourceKey = params.ResourceKey || params.Key || '';\n        Scope = params.Scope || [{\n            action: Action,\n            bucket: Bucket,\n            region: Region,\n            prefix: ResourceKey,\n        }];\n    }\n    var ScopeKey  = util.md5(JSON.stringify(Scope));\n\n    // STS\n    self._StsCache = self._StsCache ||[];\n    (function () {\n        var i, AuthData;\n        for (i = self._StsCache.length - 1; i >= 0; i--) {\n            AuthData = self._StsCache[i];\n            var compareTime = Math.round(util.getSkewTime(self.options.SystemClockOffset) / 1000) + 30;\n            if (AuthData.StartTime && compareTime < AuthData.StartTime || compareTime >= AuthData.ExpiredTime) {\n                self._StsCache.splice(i, 1);\n                continue;\n            }\n            if (!AuthData.ScopeLimit || AuthData.ScopeLimit && AuthData.ScopeKey === ScopeKey) {\n                StsData = AuthData;\n                break;\n            }\n        }\n    })();\n\n    var calcAuthByTmpKey = function () {\n        var KeyTime = StsData.StartTime && StsData.ExpiredTime ? StsData.StartTime + ';' + StsData.ExpiredTime : '';\n        var Authorization = util.getAuth({\n            SecretId: StsData.TmpSecretId,\n            SecretKey: StsData.TmpSecretKey,\n            Method: params.Method,\n            Pathname: Pathname,\n            Query: params.Query,\n            Headers: headers,\n            Expires: params.Expires,\n            UseRawKey: self.options.UseRawKey,\n            SystemClockOffset: self.options.SystemClockOffset,\n            KeyTime: KeyTime\n        });\n        var AuthData = {\n            Authorization: Authorization,\n            SecurityToken: StsData.SecurityToken || StsData.XCosSecurityToken || '',\n            Token: StsData.Token || '',\n            ClientIP: StsData.ClientIP || '',\n            ClientUA: StsData.ClientUA || '',\n        };\n        cb(null, AuthData);\n    };\n    var checkAuthError = function (AuthData) {\n        if (AuthData.Authorization) {\n            // \u68C0\u67E5\u7B7E\u540D\u683C\u5F0F\n            var formatAllow = false;\n            var auth = AuthData.Authorization;\n            if (auth) {\n                if (auth.indexOf(' ') > -1) {\n                    formatAllow = false;\n                } else if (auth.indexOf('q-sign-algorithm=') > -1 &&\n                    auth.indexOf('q-ak=') > -1 &&\n                    auth.indexOf('q-sign-time=') > -1 &&\n                    auth.indexOf('q-key-time=') > -1 &&\n                    auth.indexOf('q-url-param-list=') > -1) {\n                    formatAllow = true;\n                } else {\n                    try {\n                        auth = atob(auth);\n                        if (auth.indexOf('a=') > -1 &&\n                            auth.indexOf('k=') > -1 &&\n                            auth.indexOf('t=') > -1 &&\n                            auth.indexOf('r=') > -1 &&\n                            auth.indexOf('b=') > -1) {\n                            formatAllow = true;\n                        }\n                    } catch (e) {}\n                }\n            }\n            if (!formatAllow) return util.error(new Error('getAuthorization callback params format error'));\n        } else {\n            if (!AuthData.TmpSecretId) return util.error(new Error('getAuthorization callback params missing \"TmpSecretId\"'));\n            if (!AuthData.TmpSecretKey) return util.error(new Error('getAuthorization callback params missing \"TmpSecretKey\"'));\n            if (!AuthData.SecurityToken && !AuthData.XCosSecurityToken) return util.error(new Error('getAuthorization callback params missing \"SecurityToken\"'));\n            if (!AuthData.ExpiredTime) return util.error(new Error('getAuthorization callback params missing \"ExpiredTime\"'));\n            if (AuthData.ExpiredTime && AuthData.ExpiredTime.toString().length !== 10) return util.error(new Error('getAuthorization callback params \"ExpiredTime\" should be 10 digits'));\n            if (AuthData.StartTime && AuthData.StartTime.toString().length !== 10) return util.error(new Error('getAuthorization callback params \"StartTime\" should be 10 StartTime'));\n        }\n        return false;\n    };\n\n    // \u5148\u5224\u65AD\u662F\u5426\u6709\u4E34\u65F6\u5BC6\u94A5\n    if (StsData.ExpiredTime && StsData.ExpiredTime - (util.getSkewTime(self.options.SystemClockOffset) / 1000) > 60) { // \u5982\u679C\u7F13\u5B58\u7684\u4E34\u65F6\u5BC6\u94A5\u6709\u6548\uFF0C\u5E76\u8FD8\u6709\u8D85\u8FC760\u79D2\u6709\u6548\u671F\u5C31\u76F4\u63A5\u4F7F\u7528\n        calcAuthByTmpKey();\n    } else if (self.options.getAuthorization) { // \u5916\u90E8\u8BA1\u7B97\u7B7E\u540D\u6216\u83B7\u53D6\u4E34\u65F6\u5BC6\u94A5\n        self.options.getAuthorization.call(self, {\n            Bucket: Bucket,\n            Region: Region,\n            Method: params.Method,\n            Key: KeyName,\n            Pathname: Pathname,\n            Query: params.Query,\n            Headers: headers,\n            Scope: Scope,\n            SystemClockOffset: self.options.SystemClockOffset,\n        }, function (AuthData) {\n            if (typeof AuthData === 'string') AuthData = {Authorization: AuthData};\n            var AuthError = checkAuthError(AuthData);\n            if (AuthError) return cb(AuthError);\n            if (AuthData.Authorization) {\n                cb(null, AuthData);\n            } else {\n                StsData = AuthData || {};\n                StsData.Scope = Scope;\n                StsData.ScopeKey = ScopeKey;\n                self._StsCache.push(StsData);\n                calcAuthByTmpKey();\n            }\n        });\n    } else if (self.options.getSTS) { // \u5916\u90E8\u83B7\u53D6\u4E34\u65F6\u5BC6\u94A5\n        self.options.getSTS.call(self, {\n            Bucket: Bucket,\n            Region: Region,\n        }, function (data) {\n            StsData = data || {};\n            StsData.Scope = Scope;\n            StsData.ScopeKey = ScopeKey;\n            if (!StsData.TmpSecretId) StsData.TmpSecretId = StsData.SecretId;\n            if (!StsData.TmpSecretKey) StsData.TmpSecretKey = StsData.SecretKey;\n            var AuthError = checkAuthError(StsData);\n            if (AuthError) return cb(AuthError);\n            self._StsCache.push(StsData);\n            calcAuthByTmpKey();\n        });\n    } else { // \u5185\u90E8\u8BA1\u7B97\u83B7\u53D6\u7B7E\u540D\n        return (function () {\n            var Authorization = util.getAuth({\n                SecretId: params.SecretId || self.options.SecretId,\n                SecretKey: params.SecretKey || self.options.SecretKey,\n                Method: params.Method,\n                Pathname: Pathname,\n                Query: params.Query,\n                Headers: headers,\n                Expires: params.Expires,\n                UseRawKey: self.options.UseRawKey,\n                SystemClockOffset: self.options.SystemClockOffset,\n            });\n            var AuthData = {\n                Authorization: Authorization,\n                SecurityToken: self.options.SecurityToken || self.options.XCosSecurityToken,\n            };\n            cb(null, AuthData);\n            return AuthData;\n        })();\n    }\n    return '';\n}\n\n// \u8C03\u6574\u65F6\u95F4\u504F\u5DEE\nfunction allowRetry(err) {\n    var allowRetry = false;\n    var isTimeError = false;\n    var serverDate = (err.headers && (err.headers.date || err.headers.Date)) || (err.error && err.error.ServerTime);\n    try {\n        var errorCode = err.error.Code;\n        var errorMessage = err.error.Message;\n        if (errorCode === 'RequestTimeTooSkewed' ||\n            (errorCode === 'AccessDenied' && errorMessage === 'Request has expired')) {\n            isTimeError = true;\n        }\n    } catch (e) {\n    }\n    if (err) {\n        if (isTimeError && serverDate) {\n            var serverTime = Date.parse(serverDate);\n            if (this.options.CorrectClockSkew && Math.abs(util.getSkewTime(this.options.SystemClockOffset) - serverTime) >= 30000) {\n                console.error('error: Local time is too skewed.');\n                this.options.SystemClockOffset = serverTime - Date.now();\n                allowRetry = true;\n            }\n        } else if (Math.floor(err.statusCode / 100) === 5) {\n            allowRetry = true;\n        }\n    }\n    return allowRetry;\n}\n\n// \u83B7\u53D6\u7B7E\u540D\u5E76\u53D1\u8D77\u8BF7\u6C42\nfunction submitRequest(params, callback) {\n    var self = this;\n\n    // \u5904\u7406 headers\n    !params.headers && (params.headers = {});\n\n    // \u5904\u7406 query\n    !params.qs && (params.qs = {});\n    params.VersionId && (params.qs.versionId = params.VersionId);\n    params.qs = util.clearKey(params.qs);\n\n    // \u6E05\u7406 undefined \u548C null \u5B57\u6BB5\n    params.headers && (params.headers = util.clearKey(params.headers));\n    params.qs && (params.qs = util.clearKey(params.qs));\n\n    var Query = util.clone(params.qs);\n    params.action && (Query[params.action] = '');\n\n    var paramsUrl = params.url || params.Url;\n    var SignHost = params.SignHost || getSignHost.call(this, {Bucket: params.Bucket, Region: params.Region, Url: paramsUrl});\n    var next = function (tryTimes) {\n        var oldClockOffset = self.options.SystemClockOffset;\n        getAuthorizationAsync.call(self, {\n            Bucket: params.Bucket || '',\n            Region: params.Region || '',\n            Method: params.method,\n            Key: params.Key,\n            Query: Query,\n            Headers: params.headers,\n            SignHost: SignHost,\n            Action: params.Action,\n            ResourceKey: params.ResourceKey,\n            Scope: params.Scope,\n        }, function (err, AuthData) {\n            if (err) {\n                callback(err);\n                return;\n            }\n            params.AuthData = AuthData;\n            _submitRequest.call(self, params, function (err, data) {\n                if (err && tryTimes < 2 && (oldClockOffset !== self.options.SystemClockOffset || allowRetry.call(self, err))) {\n                    if (params.headers) {\n                        delete params.headers.Authorization;\n                        delete params.headers['token'];\n                        delete params.headers['clientIP'];\n                        delete params.headers['clientUA'];\n                        params.headers['x-cos-security-token'] && (delete params.headers['x-cos-security-token']);\n                        params.headers['x-ci-security-token'] && (delete params.headers['x-ci-security-token']);\n                    }\n                    next(tryTimes + 1);\n                } else {\n                    callback(err, data);\n                }\n            });\n        });\n    };\n    next(1);\n\n}\n\n// \u53D1\u8D77\u8BF7\u6C42\nfunction _submitRequest(params, callback) {\n    var self = this;\n    var TaskId = params.TaskId;\n    if (TaskId && !self._isRunningTask(TaskId)) return;\n\n    var bucket = params.Bucket;\n    var region = params.Region;\n    var object = params.Key;\n    var method = params.method || 'GET';\n    var url = params.Url || params.url;\n    var body = params.body;\n    var rawBody = params.rawBody;\n\n    // url\n    if (self.options.UseAccelerate) {\n        region = 'accelerate';\n    }\n    url = url || getUrl({\n        ForcePathStyle: self.options.ForcePathStyle,\n        protocol: self.options.Protocol,\n        domain: self.options.Domain,\n        bucket: bucket,\n        region: region,\n        object: object,\n    });\n    if (params.action) {\n        url = url + '?' + params.action;\n    }\n    if (params.qsStr) {\n        if(url.indexOf('?') > -1){\n          url = url + '&' + params.qsStr;\n        }else{\n          url = url + '?' + params.qsStr;\n        }\n    }\n\n    var opt = {\n        method: method,\n        url: url,\n        headers: params.headers,\n        qs: params.qs,\n        body: body,\n    };\n\n    // \u517C\u5BB9ci\u63A5\u53E3\n    var token = 'x-cos-security-token';\n    if (util.isCIHost(url)) {\n        token = 'x-ci-security-token';\n    }\n\n    // \u83B7\u53D6\u7B7E\u540D\n    opt.headers.Authorization = params.AuthData.Authorization;\n    params.AuthData.Token && (opt.headers['token'] = params.AuthData.Token);\n    params.AuthData.ClientIP && (opt.headers['clientIP'] = params.AuthData.ClientIP);\n    params.AuthData.ClientUA && (opt.headers['clientUA'] = params.AuthData.ClientUA);\n    params.AuthData.SecurityToken && (opt.headers[token] = params.AuthData.SecurityToken);\n\n    // \u6E05\u7406 undefined \u548C null \u5B57\u6BB5\n    opt.headers && (opt.headers = util.clearKey(opt.headers));\n    opt = util.clearKey(opt);\n\n    // progress\n    if (params.onProgress && typeof params.onProgress === 'function') {\n        var contentLength = body && (body.size || body.length) || 0;\n        opt.onProgress = function (e) {\n            if (TaskId && !self._isRunningTask(TaskId)) return;\n            var loaded = e ? e.loaded : 0;\n            params.onProgress({loaded: loaded, total: contentLength});\n        };\n    }\n    if (params.onDownloadProgress) {\n        opt.onDownloadProgress = params.onDownloadProgress;\n    }\n    if (params.DataType) {\n        opt.dataType = params.DataType;\n    }\n    if (this.options.Timeout) {\n        opt.timeout = this.options.Timeout;\n    }\n\n    self.options.ForcePathStyle && (opt.pathStyle = self.options.ForcePathStyle);\n    self.emit('before-send', opt);\n    var sender = (self.options.Request || REQUEST)(opt, function (r) {\n        if (r.error === 'abort') return;\n\n        var receive = {\n            options: opt,\n            error: err,\n            statusCode: response && response.statusCode || 0,\n            headers: response && response.headers || {},\n            body: body,\n        };\n        self.emit('after-receive', receive);\n        err = receive.error;\n        body = receive.body;\n        response = {\n            statusCode: receive.statusCode,\n            headers: receive.headers,\n        };\n\n        // \u629B\u51FA\u4E8B\u4EF6\uFF0C\u5141\u8BB8\u4FEE\u6539\u8FD4\u56DE\u503C\u7684 error\u3001statusCode\u3001statusMessage\u3001body\n        self.emit('after-receive', r);\n        var response = {statusCode: r.statusCode, statusMessage: r.statusMessage, headers: r.headers};\n        var err = r.error;\n        var body = r.body;\n\n        // \u8FD4\u56DE\u5185\u5BB9\u6DFB\u52A0 \u72B6\u6001\u7801 \u548C headers\n        var hasReturned;\n        var cb = function (err, data) {\n            TaskId && self.off('inner-kill-task', killTask);\n            if (hasReturned) return;\n            hasReturned = true;\n            var attrs = {};\n            response && response.statusCode && (attrs.statusCode = response.statusCode);\n            response && response.headers && (attrs.headers = response.headers);\n\n            if (err) {\n                err = util.extend(err || {}, attrs)\n                callback(err, null);\n            } else {\n                data = util.extend(data || {}, attrs);\n                callback(null, data);\n            }\n            sender = null;\n        };\n\n        // \u8BF7\u6C42\u9519\u8BEF\uFF0C\u53D1\u751F\u7F51\u7EDC\u9519\u8BEF\n        if (err) return cb(util.error(err));\n\n        // \u8BF7\u6C42\u8FD4\u56DE\u7801\u4E0D\u4E3A 200\n        var statusCode = response.statusCode;\n        var statusSuccess = Math.floor(statusCode / 100) === 2; // 200 202 204 206\n\n        // \u4E0D\u5BF9 body \u8FDB\u884C\u8F6C\u6362\uFF0Cbody \u76F4\u63A5\u6302\u8F7D\u8FD4\u56DE\n        if (rawBody && statusSuccess) return cb(null, {body: body});\n\n        // \u89E3\u6790 xml body\n        var json;\n        try {\n            json = body && body.indexOf('<') > -1 && body.indexOf('>') > -1 && util.xml2json(body) || {};\n        } catch (e) {\n            json = {};\n        }\n\n        // \u5904\u7406\u8FD4\u56DE\u503C\n        var xmlError = json && json.Error;\n        if (statusSuccess) { // \u6B63\u786E\u8FD4\u56DE\uFF0C\u72B6\u6001\u7801 2xx \u65F6\uFF0Cbody \u4E0D\u4F1A\u6709 Error\n            cb(null, json);\n        } else if (xmlError) { // \u6B63\u5E38\u8FD4\u56DE\u4E86 xml body\uFF0C\u4E14\u6709 Error \u8282\u70B9\n            cb(util.error(new Error(xmlError.Message), {code: xmlError.Code, error: xmlError}));\n        } else if (statusCode) { // \u6709\u9519\u8BEF\u7684\u72B6\u6001\u7801\n            cb(util.error(new Error(response.statusMessage), {code: '' + statusCode}));\n        } else if (statusCode) { // \u65E0\u72B6\u6001\u7801\uFF0C\u6216\u8005\u83B7\u53D6\u4E0D\u5230\u72B6\u6001\u7801\n            cb(util.error(new Error('statusCode error')));\n        }\n    });\n\n    // kill task\n    var killTask = function (data) {\n        if (data.TaskId === TaskId) {\n            sender && sender.abort && sender.abort();\n            self.off('inner-kill-task', killTask);\n        }\n    };\n    TaskId && self.on('inner-kill-task', killTask);\n\n}\n\n\nvar API_MAP = {\n    // Bucket \u76F8\u5173\u65B9\u6CD5\n    getService: getService,                      // Bucket\n    putBucket: putBucket,\n    headBucket: headBucket,                      // Bucket\n    getBucket: getBucket,\n    deleteBucket: deleteBucket,\n    putBucketAcl: putBucketAcl,                  // BucketACL\n    getBucketAcl: getBucketAcl,\n    putBucketCors: putBucketCors,                // BucketCors\n    getBucketCors: getBucketCors,\n    deleteBucketCors: deleteBucketCors,\n    getBucketLocation: getBucketLocation,        // BucketLocation\n    getBucketPolicy: getBucketPolicy,            // BucketPolicy\n    putBucketPolicy: putBucketPolicy,\n    deleteBucketPolicy: deleteBucketPolicy,\n    putBucketTagging: putBucketTagging,          // BucketTagging\n    getBucketTagging: getBucketTagging,\n    deleteBucketTagging: deleteBucketTagging,\n    putBucketLifecycle: putBucketLifecycle,      // BucketLifecycle\n    getBucketLifecycle: getBucketLifecycle,\n    deleteBucketLifecycle: deleteBucketLifecycle,\n    putBucketVersioning: putBucketVersioning,    // BucketVersioning\n    getBucketVersioning: getBucketVersioning,\n    putBucketReplication: putBucketReplication,  // BucketReplication\n    getBucketReplication: getBucketReplication,\n    deleteBucketReplication: deleteBucketReplication,\n    putBucketWebsite: putBucketWebsite,          // BucketWebsite\n    getBucketWebsite: getBucketWebsite,\n    deleteBucketWebsite: deleteBucketWebsite,\n    putBucketReferer: putBucketReferer,          // BucketReferer\n    getBucketReferer: getBucketReferer,\n    putBucketDomain: putBucketDomain,            // BucketDomain\n    getBucketDomain: getBucketDomain,\n    deleteBucketDomain: deleteBucketDomain,\n    putBucketOrigin: putBucketOrigin,            // BucketOrigin\n    getBucketOrigin: getBucketOrigin,\n    deleteBucketOrigin: deleteBucketOrigin,\n    putBucketLogging: putBucketLogging,             // BucketLogging\n    getBucketLogging: getBucketLogging,\n    putBucketInventory: putBucketInventory,         // BucketInventory\n    getBucketInventory: getBucketInventory,\n    listBucketInventory: listBucketInventory,\n    deleteBucketInventory: deleteBucketInventory,\n    putBucketAccelerate: putBucketAccelerate,\n    getBucketAccelerate: getBucketAccelerate,\n    putBucketEncryption: putBucketEncryption,\n    getBucketEncryption: getBucketEncryption,\n    deleteBucketEncryption: deleteBucketEncryption,\n\n    // Object \u76F8\u5173\u65B9\u6CD5\n    getObject: getObject,\n    headObject: headObject,\n    listObjectVersions: listObjectVersions,\n    putObject: putObject,\n    deleteObject: deleteObject,\n    getObjectAcl: getObjectAcl,\n    putObjectAcl: putObjectAcl,\n    optionsObject: optionsObject,\n    putObjectCopy: putObjectCopy,\n    deleteMultipleObject: deleteMultipleObject,\n    restoreObject: restoreObject,\n    putObjectTagging: putObjectTagging,\n    getObjectTagging: getObjectTagging,\n    deleteObjectTagging: deleteObjectTagging,\n    selectObjectContent: selectObjectContent,\n    appendObject: appendObject,\n\n    // \u5206\u5757\u4E0A\u4F20\u76F8\u5173\u65B9\u6CD5\n    uploadPartCopy: uploadPartCopy,\n    multipartInit: multipartInit,\n    multipartUpload: multipartUpload,\n    multipartComplete: multipartComplete,\n    multipartList: multipartList,\n    multipartListPart: multipartListPart,\n    multipartAbort: multipartAbort,\n\n    // \u5DE5\u5177\u65B9\u6CD5\n    request: request,\n    getObjectUrl: getObjectUrl,\n    getAuth: getAuth,\n};\n\nfunction warnOldApi(apiName, fn, proto) {\n    util.each(['Cors', 'Acl'], function (suffix) {\n        if (apiName.slice(-suffix.length) === suffix) {\n            var oldName = apiName.slice(0, -suffix.length) + suffix.toUpperCase();\n            var apiFn = util.apiWrapper(apiName, fn);\n            var warned = false;\n            proto[oldName] = function () {\n                !warned && console.warn('warning: cos.' + oldName + ' has been deprecated. Please Use cos.' + apiName + ' instead.');\n                warned = true;\n                apiFn.apply(this, arguments);\n            };\n        }\n    });\n}\n\nmodule.exports.init = function (COS, task) {\n    task.transferToTaskMethod(API_MAP, 'putObject');\n    util.each(API_MAP, function (fn, apiName) {\n        COS.prototype[apiName] = util.apiWrapper(apiName, fn);\n        warnOldApi(apiName, fn, COS.prototype);\n    });\n};\n\n\n", "var eachLimit = function (arr, limit, iterator, callback) {\n    callback = callback || function () {};\n    if (!arr.length || limit <= 0) {\n        return callback();\n    }\n\n    var completed = 0;\n    var started = 0;\n    var running = 0;\n\n    (function replenish () {\n        if (completed >= arr.length) {\n            return callback();\n        }\n\n        while (running < limit && started < arr.length) {\n            started += 1;\n            running += 1;\n            iterator(arr[started - 1], function (err) {\n\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                } else {\n                    completed += 1;\n                    running -= 1;\n                    if (completed >= arr.length) {\n                        callback();\n                    } else {\n                        replenish();\n                    }\n                }\n            });\n        }\n    })();\n};\n\nvar retry = function (times, iterator, callback) {\n    var next = function (index) {\n        iterator(function (err, data) {\n            if (err && index < times) {\n                next(index + 1);\n            } else {\n                callback(err, data);\n            }\n        });\n    };\n    if (times < 1) {\n        callback();\n    } else {\n        next(1);\n    }\n};\n\nvar async = {\n    eachLimit: eachLimit,\n    retry: retry\n};\n\nmodule.exports = async;", "var session = require('./session');\nvar Async = require('./async');\nvar EventProxy = require('./event').EventProxy;\nvar util = require('./util');\n\n// \u6587\u4EF6\u5206\u5757\u4E0A\u4F20\u5168\u8FC7\u7A0B\uFF0C\u66B4\u9732\u7684\u5206\u5757\u4E0A\u4F20\u63A5\u53E3\nfunction sliceUploadFile(params, callback) {\n    var self = this;\n    var ep = new EventProxy();\n    var TaskId = params.TaskId;\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var Body = params.Body;\n    var ChunkSize = params.ChunkSize || params.SliceSize || self.options.ChunkSize;\n    var AsyncLimit = params.AsyncLimit;\n    var StorageClass = params.StorageClass;\n    var ServerSideEncryption = params.ServerSideEncryption;\n    var FileSize;\n\n    var onProgress;\n    var onHashProgress = params.onHashProgress;\n\n    // \u4E0A\u4F20\u8FC7\u7A0B\u4E2D\u51FA\u73B0\u9519\u8BEF\uFF0C\u8FD4\u56DE\u9519\u8BEF\n    ep.on('error', function (err) {\n        if (!self._isRunningTask(TaskId)) return;\n        err.UploadId = params.UploadData.UploadId || '';\n        return callback(err);\n    });\n\n    // \u4E0A\u4F20\u5206\u5757\u5B8C\u6210\uFF0C\u5F00\u59CB uploadSliceComplete \u64CD\u4F5C\n    ep.on('upload_complete', function (UploadCompleteData) {\n        var _UploadCompleteData = util.extend({\n          UploadId: params.UploadData.UploadId || ''\n        }, UploadCompleteData);\n        callback(null, _UploadCompleteData);\n    });\n\n    // \u4E0A\u4F20\u5206\u5757\u5B8C\u6210\uFF0C\u5F00\u59CB uploadSliceComplete \u64CD\u4F5C\n    ep.on('upload_slice_complete', function (UploadData) {\n        var metaHeaders = {};\n        util.each(params.Headers, function (val, k) {\n            var shortKey = k.toLowerCase();\n            if (shortKey.indexOf('x-cos-meta-') === 0 || shortKey === 'pic-operations') metaHeaders[k] = val;\n        });\n        uploadSliceComplete.call(self, {\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            UploadId: UploadData.UploadId,\n            SliceList: UploadData.SliceList,\n            Headers: metaHeaders,\n        }, function (err, data) {\n            if (!self._isRunningTask(TaskId)) return;\n            session.removeUsing(UploadData.UploadId);\n            if (err) {\n                onProgress(null, true);\n                return ep.emit('error', err);\n            }\n            session.removeUploadId.call(self, UploadData.UploadId);\n            onProgress({loaded: FileSize, total: FileSize}, true);\n            ep.emit('upload_complete', data);\n        });\n    });\n\n    // \u83B7\u53D6 UploadId \u5B8C\u6210\uFF0C\u5F00\u59CB\u4E0A\u4F20\u6BCF\u4E2A\u5206\u7247\n    ep.on('get_upload_data_finish', function (UploadData) {\n\n        // \u5904\u7406 UploadId \u7F13\u5B58\n        var uuid = session.getFileId(Body, params.ChunkSize, Bucket, Key);\n        uuid && session.saveUploadId.call(self, uuid, UploadData.UploadId, self.options.UploadIdCacheLimit); // \u7F13\u5B58 UploadId\n        session.setUsing(UploadData.UploadId); // \u6807\u8BB0 UploadId \u4E3A\u6B63\u5728\u4F7F\u7528\n\n        // \u83B7\u53D6 UploadId\n        onProgress(null, true); // \u4EFB\u52A1\u72B6\u6001\u5F00\u59CB uploading\n        uploadSliceList.call(self, {\n            TaskId: TaskId,\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            Body: Body,\n            FileSize: FileSize,\n            SliceSize: ChunkSize,\n            AsyncLimit: AsyncLimit,\n            ServerSideEncryption: ServerSideEncryption,\n            UploadData: UploadData,\n            Headers: params.Headers,\n            onProgress: onProgress\n        }, function (err, data) {\n            if (!self._isRunningTask(TaskId)) return;\n            if (err) {\n                onProgress(null, true);\n                return ep.emit('error', err);\n            }\n            ep.emit('upload_slice_complete', data);\n        });\n    });\n\n    // \u5F00\u59CB\u83B7\u53D6\u6587\u4EF6 UploadId\uFF0C\u91CC\u9762\u4F1A\u89C6\u60C5\u51B5\u8BA1\u7B97 ETag\uFF0C\u5E76\u6BD4\u5BF9\uFF0C\u4FDD\u8BC1\u6587\u4EF6\u4E00\u81F4\u6027\uFF0C\u4E5F\u4F18\u5316\u4E0A\u4F20\n    ep.on('get_file_size_finish', function () {\n\n        onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\n\n        if (params.UploadData.UploadId) {\n            ep.emit('get_upload_data_finish', params.UploadData);\n        } else {\n            var _params = util.extend({\n                TaskId: TaskId,\n                Bucket: Bucket,\n                Region: Region,\n                Key: Key,\n                Headers: params.Headers,\n                StorageClass: StorageClass,\n                Body: Body,\n                FileSize: FileSize,\n                SliceSize: ChunkSize,\n                onHashProgress: onHashProgress,\n            }, params);\n            getUploadIdAndPartList.call(self, _params, function (err, UploadData) {\n                if (!self._isRunningTask(TaskId)) return;\n                if (err) return ep.emit('error', err);\n                params.UploadData.UploadId = UploadData.UploadId;\n                params.UploadData.PartList = UploadData.PartList;\n                ep.emit('get_upload_data_finish', params.UploadData);\n            });\n        }\n    });\n\n    // \u83B7\u53D6\u4E0A\u4F20\u6587\u4EF6\u5927\u5C0F\n    FileSize = params.ContentLength;\n    delete params.ContentLength;\n    !params.Headers && (params.Headers = {});\n    util.each(params.Headers, function (item, key) {\n        if (key.toLowerCase() === 'content-length') {\n            delete params.Headers[key];\n        }\n    });\n\n    // \u63A7\u5236\u5206\u7247\u5927\u5C0F\n    (function () {\n        var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\n        var AutoChunkSize = 1024 * 1024;\n        for (var i = 0; i < SIZE.length; i++) {\n            AutoChunkSize = SIZE[i] * 1024 * 1024;\n            if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\n        }\n        params.ChunkSize = params.SliceSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\n    })();\n\n    // \u5F00\u59CB\u4E0A\u4F20\n    if (FileSize === 0) {\n        params.Body = '';\n        params.ContentLength = 0;\n        params.SkipTask = true;\n        self.putObject(params, callback);\n    } else {\n        ep.emit('get_file_size_finish');\n    }\n\n}\n\n// \u83B7\u53D6\u4E0A\u4F20\u4EFB\u52A1\u7684 UploadId\nfunction getUploadIdAndPartList(params, callback) {\n    var TaskId = params.TaskId;\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var StorageClass = params.StorageClass;\n    var self = this;\n\n    // \u8BA1\u7B97 ETag\n    var ETagMap = {};\n    var FileSize = params.FileSize;\n    var SliceSize = params.SliceSize;\n    var SliceCount = Math.ceil(FileSize / SliceSize);\n    var FinishSliceCount = 0;\n    var FinishSize = 0;\n    var onHashProgress = util.throttleOnProgress.call(self, FileSize, params.onHashProgress);\n    var getChunkETag = function (PartNumber, callback) {\n        var start = SliceSize * (PartNumber - 1);\n        var end = Math.min(start + SliceSize, FileSize);\n        var ChunkSize = end - start;\n\n        if (ETagMap[PartNumber]) {\n            callback(null, {\n                PartNumber: PartNumber,\n                ETag: ETagMap[PartNumber],\n                Size: ChunkSize\n            });\n        } else {\n            util.fileSlice(params.Body, start, end, false, function (chunkItem) {\n                util.getFileMd5(chunkItem, function (err, md5) {\n                    if (err) return callback(util.error(err));\n                    var ETag = '\"' + md5 + '\"';\n                    ETagMap[PartNumber] = ETag;\n                    FinishSliceCount += 1;\n                    FinishSize += ChunkSize;\n                    onHashProgress({loaded: FinishSize, total: FileSize});\n                    callback(null, {\n                        PartNumber: PartNumber,\n                        ETag: ETag,\n                        Size: ChunkSize\n                    });\n                });\n            });\n        }\n    };\n\n    // \u901A\u8FC7\u548C\u6587\u4EF6\u7684 md5 \u5BF9\u6BD4\uFF0C\u5224\u65AD UploadId \u662F\u5426\u53EF\u7528\n    var isAvailableUploadList = function (PartList, callback) {\n        var PartCount = PartList.length;\n        // \u5982\u679C\u6CA1\u6709\u5206\u7247\uFF0C\u901A\u8FC7\n        if (PartCount === 0) {\n            return callback(null, true);\n        }\n        // \u68C0\u67E5\u5206\u7247\u6570\u91CF\n        if (PartCount > SliceCount) {\n            return callback(null, false);\n        }\n        // \u68C0\u67E5\u5206\u7247\u5927\u5C0F\n        if (PartCount > 1) {\n            var PartSliceSize = Math.max(PartList[0].Size, PartList[1].Size);\n            if (PartSliceSize !== SliceSize) {\n                return callback(null, false);\n            }\n        }\n        // \u9010\u4E2A\u5206\u7247\u8BA1\u7B97\u5E76\u68C0\u67E5 ETag \u662F\u5426\u4E00\u81F4\n        var next = function (index) {\n            if (index < PartCount) {\n                var Part = PartList[index];\n                getChunkETag(Part.PartNumber, function (err, chunk) {\n                    if (chunk && chunk.ETag === Part.ETag && chunk.Size === Part.Size) {\n                        next(index + 1);\n                    } else {\n                        callback(null, false);\n                    }\n                });\n            } else {\n                callback(null, true);\n            }\n        };\n        next(0);\n    };\n\n    var ep = new EventProxy();\n    ep.on('error', function (errData) {\n        if (!self._isRunningTask(TaskId)) return;\n        return callback(errData);\n    });\n\n    // \u5B58\u5728 UploadId\n    ep.on('upload_id_available', function (UploadData) {\n        // \u8F6C\u6362\u6210 map\n        var map = {};\n        var list = [];\n        util.each(UploadData.PartList, function (item) {\n            map[item.PartNumber] = item;\n        });\n        for (var PartNumber = 1; PartNumber <= SliceCount; PartNumber++) {\n            var item = map[PartNumber];\n            if (item) {\n                item.PartNumber = PartNumber;\n                item.Uploaded = true;\n            } else {\n                item = {\n                    PartNumber: PartNumber,\n                    ETag: null,\n                    Uploaded: false\n                };\n            }\n            list.push(item);\n        }\n        UploadData.PartList = list;\n        callback(null, UploadData);\n    });\n\n    // \u4E0D\u5B58\u5728 UploadId, \u521D\u59CB\u5316\u751F\u6210 UploadId\n    ep.on('no_available_upload_id', function () {\n        if (!self._isRunningTask(TaskId)) return;\n        var _params = util.extend({\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            Query: util.clone(params.Query),\n            StorageClass: StorageClass,\n            Body: params.Body,\n        }, params);\n        var headers = util.clone(params.Headers)\n        delete headers['x-cos-mime-limit'];\n        _params.Headers = headers;\n        self.multipartInit(_params, function (err, data) {\n            if (!self._isRunningTask(TaskId)) return;\n            if (err) return ep.emit('error', err);\n            var UploadId = data.UploadId;\n            if (!UploadId) {\n                return callback(util.error(new Error('no such upload id')));\n            }\n            ep.emit('upload_id_available', {UploadId: UploadId, PartList: []});\n        });\n    });\n\n    // \u5982\u679C\u5DF2\u5B58\u5728 UploadId\uFF0C\u627E\u4E00\u4E2A\u53EF\u4EE5\u7528\u7684 UploadId\n    ep.on('has_and_check_upload_id', function (UploadIdList) {\n        // \u4E32\u884C\u5730\uFF0C\u627E\u4E00\u4E2A\u5185\u5BB9\u4E00\u81F4\u7684 UploadId\n        UploadIdList = UploadIdList.reverse();\n        Async.eachLimit(UploadIdList, 1, function (UploadId, asyncCallback) {\n            if (!self._isRunningTask(TaskId)) return;\n            // \u5982\u679C\u6B63\u5728\u4E0A\u4F20\uFF0C\u8DF3\u8FC7\n            if (session.using[UploadId]) {\n                asyncCallback(); // \u68C0\u67E5\u4E0B\u4E00\u4E2A UploadId\n                return;\n            }\n            // \u5224\u65AD UploadId \u662F\u5426\u53EF\u7528\n            wholeMultipartListPart.call(self, {\n                Bucket: Bucket,\n                Region: Region,\n                Key: Key,\n                UploadId: UploadId,\n            }, function (err, PartListData) {\n                if (!self._isRunningTask(TaskId)) return;\n                if (err) {\n                    session.removeUsing(UploadId);\n                    return ep.emit('error', err);\n                }\n                var PartList = PartListData.PartList;\n                PartList.forEach(function (item) {\n                    item.PartNumber *= 1;\n                    item.Size *= 1;\n                    item.ETag = item.ETag || '';\n                });\n                isAvailableUploadList(PartList, function (err, isAvailable) {\n                    if (!self._isRunningTask(TaskId)) return;\n                    if (err) return ep.emit('error', err);\n                    if (isAvailable) {\n                        asyncCallback({\n                            UploadId: UploadId,\n                            PartList: PartList\n                        }); // \u9A6C\u4E0A\u7ED3\u675F\n                    } else {\n                        asyncCallback(); // \u68C0\u67E5\u4E0B\u4E00\u4E2A UploadId\n                    }\n                });\n            });\n        }, function (AvailableUploadData) {\n            if (!self._isRunningTask(TaskId)) return;\n            onHashProgress(null, true);\n            if (AvailableUploadData && AvailableUploadData.UploadId) {\n                ep.emit('upload_id_available', AvailableUploadData);\n            } else {\n                ep.emit('no_available_upload_id');\n            }\n        });\n    });\n\n    // \u5728\u672C\u5730\u7F13\u5B58\u627E\u53EF\u7528\u7684 UploadId\n    ep.on('seek_local_avail_upload_id', function (RemoteUploadIdList) {\n        // \u5728\u672C\u5730\u627E\u53EF\u7528\u7684 UploadId\n        var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key);\n        var LocalUploadIdList = session.getUploadIdList.call(self, uuid);\n        if (!uuid || !LocalUploadIdList) {\n            ep.emit('has_and_check_upload_id', RemoteUploadIdList);\n            return;\n        }\n        var next = function (index) {\n            // \u5982\u679C\u672C\u5730\u627E\u4E0D\u5230\u53EF\u7528 UploadId\uFF0C\u518D\u4E00\u4E2A\u4E2A\u904D\u5386\u6821\u9A8C\u8FDC\u7AEF\n            if (index >= LocalUploadIdList.length) {\n                ep.emit('has_and_check_upload_id', RemoteUploadIdList);\n                return;\n            }\n            var UploadId = LocalUploadIdList[index];\n            // \u5982\u679C\u4E0D\u5728\u8FDC\u7AEF UploadId \u5217\u8868\u91CC\uFF0C\u8DF3\u8FC7\u5E76\u5220\u9664\n            if (!util.isInArray(RemoteUploadIdList, UploadId)) {\n                session.removeUploadId.call(self, UploadId);\n                next(index + 1);\n                return;\n            }\n            // \u5982\u679C\u6B63\u5728\u4E0A\u4F20\uFF0C\u8DF3\u8FC7\n            if (session.using[UploadId]) {\n                next(index + 1);\n                return;\n            }\n            // \u5224\u65AD UploadId \u662F\u5426\u5B58\u5728\u7EBF\u4E0A\n            wholeMultipartListPart.call(self, {\n                Bucket: Bucket,\n                Region: Region,\n                Key: Key,\n                UploadId: UploadId,\n            }, function (err, PartListData) {\n                if (!self._isRunningTask(TaskId)) return;\n                if (err) {\n                    // \u5982\u679C UploadId \u83B7\u53D6\u4F1A\u51FA\u9519\uFF0C\u8DF3\u8FC7\u5E76\u5220\u9664\n                    session.removeUploadId.call(self, UploadId);\n                    next(index + 1);\n                } else {\n                    // \u627E\u5230\u53EF\u7528 UploadId\n                    ep.emit('upload_id_available', {\n                        UploadId: UploadId,\n                        PartList: PartListData.PartList,\n                    });\n                }\n            });\n        };\n        next(0);\n    });\n\n    // \u83B7\u53D6\u7EBF\u4E0A UploadId \u5217\u8868\n    ep.on('get_remote_upload_id_list', function () {\n        // \u83B7\u53D6\u7B26\u5408\u6761\u4EF6\u7684 UploadId \u5217\u8868\uFF0C\u56E0\u4E3A\u540C\u4E00\u4E2A\u6587\u4EF6\u53EF\u4EE5\u6709\u591A\u4E2A\u4E0A\u4F20\u4EFB\u52A1\u3002\n        wholeMultipartList.call(self, {\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n        }, function (err, data) {\n            if (!self._isRunningTask(TaskId)) return;\n            if (err) return ep.emit('error', err);\n            // \u6574\u7406\u8FDC\u7AEF UploadId \u5217\u8868\n            var RemoteUploadIdList = util.filter(data.UploadList, function (item) {\n                return item.Key === Key && (!StorageClass || item.StorageClass.toUpperCase() === StorageClass.toUpperCase());\n            }).reverse().map(function (item) {\n                return item.UploadId || item.UploadID;\n            });\n            if (RemoteUploadIdList.length) {\n                ep.emit('seek_local_avail_upload_id', RemoteUploadIdList);\n            } else {\n                // \u8FDC\u7AEF\u6CA1\u6709 UploadId\uFF0C\u6E05\u7406\u7F13\u5B58\u7684 UploadId\n                var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key), LocalUploadIdList;\n                if (uuid && (LocalUploadIdList = session.getUploadIdList.call(self, uuid))) {\n                    util.each(LocalUploadIdList, function (UploadId) {\n                        session.removeUploadId.call(self, UploadId);\n                    });\n                }\n                ep.emit('no_available_upload_id');\n            }\n        });\n    });\n\n    // \u5F00\u59CB\u627E\u53EF\u7528 UploadId\n    ep.emit('get_remote_upload_id_list');\n\n}\n\n// \u83B7\u53D6\u7B26\u5408\u6761\u4EF6\u7684\u5168\u90E8\u4E0A\u4F20\u4EFB\u52A1 (\u6761\u4EF6\u5305\u62EC Bucket, Region, Prefix)\nfunction wholeMultipartList(params, callback) {\n    var self = this;\n    var UploadList = [];\n    var sendParams = {\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Prefix: params.Key\n    };\n    var next = function () {\n        self.multipartList(sendParams, function (err, data) {\n            if (err) return callback(err);\n            UploadList.push.apply(UploadList, data.Upload || []);\n            if (data.IsTruncated === 'true') { // \u5217\u8868\u4E0D\u5B8C\u6574\n                sendParams.KeyMarker = data.NextKeyMarker;\n                sendParams.UploadIdMarker = data.NextUploadIdMarker;\n                next();\n            } else {\n                callback(null, {UploadList: UploadList});\n            }\n        });\n    };\n    next();\n}\n\n// \u83B7\u53D6\u6307\u5B9A\u4E0A\u4F20\u4EFB\u52A1\u7684\u5206\u5757\u5217\u8868\nfunction wholeMultipartListPart(params, callback) {\n    var self = this;\n    var PartList = [];\n    var sendParams = {\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        UploadId: params.UploadId\n    };\n    var next = function () {\n        self.multipartListPart(sendParams, function (err, data) {\n            if (err) return callback(err);\n            PartList.push.apply(PartList, data.Part || []);\n            if (data.IsTruncated === 'true') { // \u5217\u8868\u4E0D\u5B8C\u6574\n                sendParams.PartNumberMarker = data.NextPartNumberMarker;\n                next();\n            } else {\n                callback(null, {PartList: PartList});\n            }\n        });\n    };\n    next();\n}\n\n// \u4E0A\u4F20\u6587\u4EF6\u5206\u5757\uFF0C\u5305\u62EC\n/*\n UploadId (\u4E0A\u4F20\u4EFB\u52A1\u7F16\u53F7)\n AsyncLimit (\u5E76\u53D1\u91CF)\uFF0C\n SliceList (\u4E0A\u4F20\u7684\u5206\u5757\u6570\u7EC4)\uFF0C\n FilePath (\u672C\u5730\u6587\u4EF6\u7684\u4F4D\u7F6E)\uFF0C\n SliceSize (\u6587\u4EF6\u5206\u5757\u5927\u5C0F)\n FileSize (\u6587\u4EF6\u5927\u5C0F)\n onProgress (\u4E0A\u4F20\u6210\u529F\u4E4B\u540E\u7684\u56DE\u8C03\u51FD\u6570)\n */\nfunction uploadSliceList(params, cb) {\n    var self = this;\n    var TaskId = params.TaskId;\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var UploadData = params.UploadData;\n    var FileSize = params.FileSize;\n    var SliceSize = params.SliceSize;\n    var ChunkParallel = Math.min(params.AsyncLimit || self.options.ChunkParallelLimit || 1, 256);\n    var Body = params.Body;\n    var SliceCount = Math.ceil(FileSize / SliceSize);\n    var FinishSize = 0;\n    var ServerSideEncryption = params.ServerSideEncryption;\n    var Headers = params.Headers;\n    var needUploadSlices = util.filter(UploadData.PartList, function (SliceItem) {\n        if (SliceItem['Uploaded']) {\n            FinishSize += SliceItem['PartNumber'] >= SliceCount ? (FileSize % SliceSize || SliceSize) : SliceSize;\n        }\n        return !SliceItem['Uploaded'];\n    });\n    var onProgress = params.onProgress;\n\n    Async.eachLimit(needUploadSlices, ChunkParallel, function (SliceItem, asyncCallback) {\n        if (!self._isRunningTask(TaskId)) return;\n        var PartNumber = SliceItem['PartNumber'];\n        var currentSize = Math.min(FileSize, SliceItem['PartNumber'] * SliceSize) - (SliceItem['PartNumber'] - 1) * SliceSize;\n        var preAddSize = 0;\n        uploadSliceItem.call(self, {\n            TaskId: TaskId,\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            SliceSize: SliceSize,\n            FileSize: FileSize,\n            PartNumber: PartNumber,\n            ServerSideEncryption: ServerSideEncryption,\n            Body: Body,\n            UploadData: UploadData,\n            Headers: Headers,\n            onProgress: function (data) {\n                FinishSize += data.loaded - preAddSize;\n                preAddSize = data.loaded;\n                onProgress({loaded: FinishSize, total: FileSize});\n            },\n        }, function (err, data) {\n            if (!self._isRunningTask(TaskId)) return;\n            if (!err && !data.ETag) err = 'get ETag error, please add \"ETag\" to CORS ExposeHeader setting.( \u83B7\u53D6ETag\u5931\u8D25\uFF0C\u8BF7\u5728CORS ExposeHeader\u8BBE\u7F6E\u4E2D\u6DFB\u52A0ETag\uFF0C\u8BF7\u53C2\u8003\u6587\u6863\uFF1Ahttps://cloud.tencent.com/document/product/436/13318 )';\n            if (err) {\n                FinishSize -= preAddSize;\n            } else {\n                FinishSize += currentSize - preAddSize;\n                SliceItem.ETag = data.ETag;\n            }\n            onProgress({loaded: FinishSize, total: FileSize});\n            asyncCallback(err || null, data);\n        });\n    }, function (err) {\n        if (!self._isRunningTask(TaskId)) return;\n        if (err) return cb(err);\n        cb(null, {\n            UploadId: UploadData.UploadId,\n            SliceList: UploadData.PartList\n        });\n    });\n}\n\n// \u4E0A\u4F20\u6307\u5B9A\u5206\u7247\nfunction uploadSliceItem(params, callback) {\n    var self = this;\n    var TaskId = params.TaskId;\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var FileSize = params.FileSize;\n    var FileBody = params.Body;\n    var PartNumber = params.PartNumber * 1;\n    var SliceSize = params.SliceSize;\n    var ServerSideEncryption = params.ServerSideEncryption;\n    var UploadData = params.UploadData;\n    var Headers = params.Headers || {};\n    var ChunkRetryTimes = self.options.ChunkRetryTimes + 1;\n\n    var start = SliceSize * (PartNumber - 1);\n\n    var ContentLength = SliceSize;\n\n    var end = start + SliceSize;\n\n    if (end > FileSize) {\n        end = FileSize;\n        ContentLength = end - start;\n    }\n\n    var headersWhiteList = ['x-cos-traffic-limit', 'x-cos-mime-limit'];\n    var headers = {};\n    util.each(Headers, function(v, k) {\n        if (headersWhiteList.indexOf(k) > -1) {\n            headers[k] = v;\n        }\n    });\n\n    var PartItem = UploadData.PartList[PartNumber - 1];\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\n        if (!self._isRunningTask(TaskId)) return;\n        util.fileSlice(FileBody, start, end, true, function (Body) {\n            self.multipartUpload({\n                TaskId: TaskId,\n                Bucket: Bucket,\n                Region: Region,\n                Key: Key,\n                ContentLength: ContentLength,\n                PartNumber: PartNumber,\n                UploadId: UploadData.UploadId,\n                ServerSideEncryption: ServerSideEncryption,\n                Body: Body,\n                Headers: headers,\n                onProgress: params.onProgress,\n            }, function (err, data) {\n                if (!self._isRunningTask(TaskId)) return;\n                if (err) return tryCallback(err);\n                PartItem.Uploaded = true;\n                return tryCallback(null, data);\n            });\n        });\n    }, function (err, data) {\n        if (!self._isRunningTask(TaskId)) return;\n        return callback(err, data);\n    });\n}\n\n\n// \u5B8C\u6210\u5206\u5757\u4E0A\u4F20\nfunction uploadSliceComplete(params, callback) {\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var UploadId = params.UploadId;\n    var SliceList = params.SliceList;\n    var self = this;\n    var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\n    var Headers = params.Headers;\n    var Parts = SliceList.map(function (item) {\n        return {\n            PartNumber: item.PartNumber,\n            ETag: item.ETag\n        };\n    });\n    // \u5B8C\u6210\u4E0A\u4F20\u7684\u8BF7\u6C42\u4E5F\u505A\u91CD\u8BD5\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\n        self.multipartComplete({\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            UploadId: UploadId,\n            Parts: Parts,\n            Headers: Headers,\n        }, tryCallback);\n    }, function (err, data) {\n        callback(err, data);\n    });\n}\n\n// \u629B\u5F03\u5206\u5757\u4E0A\u4F20\u4EFB\u52A1\n/*\n AsyncLimit (\u629B\u5F03\u4E0A\u4F20\u4EFB\u52A1\u7684\u5E76\u53D1\u91CF)\uFF0C\n UploadId (\u4E0A\u4F20\u4EFB\u52A1\u7684\u7F16\u53F7\uFF0C\u5F53 Level \u4E3A task \u65F6\u5019\u9700\u8981)\n Level (\u629B\u5F03\u5206\u5757\u4E0A\u4F20\u4EFB\u52A1\u7684\u7EA7\u522B\uFF0Ctask : \u629B\u5F03\u6307\u5B9A\u7684\u4E0A\u4F20\u4EFB\u52A1\uFF0Cfile \uFF1A \u629B\u5F03\u6307\u5B9A\u7684\u6587\u4EF6\u5BF9\u5E94\u7684\u4E0A\u4F20\u4EFB\u52A1\uFF0C\u5176\u4ED6\u503C \uFF1A\u629B\u5F03\u6307\u5B9ABucket \u7684\u5168\u90E8\u4E0A\u4F20\u4EFB\u52A1)\n */\nfunction abortUploadTask(params, callback) {\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var UploadId = params.UploadId;\n    var Level = params.Level || 'task';\n    var AsyncLimit = params.AsyncLimit;\n    var self = this;\n\n    var ep = new EventProxy();\n\n    ep.on('error', function (errData) {\n        return callback(errData);\n    });\n\n    // \u5DF2\u7ECF\u83B7\u53D6\u5230\u9700\u8981\u629B\u5F03\u7684\u4EFB\u52A1\u5217\u8868\n    ep.on('get_abort_array', function (AbortArray) {\n        abortUploadTaskArray.call(self, {\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            Headers: params.Headers,\n            AsyncLimit: AsyncLimit,\n            AbortArray: AbortArray\n        }, callback);\n    });\n\n    if (Level === 'bucket') {\n        // Bucket \u7EA7\u522B\u7684\u4EFB\u52A1\u629B\u5F03\uFF0C\u629B\u5F03\u8BE5 Bucket \u4E0B\u7684\u5168\u90E8\u4E0A\u4F20\u4EFB\u52A1\n        wholeMultipartList.call(self, {\n            Bucket: Bucket,\n            Region: Region\n        }, function (err, data) {\n            if (err) return callback(err);\n            ep.emit('get_abort_array', data.UploadList || []);\n        });\n    } else if (Level === 'file') {\n        // \u6587\u4EF6\u7EA7\u522B\u7684\u4EFB\u52A1\u629B\u5F03\uFF0C\u629B\u5F03\u8BE5\u6587\u4EF6\u7684\u5168\u90E8\u4E0A\u4F20\u4EFB\u52A1\n        if (!Key) return callback(util.error(new Error('abort_upload_task_no_key')));\n        wholeMultipartList.call(self, {\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key\n        }, function (err, data) {\n            if (err) return callback(err);\n            ep.emit('get_abort_array', data.UploadList || []);\n        });\n    } else if (Level === 'task') {\n        // \u5355\u4E2A\u4EFB\u52A1\u7EA7\u522B\u7684\u4EFB\u52A1\u629B\u5F03\uFF0C\u629B\u5F03\u6307\u5B9A UploadId \u7684\u4E0A\u4F20\u4EFB\u52A1\n        if (!UploadId) return callback(util.error(new Error('abort_upload_task_no_id')));\n        if (!Key) return callback(util.error(new Error('abort_upload_task_no_key')));\n        ep.emit('get_abort_array', [{\n            Key: Key,\n            UploadId: UploadId\n        }]);\n    } else {\n        return callback(util.error(new Error('abort_unknown_level')));\n    }\n}\n\n// \u6279\u91CF\u629B\u5F03\u5206\u5757\u4E0A\u4F20\u4EFB\u52A1\nfunction abortUploadTaskArray(params, callback) {\n\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var AbortArray = params.AbortArray;\n    var AsyncLimit = params.AsyncLimit || 1;\n    var self = this;\n\n    var index = 0;\n    var resultList = new Array(AbortArray.length);\n    Async.eachLimit(AbortArray, AsyncLimit, function (AbortItem, nextItem) {\n        var eachIndex = index;\n        if (Key && Key !== AbortItem.Key) {\n            resultList[eachIndex] = {error: {KeyNotMatch: true}};\n            nextItem(null);\n            return;\n        }\n        var UploadId = AbortItem.UploadId || AbortItem.UploadID;\n\n        self.multipartAbort({\n            Bucket: Bucket,\n            Region: Region,\n            Key: AbortItem.Key,\n            Headers: params.Headers,\n            UploadId: UploadId\n        }, function (err) {\n            var task = {\n                Bucket: Bucket,\n                Region: Region,\n                Key: AbortItem.Key,\n                UploadId: UploadId\n            };\n            resultList[eachIndex] = {error: err, task: task};\n            nextItem(null);\n        });\n        index++;\n\n    }, function (err) {\n        if (err) return callback(err);\n\n        var successList = [];\n        var errorList = [];\n\n        for (var i = 0, len = resultList.length; i < len; i++) {\n            var item = resultList[i];\n            if (item['task']) {\n                if (item['error']) {\n                    errorList.push(item['task']);\n                } else {\n                    successList.push(item['task']);\n                }\n            }\n        }\n\n        return callback(null, {\n            successList: successList,\n            errorList: errorList\n        });\n    });\n}\n\n// \u9AD8\u7EA7\u4E0A\u4F20\nfunction uploadFile(params, callback) {\n    var self = this;\n\n    // \u5224\u65AD\u591A\u5927\u7684\u6587\u4EF6\u4F7F\u7528\u5206\u7247\u4E0A\u4F20\n    var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize;\n\n    var taskList = [];\n\n    var Body = params.Body;\n    var FileSize = Body.size || Body.length || 0;\n    var fileInfo = {TaskId: ''};\n\n    // \u6574\u7406 option\uFF0C\u7528\u4E8E\u8FD4\u56DE\u7ED9\u56DE\u8C03\n    util.each(params, function (v, k) {\n        if (typeof v !== 'object' && typeof v !== 'function') {\n            fileInfo[k] = v;\n        }\n    });\n\n    // \u5904\u7406\u6587\u4EF6 TaskReady\n    var _onTaskReady = params.onTaskReady;\n    var onTaskReady = function (tid) {\n        fileInfo.TaskId = tid;\n        _onTaskReady && _onTaskReady(tid);\n    };\n    params.onTaskReady = onTaskReady;\n\n    // \u5904\u7406\u6587\u4EF6\u5B8C\u6210\n    var _onFileFinish = params.onFileFinish;\n    var onFileFinish = function (err, data) {\n        _onFileFinish && _onFileFinish(err, data, fileInfo);\n        callback && callback(err, data);\n    };\n\n    // \u6DFB\u52A0\u4E0A\u4F20\u4EFB\u52A1,\u8D85\u8FC7\u9608\u503C\u4F7F\u7528\u5206\u5757\u4E0A\u4F20\uFF0C\u5C0F\u4E8E\u7B49\u4E8E\u5219\u7B80\u5355\u4E0A\u4F20\n    var api = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject';\n    taskList.push({\n        api: api,\n        params: params,\n        callback: onFileFinish,\n    });\n\n    self._addTasks(taskList);\n}\n\n// \u6279\u91CF\u4E0A\u4F20\u6587\u4EF6\nfunction uploadFiles(params, callback) {\n    var self = this;\n\n    // \u5224\u65AD\u591A\u5927\u7684\u6587\u4EF6\u4F7F\u7528\u5206\u7247\u4E0A\u4F20\n    var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize;\n\n    // \u6C47\u603B\u8FD4\u56DE\u8FDB\u5EA6\n    var TotalSize = 0;\n    var TotalFinish = 0;\n    var onTotalProgress = util.throttleOnProgress.call(self, TotalFinish, params.onProgress);\n\n    // \u6C47\u603B\u8FD4\u56DE\u56DE\u8C03\n    var unFinishCount = params.files.length;\n    var _onTotalFileFinish = params.onFileFinish;\n    var resultList = Array(unFinishCount);\n    var onTotalFileFinish = function (err, data, options) {\n        onTotalProgress(null, true);\n        _onTotalFileFinish && _onTotalFileFinish(err, data, options);\n        resultList[options.Index] = {\n            options: options,\n            error: err,\n            data: data\n        };\n        if (--unFinishCount <= 0 && callback) {\n            callback(null, {files: resultList});\n        }\n    };\n\n    // \u5F00\u59CB\u5904\u7406\u6BCF\u4E2A\u6587\u4EF6\n    var taskList = [];\n    util.each(params.files, function (fileParams, index) {\n        (function () { // \u5BF9\u9F50 nodejs \u7F29\u8FDB\n\n            var Body = fileParams.Body;\n            var FileSize = Body.size || Body.length || 0;\n            var fileInfo = {Index: index, TaskId: ''};\n\n            // \u66F4\u65B0\u6587\u4EF6\u603B\u5927\u5C0F\n            TotalSize += FileSize;\n\n            // \u6574\u7406 option\uFF0C\u7528\u4E8E\u8FD4\u56DE\u7ED9\u56DE\u8C03\n            util.each(fileParams, function (v, k) {\n                if (typeof v !== 'object' && typeof v !== 'function') {\n                    fileInfo[k] = v;\n                }\n            });\n\n            // \u5904\u7406\u5355\u4E2A\u6587\u4EF6 TaskReady\n            var _onTaskReady = fileParams.onTaskReady;\n            var onTaskReady = function (tid) {\n                fileInfo.TaskId = tid;\n                _onTaskReady && _onTaskReady(tid);\n            };\n            fileParams.onTaskReady = onTaskReady;\n\n            // \u5904\u7406\u5355\u4E2A\u6587\u4EF6\u8FDB\u5EA6\n            var PreAddSize = 0;\n            var _onProgress = fileParams.onProgress;\n            var onProgress = function (info) {\n                TotalFinish = TotalFinish - PreAddSize + info.loaded;\n                PreAddSize = info.loaded;\n                _onProgress && _onProgress(info);\n                onTotalProgress({loaded: TotalFinish, total: TotalSize});\n            };\n            fileParams.onProgress = onProgress;\n\n            // \u5904\u7406\u5355\u4E2A\u6587\u4EF6\u5B8C\u6210\n            var _onFileFinish = fileParams.onFileFinish;\n            var onFileFinish = function (err, data) {\n                _onFileFinish && _onFileFinish(err, data);\n                onTotalFileFinish && onTotalFileFinish(err, data, fileInfo);\n            };\n\n            // \u6DFB\u52A0\u4E0A\u4F20\u4EFB\u52A1\n            var api = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject';\n            taskList.push({\n                api: api,\n                params: fileParams,\n                callback: onFileFinish,\n            });\n        })();\n    });\n    self._addTasks(taskList);\n}\n\n// \u5206\u7247\u590D\u5236\u6587\u4EF6\nfunction sliceCopyFile(params, callback) {\n    var ep = new EventProxy();\n\n    var self = this;\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var CopySource = params.CopySource;\n    var m = util.getSourceParams.call(this, CopySource);\n    if (!m) {\n        callback(util.error(new Error('CopySource format error')));\n        return;\n    }\n\n    var SourceBucket = m.Bucket;\n    var SourceRegion = m.Region;\n    var SourceKey = decodeURIComponent(m.Key);\n    var CopySliceSize = params.CopySliceSize === undefined ? self.options.CopySliceSize : params.CopySliceSize;\n    CopySliceSize = Math.max(0, CopySliceSize);\n\n    var ChunkSize = params.CopyChunkSize || this.options.CopyChunkSize;\n    var ChunkParallel = this.options.CopyChunkParallelLimit;\n\n    var FinishSize = 0;\n    var FileSize;\n    var onProgress;\n\n    // \u5206\u7247\u590D\u5236\u5B8C\u6210\uFF0C\u5F00\u59CB multipartComplete \u64CD\u4F5C\n    ep.on('copy_slice_complete', function (UploadData) {\n        var metaHeaders = {};\n        util.each(params.Headers, function (val, k) {\n            if (k.toLowerCase().indexOf('x-cos-meta-') === 0) metaHeaders[k] = val;\n        });\n        var Parts = util.map(UploadData.PartList, function (item) {\n            return {\n                PartNumber: item.PartNumber,\n                ETag: item.ETag,\n            };\n        });\n        self.multipartComplete({\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            UploadId: UploadData.UploadId,\n            Parts: Parts,\n        },function (err, data) {\n            if (err) {\n                onProgress(null, true);\n                return callback(err);\n            }\n            onProgress({loaded: FileSize, total: FileSize}, true);\n            callback(null, data);\n        });\n    });\n\n    ep.on('get_copy_data_finish',function (UploadData) {\n        Async.eachLimit(UploadData.PartList, ChunkParallel, function (SliceItem, asyncCallback) {\n            var PartNumber = SliceItem.PartNumber;\n            var CopySourceRange = SliceItem.CopySourceRange;\n            var currentSize = SliceItem.end - SliceItem.start;\n\n            copySliceItem.call(self, {\n                Bucket: Bucket,\n                Region: Region,\n                Key: Key,\n                CopySource: CopySource,\n                UploadId: UploadData.UploadId,\n                PartNumber: PartNumber,\n                CopySourceRange: CopySourceRange,\n            },function (err,data) {\n                if (err) return asyncCallback(err);\n                FinishSize += currentSize;\n                onProgress({loaded: FinishSize, total: FileSize});\n                SliceItem.ETag = data.ETag;\n                asyncCallback(err || null, data);\n            });\n        }, function (err) {\n            if (err) {\n                onProgress(null, true);\n                return callback(err);\n            }\n\n            ep.emit('copy_slice_complete', UploadData);\n        });\n    });\n\n    ep.on('get_file_size_finish', function (SourceHeaders) {\n        // \u63A7\u5236\u5206\u7247\u5927\u5C0F\n        (function () {\n            var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\n            var AutoChunkSize = 1024 * 1024;\n            for (var i = 0; i < SIZE.length; i++) {\n                AutoChunkSize = SIZE[i] * 1024 * 1024;\n                if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\n            }\n            params.ChunkSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\n\n            var ChunkCount = Math.ceil(FileSize / ChunkSize);\n\n            var list = [];\n            for (var partNumber = 1; partNumber <= ChunkCount; partNumber++) {\n                var start = (partNumber - 1) * ChunkSize;\n                var end = partNumber * ChunkSize < FileSize ? (partNumber * ChunkSize - 1) : FileSize - 1;\n                var item = {\n                    PartNumber: partNumber,\n                    start: start,\n                    end: end,\n                    CopySourceRange: \"bytes=\" + start + \"-\" + end,\n                };\n                list.push(item);\n            }\n            params.PartList = list;\n        })();\n\n        var TargetHeader;\n        if (params.Headers['x-cos-metadata-directive'] === 'Replaced') {\n            TargetHeader = params.Headers;\n        } else {\n            TargetHeader = SourceHeaders;\n        }\n        TargetHeader['x-cos-storage-class'] = params.Headers['x-cos-storage-class'] || SourceHeaders['x-cos-storage-class'];\n        TargetHeader = util.clearKey(TargetHeader);\n        /**\n         * \u5BF9\u4E8E\u5F52\u6863\u5B58\u50A8\u7684\u5BF9\u8C61\uFF0C\u5982\u679C\u672A\u6062\u590D\u526F\u672C\uFF0C\u5219\u4E0D\u5141\u8BB8 Copy\n         */\n        if (SourceHeaders['x-cos-storage-class'] === 'ARCHIVE' || SourceHeaders['x-cos-storage-class'] === 'DEEP_ARCHIVE') {\n            var restoreHeader = SourceHeaders['x-cos-restore'];\n            if (!restoreHeader || restoreHeader === 'ongoing-request=\"true\"') {\n                callback(util.error(new Error('Unrestored archive object is not allowed to be copied')));\n                return;\n            }\n        }\n        /**\n         * \u53BB\u9664\u4E00\u4E9B\u65E0\u7528\u7684\u5934\u90E8\uFF0C\u89C4\u907F multipartInit \u51FA\u9519\n         * \u8FD9\u4E9B\u5934\u90E8\u901A\u5E38\u662F\u5728 putObjectCopy \u65F6\u624D\u4F7F\u7528\n         */\n        delete TargetHeader['x-cos-copy-source'];\n        delete TargetHeader['x-cos-metadata-directive'];\n        delete TargetHeader['x-cos-copy-source-If-Modified-Since'];\n        delete TargetHeader['x-cos-copy-source-If-Unmodified-Since'];\n        delete TargetHeader['x-cos-copy-source-If-Match'];\n        delete TargetHeader['x-cos-copy-source-If-None-Match'];\n        self.multipartInit({\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            Headers: TargetHeader,\n        },function (err,data) {\n            if (err) return callback(err);\n            params.UploadId = data.UploadId;\n            ep.emit('get_copy_data_finish', params);\n        });\n    });\n\n    // \u83B7\u53D6\u8FDC\u7AEF\u590D\u5236\u6E90\u6587\u4EF6\u7684\u5927\u5C0F\n    self.headObject({\n        Bucket: SourceBucket,\n        Region: SourceRegion,\n        Key: SourceKey,\n    },function(err, data) {\n        if (err) {\n            if (err.statusCode && err.statusCode === 404) {\n                callback(util.error(err, {ErrorStatus: SourceKey + ' Not Exist'}));\n            } else {\n                callback(err);\n            }\n            return;\n        }\n\n        FileSize = params.FileSize = data.headers['content-length'];\n        if (FileSize === undefined || !FileSize) {\n            callback(util.error(new Error('get Content-Length error, please add \"Content-Length\" to CORS ExposeHeader setting.\uFF08 \u83B7\u53D6Content-Length\u5931\u8D25\uFF0C\u8BF7\u5728CORS ExposeHeader\u8BBE\u7F6E\u4E2D\u6DFB\u52A0Content-Length\uFF0C\u8BF7\u53C2\u8003\u6587\u6863\uFF1Ahttps://cloud.tencent.com/document/product/436/13318 \uFF09')));\n            return;\n        }\n\n        onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\n\n        // \u5F00\u59CB\u4E0A\u4F20\n        if (FileSize <= CopySliceSize) {\n            if (!params.Headers['x-cos-metadata-directive']) {\n                params.Headers['x-cos-metadata-directive'] = 'Copy';\n            }\n            self.putObjectCopy(params, function (err, data) {\n                if (err) {\n                    onProgress(null, true);\n                    return callback(err);\n                }\n                onProgress({loaded: FileSize, total: FileSize}, true);\n                callback(err, data);\n            });\n        } else {\n            var resHeaders = data.headers;\n            var SourceHeaders = {\n                'Cache-Control': resHeaders['cache-control'],\n                'Content-Disposition': resHeaders['content-disposition'],\n                'Content-Encoding': resHeaders['content-encoding'],\n                'Content-Type': resHeaders['content-type'],\n                'Expires': resHeaders['expires'],\n                'x-cos-storage-class': resHeaders['x-cos-storage-class'],\n            };\n            util.each(resHeaders, function (v, k) {\n                var metaPrefix = 'x-cos-meta-';\n                if (k.indexOf(metaPrefix) === 0 && k.length > metaPrefix.length) {\n                    SourceHeaders[k] = v;\n                }\n            });\n            ep.emit('get_file_size_finish', SourceHeaders);\n        }\n    });\n}\n\n// \u590D\u5236\u6307\u5B9A\u5206\u7247\nfunction copySliceItem(params, callback) {\n    var TaskId = params.TaskId;\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var CopySource = params.CopySource;\n    var UploadId = params.UploadId;\n    var PartNumber = params.PartNumber * 1;\n    var CopySourceRange = params.CopySourceRange;\n\n    var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\n    var self = this;\n\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\n        self.uploadPartCopy({\n            TaskId: TaskId,\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            CopySource: CopySource,\n            UploadId: UploadId,\n            PartNumber:PartNumber,\n            CopySourceRange:CopySourceRange,\n        },function (err,data) {\n            tryCallback(err || null, data);\n        })\n    }, function (err, data) {\n        return callback(err, data);\n    });\n}\n\n\nvar API_MAP = {\n    sliceUploadFile: sliceUploadFile,\n    abortUploadTask: abortUploadTask,\n    uploadFile: uploadFile,\n    uploadFiles: uploadFiles,\n    sliceCopyFile: sliceCopyFile,\n};\n\nmodule.exports.init = function (COS, task) {\n    task.transferToTaskMethod(API_MAP, 'sliceUploadFile');\n    util.each(API_MAP, function (fn, apiName) {\n        COS.prototype[apiName] = util.apiWrapper(apiName, fn);\n    });\n};\n", "'use strict';\n\nvar util = require('./util');\nvar event = require('./event');\nvar task = require('./task');\nvar base = require('./base');\nvar advance = require('./advance');\n\nvar defaultOptions = {\n    AppId: '', // AppId \u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u62FC\u63A5\u5230 Bucket \u540E\u4F20\u5165\uFF0C\u4F8B\u5982\uFF1Atest-1250000000\n    SecretId: '',\n    SecretKey: '',\n    SecurityToken: '', // \u4F7F\u7528\u4E34\u65F6\u5BC6\u94A5\u9700\u8981\u6CE8\u610F\u81EA\u884C\u5237\u65B0 Token\n    ChunkRetryTimes: 2,\n    FileParallelLimit: 3,\n    ChunkParallelLimit: 3,\n    ChunkSize: 1024 * 1024,\n    SliceSize: 1024 * 1024,\n    CopyChunkParallelLimit: 20,\n    CopyChunkSize: 1024 * 1024 * 10,\n    CopySliceSize: 1024 * 1024 * 10,\n    MaxPartNumber: 10000,\n    ProgressInterval: 1000,\n    Domain: '',\n    ServiceDomain: '',\n    Protocol: '',\n    CompatibilityMode: false,\n    ForcePathStyle: false,\n    UseRawKey: false,\n    Timeout: 0, // \u5355\u4F4D\u6BEB\u79D2\uFF0C0 \u4EE3\u8868\u4E0D\u8BBE\u7F6E\u8D85\u65F6\u65F6\u95F4\n    CorrectClockSkew: true,\n    SystemClockOffset: 0, // \u5355\u4F4D\u6BEB\u79D2\uFF0Cms\n    UploadCheckContentMd5: false,\n    UploadQueueSize: 10000,\n    UploadAddMetaMd5: false,\n    UploadIdCacheLimit: 50,\n    UseAccelerate: false,\n};\n\n// \u5BF9\u5916\u66B4\u9732\u7684\u7C7B\nvar COS = function (options) {\n    this.options = util.extend(util.clone(defaultOptions), options || {});\n    this.options.FileParallelLimit = Math.max(1, this.options.FileParallelLimit);\n    this.options.ChunkParallelLimit = Math.max(1, this.options.ChunkParallelLimit);\n    this.options.ChunkRetryTimes = Math.max(0, this.options.ChunkRetryTimes);\n    this.options.ChunkSize = Math.max(1024 * 1024, this.options.ChunkSize);\n    this.options.CopyChunkParallelLimit = Math.max(1, this.options.CopyChunkParallelLimit);\n    this.options.CopyChunkSize = Math.max(1024 * 1024, this.options.CopyChunkSize);\n    this.options.CopySliceSize = Math.max(0, this.options.CopySliceSize);\n    this.options.MaxPartNumber = Math.max(1024, Math.min(10000, this.options.MaxPartNumber));\n    this.options.Timeout = Math.max(0, this.options.Timeout);\n    if (this.options.AppId) {\n        console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: \"test-1250000000\").');\n    }\n    if (this.options.SecretId && this.options.SecretId.indexOf(' ') > -1) {\n        console.error('error: SecretId\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5');\n        console.error('error: SecretId format is incorrect. Please check');\n    }\n    if (this.options.SecretKey && this.options.SecretKey.indexOf(' ') > -1) {\n      console.error('error: SecretKey\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5');\n      console.error('error: SecretKey format is incorrect. Please check');\n    }\n    if (util.isNode()) {\n      console.warn('warning: cos-js-sdk-v5 \u4E0D\u652F\u6301 nodejs \u73AF\u5883\u4F7F\u7528\uFF0C\u8BF7\u6539\u7528 cos-nodejs-sdk-v5\uFF0C\u53C2\u8003\u6587\u6863\uFF1A https://cloud.tencent.com/document/product/436/8629');\n      console.warn('warning: cos-js-sdk-v5 does not support nodejs environment. Please use cos-nodejs-sdk-v5 instead. See: https://cloud.tencent.com/document/product/436/8629');\n    }\n    event.init(this);\n    task.init(this);\n};\n\nbase.init(COS, task);\nadvance.init(COS, task);\n\nCOS.util = {\n    md5: util.md5,\n    xml2json: util.xml2json,\n    json2xml: util.json2xml,\n};\nCOS.getAuthorization = util.getAuth;\nCOS.version = '1.3.4';\n\nmodule.exports = COS;\n", "var COS = require('./src/cos');\nmodule.exports = COS;", "export default require(\"./node_modules/cos-js-sdk-v5/index.js\");"],
  "mappings": "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",
  "names": []
}
